(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters})),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),Grommet=__webpack_require__("./node_modules/grommet/es6/components/Grommet/Grommet.js"),dist=__webpack_require__("./node_modules/@hexhive/styles/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},decorators=[function(Story){return Object(jsx_runtime.jsx)(Grommet.a,{style:{flex:1,display:"flex"},theme:dist.BaseStyle,children:Object(jsx_runtime.jsx)(Story,{})})}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(module,exports,__webpack_require__){var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./components/AvatarList/AvatarList.stories.tsx":"./src/components/AvatarList/AvatarList.stories.tsx","./components/ColorDot/ColorDot.stories.tsx":"./src/components/ColorDot/ColorDot.stories.tsx","./components/DateInput/DateInput.stories.tsx":"./src/components/DateInput/DateInput.stories.tsx","./components/FileExplorer/FileExplorer.stories.tsx":"./src/components/FileExplorer/FileExplorer.stories.tsx","./components/FileViewer/FileViewer.stories.tsx":"./src/components/FileViewer/FileViewer.stories.tsx","./components/GraphGrid/GraphGrid.stories.tsx":"./src/components/GraphGrid/GraphGrid.stories.tsx","./components/Graphs/Graph.stories.tsx":"./src/components/Graphs/Graph.stories.tsx","./components/HeaderBox/HeaderBox.stories.tsx":"./src/components/HeaderBox/HeaderBox.stories.tsx","./components/InfiniteCanvas/InfiniteCanvas.stories.tsx":"./src/components/InfiniteCanvas/InfiniteCanvas.stories.tsx","./components/Kanban/Kanban.stories.tsx":"./src/components/Kanban/Kanban.stories.tsx","./components/ListBox/ListBox.stories.tsx":"./src/components/ListBox/ListBox.stories.tsx","./components/Timeline/Timeline.stories.tsx":"./src/components/Timeline/Timeline.stories.tsx","./modals/erp-modal/ERPModal.stories.tsx":"./src/modals/erp-modal/ERPModal.stories.tsx","./views/SidebarView/SidebarView.stories.tsx":"./src/views/SidebarView/SidebarView.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./src/components/AvatarList/AvatarList.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");var Avatar=__webpack_require__("./node_modules/grommet/es6/components/Avatar/Avatar.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AvatarList_AvatarList=function AvatarList(_ref){var _ref$users=_ref.users,users=void 0===_ref$users?[]:_ref$users,_ref$size=_ref.size,size=void 0===_ref$size?32:_ref$size;return Object(jsx_runtime.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:users.map((function(x,ix){var _x$name,style={width:size,height:size,fontSize:size/2,backgroundColor:x.color};return ix>0&&(style.transform="translateX(-"+size/2*ix+"px)"),Object(jsx_runtime.jsx)(Avatar.a,{style:style,children:Object(jsx_runtime.jsx)(Text.a,{color:"white",size:size*(5/8)+"px",children:null===(_x$name=x.name)||void 0===_x$name?void 0:_x$name.split(" ").map((function(x){return x[0]})).join("")})})}))})};AvatarList_AvatarList.displayName="AvatarList";try{AvatarList_AvatarList.displayName="AvatarList",AvatarList_AvatarList.__docgenInfo={description:"",displayName:"AvatarList",props:{users:{defaultValue:{value:"[]"},description:"",name:"users",required:!1,type:{name:"{ name?: string; color?: string; }[] | undefined"}},size:{defaultValue:{value:"32"},description:"",name:"size",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AvatarList/index.tsx#AvatarList"]={docgenInfo:AvatarList_AvatarList.__docgenInfo,name:"AvatarList",path:"src/components/AvatarList/index.tsx#AvatarList"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/AvatarList",component:AvatarList_AvatarList};var AvatarList_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(AvatarList_AvatarList,Object.assign({},args))};AvatarList_stories_Template.displayName="Template";var Primary=AvatarList_stories_Template.bind({});Primary.args={users:[{name:"John Doe",color:"red"},{name:"Bob Jones",color:"blue"}],size:48},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <AvatarList {...args} />\n)"}},Primary.parameters)},"./src/components/ColorDot/ColorDot.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var _ColorDot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ColorDot/ColorDot.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/ColorDot",component:_ColorDot__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{color:{control:"color"}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ColorDot__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={color:"green",size:10},Primary.parameters=Object.assign({storySource:{source:"(args) => <ColorDot {...args} />"}},Primary.parameters)},"./src/components/ColorDot/ColorDot.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ColorDot}));__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),ColorDot=function ColorDot(_ref){var size=_ref.size,color=_ref.color;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"hive-color-dot",role:"color-dot",style:{marginRight:8,background:color,borderRadius:2*size,height:size,width:size}})};ColorDot.displayName="ColorDot";try{ColorDot.displayName="ColorDot",ColorDot.__docgenInfo={description:"",displayName:"ColorDot",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ColorDot/ColorDot.tsx#ColorDot"]={docgenInfo:ColorDot.__docgenInfo,name:"ColorDot",path:"src/components/ColorDot/ColorDot.tsx#ColorDot"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/DateInput/DateInput.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),DateInput_DateInput=__webpack_require__("./node_modules/grommet/es6/components/DateInput/DateInput.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),DateInput_DateInput_DateInput=function DateInput(props){var locale=Intl.DateTimeFormat().resolvedOptions().locale,longDateFormat=moment_default.a.localeData(locale).longDateFormat("L").toLowerCase();return Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(DateInput_DateInput.a,{format:props.format||longDateFormat||"dd/mm/yyyy",value:props.value,onChange:props.onChange&&function(_ref){var _props$onChange,value=_ref.value;return null===(_props$onChange=props.onChange)||void 0===_props$onChange?void 0:_props$onChange.call(props,value.toLocaleString())}})})};DateInput_DateInput_DateInput.displayName="DateInput";try{DateInput_DateInput_DateInput.displayName="DateInput",DateInput_DateInput_DateInput.__docgenInfo={description:"",displayName:"DateInput",props:{format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((date: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateInput/DateInput.tsx#DateInput"]={docgenInfo:DateInput_DateInput_DateInput.__docgenInfo,name:"DateInput",path:"src/components/DateInput/DateInput.tsx#DateInput"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Components/DateInput",component:DateInput_DateInput_DateInput,argTypes:{color:{control:"color"}}};var DateInput_stories_Template=function Template(args){var _useState2=_slicedToArray(Object(react.useState)(),2),date=_useState2[0],setDate=_useState2[1];return Object(jsx_runtime.jsx)(Box.a,{direction:"column",children:Object(jsx_runtime.jsx)(DateInput_DateInput_DateInput,Object.assign({value:date,onChange:function onChange(date){return setDate(date)}},args))})};DateInput_stories_Template.displayName="Template";var Primary=DateInput_stories_Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"(args) => {\n    const [ date, setDate ] = useState<string>();\n\n    return <Box direction='column'>\n        <DateInput value={date} onChange={(date) => setDate(date)} {...args} />\n      </Box>\n}"}},Primary.parameters)},"./src/components/FileExplorer/FileExplorer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Files",(function(){return Files})),__webpack_require__.d(__webpack_exports__,"Folders",(function(){return Folders})),__webpack_require__.d(__webpack_exports__,"Uploads",(function(){return Uploads}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),Box=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js")),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),List=__webpack_require__("./node_modules/grommet-icons/es6/icons/List.js"),AppsRounded=__webpack_require__("./node_modules/grommet-icons/es6/icons/AppsRounded.js"),Apps=__webpack_require__("./node_modules/grommet-icons/es6/icons/Apps.js"),DownloadOption=__webpack_require__("./node_modules/grommet-icons/es6/icons/DownloadOption.js"),UploadOption=__webpack_require__("./node_modules/grommet-icons/es6/icons/UploadOption.js"),Update=__webpack_require__("./node_modules/grommet-icons/es6/icons/Update.js"),FormFolder=__webpack_require__("./node_modules/grommet-icons/es6/icons/FormFolder.js"),Home=__webpack_require__("./node_modules/grommet-icons/es6/icons/Home.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),breadcrumbs_Breadcrumbs=function Breadcrumbs(props){return Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",children:[Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){return props.onBreadcrumbClick("")},plain:!0,style:{padding:6,borderRadius:3},icon:Object(jsx_runtime.jsx)(Home.a,{size:"small"}),hoverIndicator:"accent-1"}),props.breadcrumbs.length<1&&"/",props.breadcrumbs.map((function(crumb,ix){return Object(jsx_runtime.jsxs)(Box.a,{direction:"row",children:[0==ix&&"/",Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){return props.onBreadcrumbClick(props.breadcrumbs.slice(0,ix+1).map((function(x){return x.name})).join("/"))},style:{borderRadius:3,padding:"2px"},hoverIndicator:!0,plain:!0,label:crumb.name}),props.breadcrumbs.length-1>ix&&"/"]})}))]})};breadcrumbs_Breadcrumbs.displayName="Breadcrumbs";try{breadcrumbs_Breadcrumbs.displayName="Breadcrumbs",breadcrumbs_Breadcrumbs.__docgenInfo={description:"",displayName:"Breadcrumbs",props:{breadcrumbs:{defaultValue:null,description:"",name:"breadcrumbs",required:!0,type:{name:"{ name: string; id?: string | undefined; }[]"}},onBreadcrumbClick:{defaultValue:null,description:"",name:"onBreadcrumbClick",required:!0,type:{name:"(crumb: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/components/breadcrumbs/index.tsx#Breadcrumbs"]={docgenInfo:breadcrumbs_Breadcrumbs.__docgenInfo,name:"Breadcrumbs",path:"src/components/FileExplorer/components/breadcrumbs/index.tsx#Breadcrumbs"})}catch(__react_docgen_typescript_loader_error){}var FileExplorerContext=react_default.a.createContext({}),context_useFileExplorer=function useFileExplorer(){return Object(react.useContext)(FileExplorerContext)},Previous=__webpack_require__("./node_modules/grommet-icons/es6/icons/Previous.js"),Next=__webpack_require__("./node_modules/grommet-icons/es6/icons/Next.js"),header_ActionHeader=function ActionHeader(props){var context=context_useFileExplorer(),actions=(context.view,context.setView,context.actions);return Object(jsx_runtime.jsxs)(Box.a,{background:"accent-2",justify:"between",direction:"row",children:[Object(jsx_runtime.jsxs)(Box.a,{direction:"row",children:[Object(jsx_runtime.jsx)(Button.a,{disabled:history.index<=0,plain:!0,style:{padding:6},onClick:props.onPrev,hoverIndicator:!0,icon:Object(jsx_runtime.jsx)(Previous.a,{size:"18px"})}),Object(jsx_runtime.jsx)(Button.a,{disabled:history.index>=history.length,plain:!0,style:{padding:8},onClick:props.onNext,hoverIndicator:!0,icon:Object(jsx_runtime.jsx)(Next.a,{size:"18px"})})]}),Object(jsx_runtime.jsx)(Box.a,{direction:"row",children:null==actions?void 0:actions.map((function(action){return Object(jsx_runtime.jsx)(Button.a,{size:"small",plain:!0,style:{padding:8},onClick:action.onClick,disabled:action.disabled instanceof Function?action.disabled(context):action.disabled,hoverIndicator:!0,icon:react_default.a.cloneElement(null==action?void 0:action.icon,{size:"18px"}),title:action.key})}))})]})};header_ActionHeader.displayName="ActionHeader";try{header_ActionHeader.displayName="ActionHeader",header_ActionHeader.__docgenInfo={description:"",displayName:"ActionHeader",props:{onNext:{defaultValue:null,description:"",name:"onNext",required:!1,type:{name:"(() => void)"}},onPrev:{defaultValue:null,description:"",name:"onPrev",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/components/header/index.tsx#ActionHeader"]={docgenInfo:header_ActionHeader.__docgenInfo,name:"ActionHeader",path:"src/components/FileExplorer/components/header/index.tsx#ActionHeader"})}catch(__react_docgen_typescript_loader_error){}var Layer=__webpack_require__("./node_modules/grommet/es6/components/Layer/Layer.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),LinkNext=__webpack_require__("./node_modules/grommet-icons/es6/icons/LinkNext.js"),preview_drawer_PreviewDrawer=function PreviewDrawer(props){var _props$data,selectFile=context_useFileExplorer().selectFile;return Object(jsx_runtime.jsx)(Layer.a,{modal:!1,position:"right",children:Object(jsx_runtime.jsxs)(Box.a,{width:"30vw",height:"100vh",children:[Object(jsx_runtime.jsxs)(Box.a,{background:"accent-2",align:"center",direction:"row",children:[Object(jsx_runtime.jsx)(Button.a,{onClick:function onClose(){null==selectFile||selectFile(void 0)},hoverIndicator:!0,icon:Object(jsx_runtime.jsx)(LinkNext.a,{})}),Object(jsx_runtime.jsx)(Text.a,{children:null===(_props$data=props.data)||void 0===_props$data?void 0:_props$data.name})]}),Object(jsx_runtime.jsx)(Text.a,{children:"Preview"})]})})};preview_drawer_PreviewDrawer.displayName="PreviewDrawer";try{preview_drawer_PreviewDrawer.displayName="PreviewDrawer",preview_drawer_PreviewDrawer.__docgenInfo={description:"",displayName:"PreviewDrawer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/components/preview-drawer/index.tsx#PreviewDrawer"]={docgenInfo:preview_drawer_PreviewDrawer.__docgenInfo,name:"PreviewDrawer",path:"src/components/FileExplorer/components/preview-drawer/index.tsx#PreviewDrawer"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var DocumentPdf=__webpack_require__("./node_modules/grommet-icons/es6/icons/DocumentPdf.js"),defaultIcons_DEFAULT_ICONS=function DEFAULT_ICONS(file){var _file$name;if(null!==(_file$name=file.name)&&void 0!==_file$name&&_file$name.indexOf(".pdf"))return Object(jsx_runtime.jsx)(DocumentPdf.a,{size:"42px"})};try{defaultIcons_DEFAULT_ICONS.displayName="DEFAULT_ICONS",defaultIcons_DEFAULT_ICONS.__docgenInfo={description:"",displayName:"DEFAULT_ICONS",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},isFolder:{defaultValue:null,description:"",name:"isFolder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/defaults/defaultIcons.tsx#DEFAULT_ICONS"]={docgenInfo:defaultIcons_DEFAULT_ICONS.__docgenInfo,name:"DEFAULT_ICONS",path:"src/components/FileExplorer/defaults/defaultIcons.tsx#DEFAULT_ICONS"})}catch(__react_docgen_typescript_loader_error){}var TextInput=__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js"),folder_modal_FolderModal=function FolderModal(props){return props.open?Object(jsx_runtime.jsx)(Layer.a,{children:Object(jsx_runtime.jsxs)(Box.a,{round:"xsmall",width:"medium",children:[Object(jsx_runtime.jsx)(Box.a,{pad:"xsmall",background:"accent-2",direction:"row",children:Object(jsx_runtime.jsx)(Text.a,{children:"Create folder"})}),Object(jsx_runtime.jsx)(Box.a,{pad:"xsmall",children:Object(jsx_runtime.jsx)(TextInput.a,{placeholder:"Folder name"})}),Object(jsx_runtime.jsxs)(Box.a,{pad:"xsmall",justify:"end",gap:"xxsmall",direction:"row",children:[Object(jsx_runtime.jsx)(Button.a,{label:"Cancel"}),Object(jsx_runtime.jsx)(Button.a,{primary:!0,label:"Submit"})]})]})}):null};try{folder_modal_FolderModal.displayName="FolderModal",folder_modal_FolderModal.__docgenInfo={description:"",displayName:"FolderModal",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/modals/folder-modal/index.tsx#FolderModal"]={docgenInfo:folder_modal_FolderModal.__docgenInfo,name:"FolderModal",path:"src/components/FileExplorer/modals/folder-modal/index.tsx#FolderModal"})}catch(__react_docgen_typescript_loader_error){}var Grid=__webpack_require__("./node_modules/grommet/es6/components/Grid/Grid.js"),GridCard_GridCard=function GridCard(props){var _props$data,_props$data2;return Object(jsx_runtime.jsxs)(Box.a,{style:{cursor:"pointer"},onClick:props.onClick,round:"xsmall",background:"neutral-1",elevation:"small",children:[Object(jsx_runtime.jsx)(Box.a,{flex:!0,align:"center",justify:"center",children:null===(_props$data=props.data)||void 0===_props$data?void 0:_props$data.icon}),Object(jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",children:Object(jsx_runtime.jsx)(Text.a,{children:null===(_props$data2=props.data)||void 0===_props$data2?void 0:_props$data2.name})})]})};GridCard_GridCard.displayName="GridCard";try{GridCard_GridCard.displayName="GridCard",GridCard_GridCard.__docgenInfo={description:"",displayName:"GridCard",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"IFile"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/views/grid/GridCard.tsx#GridCard"]={docgenInfo:GridCard_GridCard.__docgenInfo,name:"GridCard",path:"src/components/FileExplorer/views/grid/GridCard.tsx#GridCard"})}catch(__react_docgen_typescript_loader_error){}var grid_GridView=function GridView(props){var _useFileExplorer=context_useFileExplorer(),files=_useFileExplorer.files,selectFile=_useFileExplorer.selectFile,selected=_useFileExplorer.selected;return Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(Grid.a,{gap:"xsmall",rows:"small",columns:"small",children:null==files?void 0:files.map((function(file){return Object(jsx_runtime.jsx)(GridCard_GridCard,{onClick:function onClick(){return null==selectFile?void 0:selectFile(file.id,!((selected||[]).indexOf(file.id||"")>-1))},data:file})}))})})};grid_GridView.displayName="GridView";try{grid_GridView.displayName="GridView",grid_GridView.__docgenInfo={description:"",displayName:"GridView",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/views/grid/index.tsx#GridView"]={docgenInfo:grid_GridView.__docgenInfo,name:"GridView",path:"src/components/FileExplorer/views/grid/index.tsx#GridView"})}catch(__react_docgen_typescript_loader_error){}var List_List=__webpack_require__("./node_modules/grommet/es6/components/List/List.js"),CheckBox=__webpack_require__("./node_modules/grommet/es6/components/CheckBox/CheckBox.js"),Folder=__webpack_require__("./node_modules/grommet-icons/es6/icons/Folder.js"),Document=__webpack_require__("./node_modules/grommet-icons/es6/icons/Document.js"),More=__webpack_require__("./node_modules/grommet-icons/es6/icons/More.js"),humanFileSize=(__webpack_require__("./node_modules/core-js/modules/es.number.to-fixed.js"),function humanFileSize(bytes){var si=arguments.length>1&&void 0!==arguments[1]&&arguments[1],dp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,thresh=si?1e3:1024;if(Math.abs(bytes)<thresh)return bytes+" B";var units=si?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],u=-1,r=Math.pow(10,dp);do{bytes/=thresh,++u}while(Math.round(Math.abs(bytes)*r)/r>=thresh&&u<units.length-1);return bytes.toFixed(dp)+" "+units[u]}),list_ListView=function ListView(props){var _useFileExplorer=context_useFileExplorer(),files=_useFileExplorer.files,navigate=_useFileExplorer.navigate,selectFile=_useFileExplorer.selectFile,clickFile=_useFileExplorer.clickFile,selected=_useFileExplorer.selected;return Object(jsx_runtime.jsx)(Box.a,{focusIndicator:!1,children:Object(jsx_runtime.jsx)(List_List.a,{pad:"none",data:files,children:function children(datum){return Object(jsx_runtime.jsxs)(Box.a,{focusIndicator:!1,style:{cursor:"pointer"},align:"center",direction:"row",children:[Object(jsx_runtime.jsx)(CheckBox.a,{checked:(selected||"").indexOf(datum.id||"")>-1,onChange:function onChange(e){e.stopPropagation(),null==selectFile||selectFile(datum.id||"",e.target.checked)}}),Object(jsx_runtime.jsxs)(Box.a,{flex:!0,hoverIndicator:!0,justify:"between",onClick:function onClick(e){datum.isFolder?null==navigate||navigate(datum.name||""):null==clickFile||clickFile(datum)},direction:"row",children:[Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",children:[Object(jsx_runtime.jsx)(Box.a,{pad:"xsmall",children:datum.isFolder?Object(jsx_runtime.jsx)(Folder.a,{}):Object(jsx_runtime.jsx)(Document.a,{})}),Object(jsx_runtime.jsx)(Text.a,{children:datum.name})]}),Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",children:[Object(jsx_runtime.jsx)(Text.a,{children:humanFileSize(datum.size||0)}),Object(jsx_runtime.jsx)(Button.a,{hoverIndicator:!0,style:{padding:3},icon:Object(jsx_runtime.jsx)(More.a,{})})]})]})]},datum.id)}})})};list_ListView.displayName="ListView";try{list_ListView.displayName="ListView",list_ListView.__docgenInfo={description:"",displayName:"ListView",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/views/list/index.tsx#ListView"]={docgenInfo:list_ListView.__docgenInfo,name:"ListView",path:"src/components/FileExplorer/views/list/index.tsx#ListView"})}catch(__react_docgen_typescript_loader_error){}var ThumbnailCard_ThumbnailCard=function ThumbnailCard(props){var _props$data3,_props$data4,_useFileExplorer=context_useFileExplorer(),selectFile=_useFileExplorer.selectFile,selected=_useFileExplorer.selected;return Object(jsx_runtime.jsxs)(Box.a,{style:{cursor:"pointer"},onClick:function onClick(){var _props$data,_props$data2;return null==selectFile?void 0:selectFile(null===(_props$data=props.data)||void 0===_props$data?void 0:_props$data.id,!((selected||[]).indexOf((null===(_props$data2=props.data)||void 0===_props$data2?void 0:_props$data2.id)||"")>-1))},round:"xsmall",background:"neutral-1",elevation:"small",children:[Object(jsx_runtime.jsx)(Box.a,{direction:"row",justify:"end",children:Object(jsx_runtime.jsx)(Button.a,{size:"small",hoverIndicator:!0,icon:Object(jsx_runtime.jsx)(More.a,{size:"medium"})})}),Object(jsx_runtime.jsxs)(Box.a,{flex:!0,pad:{horizontal:"small"},direction:"row",children:[Object(jsx_runtime.jsx)(Box.a,{flex:!0,background:"black",children:"Preview"}),Object(jsx_runtime.jsxs)(Box.a,{align:"center",pad:"xsmall",flex:!0,children:[Object(jsx_runtime.jsx)(Text.a,{children:null===(_props$data3=props.data)||void 0===_props$data3?void 0:_props$data3.name}),Object(jsx_runtime.jsx)(Text.a,{children:humanFileSize((null===(_props$data4=props.data)||void 0===_props$data4?void 0:_props$data4.size)||0)})]})]})]})};ThumbnailCard_ThumbnailCard.displayName="ThumbnailCard";try{ThumbnailCard_ThumbnailCard.displayName="ThumbnailCard",ThumbnailCard_ThumbnailCard.__docgenInfo={description:"",displayName:"ThumbnailCard",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"IFile"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/views/thumbnail/ThumbnailCard.tsx#ThumbnailCard"]={docgenInfo:ThumbnailCard_ThumbnailCard.__docgenInfo,name:"ThumbnailCard",path:"src/components/FileExplorer/views/thumbnail/ThumbnailCard.tsx#ThumbnailCard"})}catch(__react_docgen_typescript_loader_error){}var thumbnail_ThumbnailView=function ThumbnailView(props){var files=context_useFileExplorer().files;return Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(Grid.a,{gap:"small",rows:"small",columns:"medium",children:null==files?void 0:files.map((function(file){return Object(jsx_runtime.jsx)(ThumbnailCard_ThumbnailCard,{data:file})}))})})};thumbnail_ThumbnailView.displayName="ThumbnailView";try{thumbnail_ThumbnailView.displayName="ThumbnailView",thumbnail_ThumbnailView.__docgenInfo={description:"",displayName:"ThumbnailView",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/views/thumbnail/index.tsx#ThumbnailView"]={docgenInfo:thumbnail_ThumbnailView.__docgenInfo,name:"ThumbnailView",path:"src/components/FileExplorer/views/thumbnail/index.tsx#ThumbnailView"})}catch(__react_docgen_typescript_loader_error){}var es=__webpack_require__("./node_modules/react-dropzone/dist/es/index.js"),missing_preview_MissingPreview=function MissingPreview(){return Object(jsx_runtime.jsx)("div",{children:"Missing preview"})};missing_preview_MissingPreview.displayName="MissingPreview";try{missing_preview_MissingPreview.displayName="MissingPreview",missing_preview_MissingPreview.__docgenInfo={description:"",displayName:"MissingPreview",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/components/missing-preview/index.tsx#MissingPreview"]={docgenInfo:missing_preview_MissingPreview.__docgenInfo,name:"MissingPreview",path:"src/components/FileExplorer/components/missing-preview/index.tsx#MissingPreview"})}catch(__react_docgen_typescript_loader_error){}var Collapsible=__webpack_require__("./node_modules/grommet/es6/components/Collapsible/Collapsible.js"),Meter=__webpack_require__("./node_modules/grommet/es6/components/Meter/Meter.js"),Down=__webpack_require__("./node_modules/grommet-icons/es6/icons/Down.js"),Up=__webpack_require__("./node_modules/grommet-icons/es6/icons/Up.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var upload_drawer_UploadDrawer=function UploadDrawer(props){var _useState2=_slicedToArray(Object(react.useState)(!0),2),expanded=_useState2[0],setExpanded=_useState2[1],uploading=context_useFileExplorer().uploading;return Object(jsx_runtime.jsxs)(Box.a,{round:{corner:"top",size:"xsmall"},overflow:"hidden",background:"neutral-2",height:{max:"200px"},width:"small",style:{position:"absolute",right:6,bottom:0},children:[Object(jsx_runtime.jsxs)(Box.a,{justify:"between",align:"center",direction:"row",background:"accent-2",pad:"xsmall",children:[Object(jsx_runtime.jsx)(Text.a,{children:"Uploads"}),Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){return setExpanded(!expanded)},hoverIndicator:!0,plain:!0,size:"small",icon:expanded?Object(jsx_runtime.jsx)(Down.a,{size:"15px",style:{padding:4}}):Object(jsx_runtime.jsx)(Up.a,{size:"15px",style:{padding:4}})})]}),Object(jsx_runtime.jsx)(Collapsible.a,{open:expanded,children:Object(jsx_runtime.jsx)(Box.a,{height:{min:"100px"},overflow:"scroll",flex:!0,children:Object(jsx_runtime.jsx)(List_List.a,{pad:"none",data:uploading,children:function children(datum){return Object(jsx_runtime.jsxs)(Box.a,{pad:"xsmall",align:"center",justify:"between",direction:"row",children:[Object(jsx_runtime.jsx)(Text.a,{children:datum.name}),Object(jsx_runtime.jsx)(Box.a,{width:"20px",height:"20px",children:Object(jsx_runtime.jsx)(Meter.a,{size:"xsmall",type:"pie",value:datum.percent})})]})}})})})]})};upload_drawer_UploadDrawer.displayName="UploadDrawer";try{upload_drawer_UploadDrawer.displayName="UploadDrawer",upload_drawer_UploadDrawer.__docgenInfo={description:"",displayName:"UploadDrawer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/components/upload-drawer/index.tsx#UploadDrawer"]={docgenInfo:upload_drawer_UploadDrawer.__docgenInfo,name:"UploadDrawer",path:"src/components/FileExplorer/components/upload-drawer/index.tsx#UploadDrawer"})}catch(__react_docgen_typescript_loader_error){}var node_modules_history=__webpack_require__("./node_modules/history/index.js"),history_history=Object(node_modules_history.d)();function FileExplorer_slicedToArray(arr,i){return function FileExplorer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FileExplorer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function FileExplorer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return FileExplorer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FileExplorer_arrayLikeToArray(o,minLen)}(arr,i)||function FileExplorer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FileExplorer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FileExplorer_FileExplorer=function FileExplorer(props){var _props$files2,_props$previewEngines,_props$previewEngines2,_props$files5,_props$files6,modes=[{key:"list",icon:Object(jsx_runtime.jsx)(List.a,{})},{key:"thumbnail",icon:Object(jsx_runtime.jsx)(AppsRounded.a,{})},{key:"grid",icon:Object(jsx_runtime.jsx)(Apps.a,{})}],_useState2=FileExplorer_slicedToArray(Object(react.useState)([]),2),_useState4=(_useState2[0],_useState2[1],FileExplorer_slicedToArray(Object(react.useState)(-1),2)),_useState6=(_useState4[0],_useState4[1],FileExplorer_slicedToArray(Object(react.useState)([]),2)),breadcrumbs=_useState6[0],setBreadcrumbs=_useState6[1],_useState8=FileExplorer_slicedToArray(Object(react.useState)("list"),2),view=_useState8[0],setView=_useState8[1];Object(react.useEffect)((function(){var _props$refetchFiles;console.log({path:props.path}),setBreadcrumbs(props.path.split("/").slice(1).map((function(x){return{name:x}}))),null===(_props$refetchFiles=props.refetchFiles)||void 0===_props$refetchFiles||_props$refetchFiles.call(props,props.path)}),[props.path]),Object(react.useEffect)((function(){}),[]);var views={list:Object(jsx_runtime.jsx)(list_ListView,{}),grid:Object(jsx_runtime.jsx)(grid_GridView,{}),thumbnail:Object(jsx_runtime.jsx)(thumbnail_ThumbnailView,{})},_useState10=FileExplorer_slicedToArray(Object(react.useState)(null),2),preview=_useState10[0],formatFile=(_useState10[1],function formatFile(file){return Object.assign({},file,{icon:defaultIcons_DEFAULT_ICONS(file)})}),_useDropzone=Object(es.a)({onDrop:function onDrop(acceptedFiles){console.log(acceptedFiles),props.onDrop(acceptedFiles)},noClick:!0}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive;return Object(jsx_runtime.jsxs)(FileExplorerContext.Provider,{value:{navigate:function onNavigate(path){console.log({path:path});var parts=props.path.split("/").slice(1).filter((function(a){return a.length>0}));parts.push(path),props.onNavigate("/"+parts.join("/"))},files:Array.isArray(props.files)?null===(_props$files2=props.files)||void 0===_props$files2?void 0:_props$files2.map(formatFile):props.files?[formatFile(props.files)]:[],uploading:props.uploading||[],selected:props.selected,clickFile:props.onClick,selectFile:function selectFile(id,checked){var _props$onSelect,_props$onDeselect;return id&&(checked?null===(_props$onSelect=props.onSelect)||void 0===_props$onSelect?void 0:_props$onSelect.call(props,id):null===(_props$onDeselect=props.onDeselect)||void 0===_props$onDeselect?void 0:_props$onDeselect.call(props,id))},view:view,setView:setView,actions:props.actions||[{key:"download",icon:Object(jsx_runtime.jsx)(DownloadOption.a,{}),disabled:function disabled(state){var _state$files;return((null===(_state$files=state.files)||void 0===_state$files?void 0:_state$files.length)||0)<2}},{key:"upload",icon:Object(jsx_runtime.jsx)(UploadOption.a,{})},{key:"convert",icon:Object(jsx_runtime.jsx)(Update.a,{})},{key:"organise",icon:Object(jsx_runtime.jsx)(FormFolder.a,{})}]},children:[Object(jsx_runtime.jsx)(folder_modal_FolderModal,{open:!1}),Object(jsx_runtime.jsxs)(Box.a,{overflow:"hidden",elevation:"small",focusIndicator:!1,round:"xsmall",flex:!0,style:{position:"relative"},background:"neutral-1",direction:"column",children:[Object(jsx_runtime.jsx)(header_ActionHeader,{onNext:function goNext(){history_history.forward()},onPrev:function goPrev(){history_history.back()}}),Object(jsx_runtime.jsxs)(Box.a,{elevation:"small",pad:{horizontal:"xsmall"},margin:{top:"xsmall"},align:"center",justify:"between",direction:"row",children:[Object(jsx_runtime.jsx)(breadcrumbs_Breadcrumbs,{onBreadcrumbClick:function onBreadcrumbClick(crumb){return props.onNavigate("/"+crumb)},breadcrumbs:breadcrumbs||[]}),Object(jsx_runtime.jsx)(Box.a,{round:{size:"small"},background:"brand",direction:"row",align:"center",children:modes.map((function(mode){return Object(jsx_runtime.jsx)(Button.a,{color:"brand",plain:!0,style:{padding:4},active:view==mode.key,size:"small",icon:react_default.a.cloneElement(mode.icon,{size:"20px"}),onClick:function onClick(){return setView(mode.key)}})}))})]}),Object(jsx_runtime.jsxs)(Box.a,Object.assign({focusIndicator:!1},getRootProps(),{border:isDragActive?{size:"small",color:"accent-2"}:void 0,overflow:"scroll",pad:"xsmall",background:"inherit",flex:!0,children:[Object(jsx_runtime.jsx)("input",Object.assign({},getInputProps())),Array.isArray(props.files)?views[view]:(null===(_props$previewEngines=props.previewEngines)||void 0===_props$previewEngines||null===(_props$previewEngines2=_props$previewEngines.find((function(a){var _props$files3,_props$files3$find,_props$files3$find$na,_props$files4,_props$files4$name;return a.filetype==(Array.isArray(props.files)?null===(_props$files3=props.files)||void 0===_props$files3||null===(_props$files3$find=_props$files3.find((function(b){return b.id==props.preview})))||void 0===_props$files3$find||null===(_props$files3$find$na=_props$files3$find.name)||void 0===_props$files3$find$na?void 0:_props$files3$find$na.split(".")[1]:null===(_props$files4=props.files)||void 0===_props$files4||null===(_props$files4$name=_props$files4.name)||void 0===_props$files4$name?void 0:_props$files4$name.split(".")[1])})))||void 0===_props$previewEngines2?void 0:_props$previewEngines2.component({file:Array.isArray(props.files)?null===(_props$files5=props.files)||void 0===_props$files5?void 0:_props$files5[0]:props.files}))||Object(jsx_runtime.jsx)(missing_preview_MissingPreview,{file:Array.isArray(props.files)?null===(_props$files6=props.files)||void 0===_props$files6?void 0:_props$files6[0]:props.files})]})),(props.uploading||[]).length>0&&Object(jsx_runtime.jsx)(upload_drawer_UploadDrawer,{}),preview?Object(jsx_runtime.jsx)(preview_drawer_PreviewDrawer,{data:preview}):null]})]})};FileExplorer_FileExplorer.displayName="FileExplorer";try{FileExplorer_FileExplorer.displayName="FileExplorer",FileExplorer_FileExplorer.__docgenInfo={description:"",displayName:"FileExplorer",props:{files:{defaultValue:null,description:"",name:"files",required:!1,type:{name:"IFile | IFile[]"}},refetchFiles:{defaultValue:null,description:"",name:"refetchFiles",required:!1,type:{name:"((path: string) => IFile[])"}},preview:{defaultValue:null,description:"",name:"preview",required:!1,type:{name:"string"}},uploading:{defaultValue:null,description:"",name:"uploading",required:!1,type:{name:"{ name?: string; percent?: number; }[] | undefined"}},previewEngines:{defaultValue:null,description:"",name:"previewEngines",required:!1,type:{name:"{ filetype: string; component: FC<{ file: any; }>; }[]"}},breadcrumbs:{defaultValue:null,description:"",name:"breadcrumbs",required:!0,type:{name:"{ name: string; id: string; }[]"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"IAction[]"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!0,type:{name:"(files: File[]) => void"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((item: IFile) => void)"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},onNavigate:{defaultValue:null,description:"",name:"onNavigate",required:!0,type:{name:"(path: string) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"string[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((id: string) => void)"}},onDeselect:{defaultValue:null,description:"",name:"onDeselect",required:!1,type:{name:"((id: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileExplorer/FileExplorer.tsx#FileExplorer"]={docgenInfo:FileExplorer_FileExplorer.__docgenInfo,name:"FileExplorer",path:"src/components/FileExplorer/FileExplorer.tsx#FileExplorer"})}catch(__react_docgen_typescript_loader_error){}function FileExplorer_stories_slicedToArray(arr,i){return function FileExplorer_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FileExplorer_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function FileExplorer_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return FileExplorer_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FileExplorer_stories_arrayLikeToArray(o,minLen)}(arr,i)||function FileExplorer_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FileExplorer_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Components/FileExplorer",component:FileExplorer_FileExplorer};var FileExplorer_stories_Template=function Template(args){var _useState2=FileExplorer_stories_slicedToArray(Object(react.useState)(""),2),strPath=_useState2[0],setPath=_useState2[1];return Object(jsx_runtime.jsx)(FileExplorer_FileExplorer,Object.assign({},args,{onNavigate:function onNavigate(id){var _args$onNavigate;setPath(id),null===(_args$onNavigate=args.onNavigate)||void 0===_args$onNavigate||_args$onNavigate.call(args,id)},path:strPath}))};FileExplorer_stories_Template.displayName="Template";var Files=FileExplorer_stories_Template.bind({});Files.args={files:[{name:"Test.pdf",size:22e3},{name:"Test.pdf",size:22e3},{name:"Test.pdf",size:22e3}]};var Folders=FileExplorer_stories_Template.bind({});Folders.args={onNavigate:function onNavigate(id){return console.log({id:id})},files:[{id:"folder",name:"Folder",isFolder:!0}],refetchFiles:function refetchFiles(path){return console.log({path:path}),[]}};var Uploads=FileExplorer_stories_Template.bind({});Uploads.args={files:[{name:"Test.pdf",size:22e3},{name:"Test.pdf",size:22e3},{name:"Test.pdf",size:22e3},{name:"Test.pdf",size:22e3}],uploading:[{name:"File",percent:20}]},Files.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ strPath, setPath ] = useState('');\n\n  return <FileExplorer  \n          {...args} \n          onNavigate={(id) => {\n            setPath(id)\n            args.onNavigate?.(id)\n          }}\n          path={strPath}  />\n}"}},Files.parameters),Folders.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ strPath, setPath ] = useState('');\n\n  return <FileExplorer  \n          {...args} \n          onNavigate={(id) => {\n            setPath(id)\n            args.onNavigate?.(id)\n          }}\n          path={strPath}  />\n}"}},Folders.parameters),Uploads.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ strPath, setPath ] = useState('');\n\n  return <FileExplorer  \n          {...args} \n          onNavigate={(id) => {\n            setPath(id)\n            args.onNavigate?.(id)\n          }}\n          path={strPath}  />\n}"}},Uploads.parameters)},"./src/components/FileViewer/FileViewer.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"WithFiles",(function(){return WithFiles}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Box=(__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js")),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),DocumentZip=__webpack_require__("./node_modules/grommet-icons/es6/icons/DocumentZip.js"),Multiple=__webpack_require__("./node_modules/grommet-icons/es6/icons/Multiple.js"),build=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/react-doc-viewer/build/index.js")),build_default=__webpack_require__.n(build),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DocViewer_DocViewer=function DocViewer(props){var _useState2=_slicedToArray(Object(react.useState)([]),2),documents=_useState2[0],setDocuments=_useState2[1];return Object(react.useEffect)((function(){props.documents&&setDocuments(props.documents)}),[props.documents]),Object(react.useEffect)((function(){props.documentUrl&&setDocuments([{uri:props.documentUrl,fileType:props.documentType}])}),[props.documentUrl,props.documentUrl]),props.documents||props.documentUrl?Object(jsx_runtime.jsx)(build_default.a,{config:{header:{disableFileName:!0,disableHeader:!0,overrideComponent:function overrideComponent(){return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{})}}},documents:documents,pluginRenderers:build.DocViewerRenderers}):null},DocViewer_FileThumbnail=function FileThumbnail(props){return Object(jsx_runtime.jsx)(build_default.a,{config:{header:{disableHeader:!0,disableFileName:!0,overrideComponent:function overrideComponent(){return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{})}}},documents:props.documents||[],pluginRenderers:build.DocViewerRenderers})};DocViewer_FileThumbnail.displayName="FileThumbnail";try{DocViewer_DocViewer.displayName="DocViewer",DocViewer_DocViewer.__docgenInfo={description:"",displayName:"DocViewer",props:{documents:{defaultValue:null,description:"",name:"documents",required:!1,type:{name:"IDocument[]"}},documentUrl:{defaultValue:null,description:"",name:"documentUrl",required:!1,type:{name:"string"}},documentType:{defaultValue:null,description:"",name:"documentType",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileViewer/DocViewer.tsx#DocViewer"]={docgenInfo:DocViewer_DocViewer.__docgenInfo,name:"DocViewer",path:"src/components/FileViewer/DocViewer.tsx#DocViewer"})}catch(__react_docgen_typescript_loader_error){}try{DocViewer_FileThumbnail.displayName="FileThumbnail",DocViewer_FileThumbnail.__docgenInfo={description:"",displayName:"FileThumbnail",props:{documents:{defaultValue:null,description:"",name:"documents",required:!1,type:{name:"IDocument[]"}},documentUrl:{defaultValue:null,description:"",name:"documentUrl",required:!1,type:{name:"string"}},documentType:{defaultValue:null,description:"",name:"documentType",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileViewer/DocViewer.tsx#FileThumbnail"]={docgenInfo:DocViewer_FileThumbnail.__docgenInfo,name:"FileThumbnail",path:"src/components/FileViewer/DocViewer.tsx#FileThumbnail"})}catch(__react_docgen_typescript_loader_error){}var FileViewer_FileViewer=function FileViewer(_ref){var _ref$files=_ref.files,files=void 0===_ref$files?[]:_ref$files;_ref.token;if(!files||1!=files.length)return Object(jsx_runtime.jsxs)(Box.a,{flex:!0,align:"center",justify:"center",children:[Object(jsx_runtime.jsx)(Multiple.a,{size:"large"}),Object(jsx_runtime.jsxs)(Text.a,{margin:{top:"small"},size:"medium",children:[files.length," files"]})]});var file=files[0],mimetype=file.mimeType?file.mimeType:"text/plain";console.log(file);var url=file.url,main=mimetype.split("/")[0],sub=mimetype.split("/")[1];switch(main){case"video":return Object(jsx_runtime.jsx)("video",{autoPlay:!1,src:url});case"image":return Object(jsx_runtime.jsx)("img",{style:{width:"100%"},src:url});case"application":switch(sub){case"pdf":case"word":case"spreadsheet":case"vnd.openxmlformats-officedocument.wordprocessingml.document":case"vnd.openxmlformats-officedocument.spreadsheetml.sheet":return console.log(url,main+"/"+sub),Object(jsx_runtime.jsx)(DocViewer_DocViewer,{documentUrl:url,documentType:main+"/"+sub});case"zip":case"octet-stream":case"x-zip-compressed":case"x-rar-compressed":return Object(jsx_runtime.jsx)(Box.a,{flex:!0,align:"center",justify:"center",children:Object(jsx_runtime.jsx)(DocumentZip.a,{size:"large"})});default:return null}default:return null}};try{FileViewer_FileViewer.displayName="FileViewer",FileViewer_FileViewer.__docgenInfo={description:"",displayName:"FileViewer",props:{files:{defaultValue:{value:"[]"},description:"",name:"files",required:!1,type:{name:"{ url?: string; mimeType?: string; id?: string | undefined; extension?: string | undefined; }[]"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileViewer/FileViewer.tsx#FileViewer"]={docgenInfo:FileViewer_FileViewer.__docgenInfo,name:"FileViewer",path:"src/components/FileViewer/FileViewer.tsx#FileViewer"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/FileViewer",component:FileViewer_FileViewer,argTypes:{color:{control:"color"}}};var FileViewer_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(FileViewer_FileViewer,Object.assign({},args))};FileViewer_stories_Template.displayName="Template";var Primary=FileViewer_stories_Template.bind({});Primary.args={files:[]};var WithFiles=FileViewer_stories_Template.bind({});WithFiles.args={files:[{url:"./test",id:"testing",extension:"pdf"}]},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <FileViewer {...args} />\n)"}},Primary.parameters),WithFiles.parameters=Object.assign({storySource:{source:"(args) => (\n  <FileViewer {...args} />\n)"}},WithFiles.parameters)},"./src/components/GraphGrid/GraphGrid.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"CustomContainer",(function(){return CustomContainer}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Box=(__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js")),react_grid_layout=__webpack_require__("./node_modules/react-grid-layout/index.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),Close=__webpack_require__("./node_modules/grommet-icons/es6/icons/Close.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),GraphContainer_GraphContainer=function GraphContainer(props){return Object(jsx_runtime.jsxs)(Box.a,{flex:!0,elevation:"small",background:"neutral-1",round:"small",overflow:"hidden",children:[Object(jsx_runtime.jsxs)(Box.a,{direction:"row",pad:"xsmall",justify:"between",background:"accent-2",children:[Object(jsx_runtime.jsxs)(Box.a,{children:[Object(jsx_runtime.jsx)(Text.a,{children:props.label}),Object(jsx_runtime.jsx)(Text.a,{size:"small",children:props.total&&"total: "+props.total})]}),Object(jsx_runtime.jsx)(Button.a,{onClick:props.onRemove,icon:Object(jsx_runtime.jsx)(Close.a,{size:"small"}),plain:!0,style:{padding:6,borderRadius:3},hoverIndicator:!0})]}),Object(jsx_runtime.jsxs)(Box.a,{flex:!0,children:[" ",props.children]})]})};GraphContainer_GraphContainer.displayName="GraphContainer";try{GraphContainer_GraphContainer.displayName="GraphContainer",GraphContainer_GraphContainer.__docgenInfo={description:"",displayName:"GraphContainer",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},total:{defaultValue:null,description:"",name:"total",required:!1,type:{name:"string"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GraphGrid/GraphContainer.tsx#GraphContainer"]={docgenInfo:GraphContainer_GraphContainer.__docgenInfo,name:"GraphContainer",path:"src/components/GraphGrid/GraphContainer.tsx#GraphContainer"})}catch(__react_docgen_typescript_loader_error){}var _templateObject,styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ResponsiveGridLayout=Object(react_grid_layout.WidthProvider)(react_grid_layout.Responsive),GraphGrid_BaseGraphGrid=function BaseGraphGrid(props){var _useState2=_slicedToArray(Object(react.useState)(null),2),_useState4=(_useState2[0],_useState2[1],_slicedToArray(Object(react.useState)([]),2));_useState4[0],_useState4[1];return Object(jsx_runtime.jsx)(Box.a,{flex:!0,className:props.className,children:Object(jsx_runtime.jsx)(ResponsiveGridLayout,{rowHeight:props.rowHeight||30,layouts:{lg:props.layout.map((function(x){return Object.assign({},x,{i:x.id})}))},onLayoutChange:props.onLayoutChange,cols:props.cols||{lg:12,md:10,sm:6,xs:4,xxs:2},breakpoints:props.breakpoints||{lg:1200,md:996,sm:768,xs:480,xxs:0},className:"rgl",children:props.layout.map((function(item){var _props$children;return Object(jsx_runtime.jsx)("div",{style:{display:"flex"},children:props.noWrap?props.children(item):Object(jsx_runtime.jsx)(GraphContainer_GraphContainer,{dataKey:item.id,label:item.label,total:item.total,onRemove:function onRemove(){var _props$onRemoveItem;return null===(_props$onRemoveItem=props.onRemoveItem)||void 0===_props$onRemoveItem?void 0:_props$onRemoveItem.call(props,item)},children:null===(_props$children=props.children)||void 0===_props$children?void 0:_props$children.call(props,item)})},item.id)}))})})};GraphGrid_BaseGraphGrid.displayName="BaseGraphGrid";var GraphGrid=Object(styled_components_browser_esm.default)(GraphGrid_BaseGraphGrid)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n  .react-grid-layout {\n    position: relative;\n    transition: height 200ms ease;\n  }\n  .react-grid-item {\n    transition: all 200ms ease;\n    transition-property: left, top;\n  }\n  .react-grid-item img {\n    pointer-events: none;\n    user-select: none;\n  }\n  .react-grid-item.cssTransforms {\n    transition-property: transform;\n  }\n  .react-grid-item.resizing {\n    z-index: 1;\n    will-change: width, height;\n  }\n\n  .react-grid-item.react-draggable-dragging {\n    transition: none;\n    z-index: 3;\n    will-change: transform;\n  }\n\n  .react-grid-item.dropping {\n    visibility: hidden;\n  }\n\n  .react-grid-item.react-grid-placeholder {\n    background: red;\n    opacity: 0.2;\n    transition-duration: 100ms;\n    z-index: 2;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .react-grid-item > .react-resizable-handle {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n  }\n\n  .react-grid-item > .react-resizable-handle::after {\n    content: "";\n    position: absolute;\n    right: 3px;\n    bottom: 3px;\n    width: 5px;\n    height: 5px;\n    border-right: 2px solid rgba(0, 0, 0, 0.4);\n    border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n  }\n\n  .react-resizable-hide > .react-resizable-handle {\n    display: none;\n  }\n\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-sw {\n    bottom: 0;\n    left: 0;\n    cursor: sw-resize;\n    transform: rotate(90deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-se {\n    bottom: 0;\n    right: 0;\n    cursor: se-resize;\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-nw {\n    top: 0;\n    left: 0;\n    cursor: nw-resize;\n    transform: rotate(180deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-ne {\n    top: 0;\n    right: 0;\n    cursor: ne-resize;\n    transform: rotate(270deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-w,\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-e {\n    top: 50%;\n    margin-top: -10px;\n    cursor: ew-resize;\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-w {\n    left: 0;\n    transform: rotate(135deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-e {\n    right: 0;\n    transform: rotate(315deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-n,\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-s {\n    left: 50%;\n    margin-left: -10px;\n    cursor: ns-resize;\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-n {\n    top: 0;\n    transform: rotate(225deg);\n  }\n  .react-grid-item > .react-resizable-handle.react-resizable-handle-s {\n    bottom: 0;\n    transform: rotate(45deg);\n  }\n\n  .react-resizable {\n    position: relative;\n  }\n  .react-resizable-handle {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-origin: content-box;\n    box-sizing: border-box;\n    background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+");\n    background-position: bottom right;\n    padding: 0 3px 3px 0;\n  }\n  .react-resizable-handle-sw {\n    bottom: 0;\n    left: 0;\n    cursor: sw-resize;\n    transform: rotate(90deg);\n  }\n  .react-resizable-handle-se {\n    bottom: 0;\n    right: 0;\n    cursor: se-resize;\n  }\n  .react-resizable-handle-nw {\n    top: 0;\n    left: 0;\n    cursor: nw-resize;\n    transform: rotate(180deg);\n  }\n  .react-resizable-handle-ne {\n    top: 0;\n    right: 0;\n    cursor: ne-resize;\n    transform: rotate(270deg);\n  }\n  .react-resizable-handle-w,\n  .react-resizable-handle-e {\n    top: 50%;\n    margin-top: -10px;\n    cursor: ew-resize;\n  }\n  .react-resizable-handle-w {\n    left: 0;\n    transform: rotate(135deg);\n  }\n  .react-resizable-handle-e {\n    right: 0;\n    transform: rotate(315deg);\n  }\n  .react-resizable-handle-n,\n  .react-resizable-handle-s {\n    left: 50%;\n    margin-left: -10px;\n    cursor: ns-resize;\n  }\n  .react-resizable-handle-n {\n    top: 0;\n    transform: rotate(225deg);\n  }\n  .react-resizable-handle-s {\n    bottom: 0;\n    transform: rotate(45deg);\n  }\n'])));try{GraphGrid_BaseGraphGrid.displayName="BaseGraphGrid",GraphGrid_BaseGraphGrid.__docgenInfo={description:"",displayName:"BaseGraphGrid",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onRemoveItem:{defaultValue:null,description:"",name:"onRemoveItem",required:!1,type:{name:"((item: GridLayoutItem) => void)"}},onLayoutChange:{defaultValue:null,description:"",name:"onLayoutChange",required:!0,type:{name:"(layout: GridLayout[]) => void"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"GridLayoutItem[]"}},noWrap:{defaultValue:null,description:"",name:"noWrap",required:!1,type:{name:"boolean"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!1,type:{name:"number"}},cols:{defaultValue:null,description:"",name:"cols",required:!1,type:{name:"{ [key: string]: number; }"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!1,type:{name:"{ [key: string]: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GraphGrid/GraphGrid.tsx#BaseGraphGrid"]={docgenInfo:GraphGrid_BaseGraphGrid.__docgenInfo,name:"BaseGraphGrid",path:"src/components/GraphGrid/GraphGrid.tsx#BaseGraphGrid"})}catch(__react_docgen_typescript_loader_error){}try{GraphGrid.displayName="GraphGrid",GraphGrid.__docgenInfo={description:"",displayName:"GraphGrid",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onRemoveItem:{defaultValue:null,description:"",name:"onRemoveItem",required:!1,type:{name:"((item: GridLayoutItem) => void)"}},onLayoutChange:{defaultValue:null,description:"",name:"onLayoutChange",required:!0,type:{name:"(layout: GridLayout[]) => void"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"GridLayoutItem[]"}},noWrap:{defaultValue:null,description:"",name:"noWrap",required:!1,type:{name:"boolean"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!1,type:{name:"number"}},cols:{defaultValue:null,description:"",name:"cols",required:!1,type:{name:"{ [key: string]: number; }"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!1,type:{name:"{ [key: string]: number; }"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GraphGrid/GraphGrid.tsx#GraphGrid"]={docgenInfo:GraphGrid.__docgenInfo,name:"GraphGrid",path:"src/components/GraphGrid/GraphGrid.tsx#GraphGrid"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/GraphGrid",component:GraphGrid,argTypes:{color:{control:"color"}}};var GraphGrid_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(GraphGrid,Object.assign({},args))};GraphGrid_stories_Template.displayName="Template";var Primary=GraphGrid_stories_Template.bind({});Primary.args={layout:[{id:"1",label:"label 1",total:"total 1",x:0,y:0,w:2,h:2}],children:function children(item){return Object(jsx_runtime.jsx)(Box.a,{children:item.id})}};var CustomContainer=GraphGrid_stories_Template.bind({});CustomContainer.args={layout:[{id:"1",label:"label 1",total:"total 1",x:0,y:0,w:2,h:2}],noWrap:!0,children:function children(item){return Object(jsx_runtime.jsx)(Box.a,{children:item.id})}},Primary.parameters=Object.assign({storySource:{source:"(args) => <GraphGrid {...args} />"}},Primary.parameters),CustomContainer.parameters=Object.assign({storySource:{source:"(args) => <GraphGrid {...args} />"}},CustomContainer.parameters)},"./src/components/Graphs/Graph.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"PieChart",(function(){return Graph_stories_PieChart})),__webpack_require__.d(__webpack_exports__,"BarChart",(function(){return Graph_stories_BarChart}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/react/index.js");var ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),LineChart=__webpack_require__("./node_modules/recharts/es6/chart/LineChart.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),YAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/YAxis.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),CartesianGrid=__webpack_require__("./node_modules/recharts/es6/cartesian/CartesianGrid.js"),Line=__webpack_require__("./node_modules/recharts/es6/cartesian/Line.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),LineGraph_LineGraph=function LineGraph(props){return Object(jsx_runtime.jsx)(ResponsiveContainer.a,{width:"100%",height:"100%",children:Object(jsx_runtime.jsxs)(LineChart.a,{margin:{left:0,top:8,bottom:8,right:8},data:props.data,width:12,children:[Object(jsx_runtime.jsx)(XAxis.a,{dataKey:props.xKey}),Object(jsx_runtime.jsx)(YAxis.a,{dataKey:props.yKey}),Object(jsx_runtime.jsx)(Tooltip.a,{}),Object(jsx_runtime.jsx)(CartesianGrid.a,{stroke:"#f5f5f5"}),Object(jsx_runtime.jsx)(Line.a,{type:"monotone",dataKey:props.yKey,stroke:"#ff7300",dot:!1})]})})};LineGraph_LineGraph.displayName="LineGraph";try{LineGraph_LineGraph.displayName="LineGraph",LineGraph_LineGraph.__docgenInfo={description:"",displayName:"LineGraph",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},xKey:{defaultValue:null,description:"",name:"xKey",required:!1,type:{name:"string"}},yKey:{defaultValue:null,description:"",name:"yKey",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graphs/LineGraph.tsx#LineGraph"]={docgenInfo:LineGraph_LineGraph.__docgenInfo,name:"LineGraph",path:"src/components/Graphs/LineGraph.tsx#LineGraph"})}catch(__react_docgen_typescript_loader_error){}var PieChart=__webpack_require__("./node_modules/recharts/es6/chart/PieChart.js"),Pie=__webpack_require__("./node_modules/recharts/es6/polar/Pie.js"),PieGraph_PieGraph=function PieGraph(props){return Object(jsx_runtime.jsx)(ResponsiveContainer.a,{width:"100%",height:"100%",children:Object(jsx_runtime.jsx)(PieChart.a,{children:Object(jsx_runtime.jsx)(Pie.a,{data:props.data,dataKey:props.dataKey,nameKey:props.nameKey,fill:"#8884d8",label:!0})})})};PieGraph_PieGraph.displayName="PieGraph";try{PieGraph_PieGraph.displayName="PieGraph",PieGraph_PieGraph.__docgenInfo={description:"",displayName:"PieGraph",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},dataKey:{defaultValue:null,description:"",name:"dataKey",required:!1,type:{name:"any"}},nameKey:{defaultValue:null,description:"",name:"nameKey",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graphs/PieGraph.tsx#PieGraph"]={docgenInfo:PieGraph_PieGraph.__docgenInfo,name:"PieGraph",path:"src/components/Graphs/PieGraph.tsx#PieGraph"})}catch(__react_docgen_typescript_loader_error){}var BarChart=__webpack_require__("./node_modules/recharts/es6/chart/BarChart.js"),Bar=__webpack_require__("./node_modules/recharts/es6/cartesian/Bar.js"),BarGraph_BarGraph=function BarGraph(props){return Object(jsx_runtime.jsx)(ResponsiveContainer.a,{width:"100%",height:"100%",children:Object(jsx_runtime.jsxs)(BarChart.a,{margin:{left:0,top:8,bottom:8,right:8},data:props.data,width:12,children:[Object(jsx_runtime.jsx)(XAxis.a,{dataKey:props.xKey}),Object(jsx_runtime.jsx)(YAxis.a,{dataKey:props.yKey}),Object(jsx_runtime.jsx)(Tooltip.a,{}),Object(jsx_runtime.jsx)(CartesianGrid.a,{stroke:"#f5f5f5"}),Object(jsx_runtime.jsx)(Bar.a,{dataKey:props.yKey,type:"monotone",fill:props.color||"#ff7300"})]})})};BarGraph_BarGraph.displayName="BarGraph";try{BarGraph_BarGraph.displayName="BarGraph",BarGraph_BarGraph.__docgenInfo={description:"",displayName:"BarGraph",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},yKey:{defaultValue:null,description:"",name:"yKey",required:!0,type:{name:"string"}},xKey:{defaultValue:null,description:"",name:"xKey",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graphs/BarGraph.tsx#BarGraph"]={docgenInfo:BarGraph_BarGraph.__docgenInfo,name:"BarGraph",path:"src/components/Graphs/BarGraph.tsx#BarGraph"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/Graph",component:LineGraph_LineGraph};var Graph_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(LineGraph_LineGraph,Object.assign({},args))};Graph_stories_Template.displayName="Template";var Graph_stories_TemplatePie=function TemplatePie(args){return Object(jsx_runtime.jsx)(PieGraph_PieGraph,Object.assign({},args))};Graph_stories_TemplatePie.displayName="TemplatePie";var Graph_stories_TemplateBar=function TemplateBar(args){return Object(jsx_runtime.jsx)(BarGraph_BarGraph,Object.assign({},args))};Graph_stories_TemplateBar.displayName="TemplateBar";var Primary=Graph_stories_Template.bind({});Primary.args={data:[{x:"Monday",y:1},{x:"Tuesday",y:3},{x:"Wednesday",y:5},{x:"Thursday",y:3}],xKey:"x",yKey:"y"};var Graph_stories_PieChart=Graph_stories_TemplatePie.bind({});Graph_stories_PieChart.args={dataKey:"value",nameKey:"name",data:[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200},{name:"Group E",value:278},{name:"Group F",value:189}]};var Graph_stories_BarChart=Graph_stories_TemplateBar.bind({});Graph_stories_BarChart.args={data:[{value:"12",date:new Date},{value:"15",date:new Date}],yKey:"value",xKey:"date",color:"green"},Primary.parameters=Object.assign({storySource:{source:"(args) => <LineGraph {...args} />"}},Primary.parameters),Graph_stories_PieChart.parameters=Object.assign({storySource:{source:"(args) => <PieGraph {...args} />"}},Graph_stories_PieChart.parameters),Graph_stories_BarChart.parameters=Object.assign({storySource:{source:"(args) => <BarGraph {...args} />"}},Graph_stories_BarChart.parameters)},"./src/components/HeaderBox/HeaderBox.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/react/index.js");var grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),_HeaderBox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/HeaderBox/HeaderBox.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/HeaderBox",component:_HeaderBox__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{color:{control:"color"}}};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_HeaderBox__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={header:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_3__.a,{children:"Header"})},Primary.parameters=Object.assign({storySource:{source:"(args) => <HeaderBox {...args} />"}},Primary.parameters)},"./src/components/HeaderBox/HeaderBox.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HeaderBox}));var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js")),HeaderBox=function HeaderBox(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{flex:!0,overflow:"hidden",round:"xsmall",background:"neutral-1",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{pad:"xsmall",background:"accent-2",children:props.header}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{flex:!0,children:props.children})]})};HeaderBox.displayName="HeaderBox";try{HeaderBox.displayName="HeaderBox",HeaderBox.__docgenInfo={description:"",displayName:"HeaderBox",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HeaderBox/HeaderBox.tsx#HeaderBox"]={docgenInfo:HeaderBox.__docgenInfo,name:"HeaderBox",path:"src/components/HeaderBox/HeaderBox.tsx#HeaderBox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/InfiniteCanvas.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NodeOptions",(function(){return NodeOptions})),__webpack_require__.d(__webpack_exports__,"Uncontrolled",(function(){return Uncontrolled})),__webpack_require__.d(__webpack_exports__,"Controlled",(function(){return Controlled}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _templateObject,react=__webpack_require__("./node_modules/react/index.js"),esm=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),TextInput=__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js"),InfiniteCanvas=__webpack_require__("./src/components/InfiniteCanvas/InfiniteCanvas.tsx"),zoom_controls=__webpack_require__("./src/components/InfiniteCanvas/components/zoom-controls/index.tsx"),abstract_widget_factory=(__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./src/components/InfiniteCanvas/models/abstract-widget-factory.tsx")),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),ports=__webpack_require__("./src/components/InfiniteCanvas/components/ports/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var widget_BaseActionNode=function BaseActionNode(props){return Object(jsx_runtime.jsxs)("div",{className:props.className,children:[Object(jsx_runtime.jsx)(ports.a,{type:"in",id:"inlet"}),Object(jsx_runtime.jsx)(Text.a,{children:"Action"}),Object(jsx_runtime.jsx)(Text.a,{size:"small",children:props.title}),Object(jsx_runtime.jsx)(ports.a,{type:"out",id:"outlet"})]})};widget_BaseActionNode.displayName="BaseActionNode";var ActionNodeWidget=Object(styled_components_browser_esm.default)(widget_BaseActionNode)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    background-color: #dfdfdf;\n    height: 50px;\n    width: 150px;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n\n    .port {\n        height: 10px;\n        width: 10px;\n        background: green;\n        position: absolute;\n    }\n\n    .port:hover{\n        background: darkgreen;\n    }\n\n    .port.in{\n        top: 0;\n    }\n\n    .port.out{\n        bottom: 0;\n    }\n"])));try{widget_BaseActionNode.displayName="BaseActionNode",widget_BaseActionNode.__docgenInfo={description:"",displayName:"BaseActionNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/action-node/widget.tsx#BaseActionNode"]={docgenInfo:widget_BaseActionNode.__docgenInfo,name:"BaseActionNode",path:"src/components/InfiniteCanvas/components/nodes/action-node/widget.tsx#BaseActionNode"})}catch(__react_docgen_typescript_loader_error){}try{ActionNodeWidget.displayName="ActionNodeWidget",ActionNodeWidget.__docgenInfo={description:"",displayName:"ActionNodeWidget",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/action-node/widget.tsx#ActionNodeWidget"]={docgenInfo:ActionNodeWidget.__docgenInfo,name:"ActionNodeWidget",path:"src/components/InfiniteCanvas/components/nodes/action-node/widget.tsx#ActionNodeWidget"})}catch(__react_docgen_typescript_loader_error){}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var factory_ActionNodeFactory=function(_AbstractWidgetFactor){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ActionNodeFactory,_AbstractWidgetFactor);var _super=_createSuper(ActionNodeFactory);function ActionNodeFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ActionNodeFactory),_super.call(this,"action-node")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ActionNodeFactory,[{key:"parseModel",value:function parseModel(model){return{id:model.id,type:model.type,x:model.x,y:model.y,extras:Object.assign({},model.extras),ports:model.ports?model.ports:[{name:"inlet",type:"base"},{name:"outlet",type:"base"}]}}},{key:"generateWidget",value:function generateWidget(event){return Object(jsx_runtime.jsx)(ActionNodeWidget,{title:event.extras.title})}}]),ActionNodeFactory}(abstract_widget_factory.a);factory_ActionNodeFactory.TAG="action-node";var IconNode_templateObject,Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),es6=__webpack_require__("./node_modules/grommet-icons/es6/index.js"),Previous=__webpack_require__("./node_modules/grommet-icons/es6/icons/Previous.js");var IconNode_BaseIconNode=function BaseIconNode(props){var _props$extras,_props$extras2,_props$extras3,_props$children,Icon=null!==(_props$extras=props.extras)&&void 0!==_props$extras&&_props$extras.icon&&"string"==typeof props.extras.icon?es6[props.extras.icon]:null!==(_props$extras2=props.extras)&&void 0!==_props$extras2&&_props$extras2.icon?props.extras.icon:Previous.a;return Object(jsx_runtime.jsx)(Box.a,{width:props.width||"72px",height:props.height||"72px",elevation:"small",background:"light-2",round:"small",border:{style:props.isSelected?"solid":"dotted",size:"small",color:props.isSelected?"accent-1":(null===(_props$extras3=props.extras)||void 0===_props$extras3?void 0:_props$extras3.color)||"brand"},className:props.className,children:null===(_props$children=props.children)||void 0===_props$children?void 0:_props$children.call(props,Object(jsx_runtime.jsx)(Icon,{size:"medium"}))})};IconNode_BaseIconNode.displayName="BaseIconNode";var IconNode_UnstyledIconNode=function UnstyledIconNode(props){var _props$extras4,_props$extras5;return Object(jsx_runtime.jsx)(IconNode_BaseIconNode,Object.assign({width:{min:null!==(_props$extras4=props.extras)&&void 0!==_props$extras4&&_props$extras4.label?"72px":"55px"},height:null!==(_props$extras5=props.extras)&&void 0!==_props$extras5&&_props$extras5.label?"72px":"55px"},props,{children:function children(icon){var _props$extras6,_props$extras7,_props$extras8,_props$extras9;return Object(jsx_runtime.jsxs)(Box.a,{pad:"small",flex:!0,justify:(null!==(_props$extras6=props.extras)&&void 0!==_props$extras6&&_props$extras6.label,"center"),align:(null!==(_props$extras7=props.extras)&&void 0!==_props$extras7&&_props$extras7.label,"center"),direction:"column",children:[Object(jsx_runtime.jsx)(ports.a,{direction:"center",type:"in",id:"in"}),icon,(null===(_props$extras8=props.extras)||void 0===_props$extras8?void 0:_props$extras8.label)&&Object(jsx_runtime.jsx)(Text.a,{size:"small",children:null===(_props$extras9=props.extras)||void 0===_props$extras9?void 0:_props$extras9.label}),Object(jsx_runtime.jsx)(ports.a,{direction:"center",type:"out",id:"out"})]})}}))};IconNode_UnstyledIconNode.displayName="UnstyledIconNode";var IconNode=Object(styled_components_browser_esm.default)(IconNode_UnstyledIconNode)(IconNode_templateObject||(IconNode_templateObject=function IconNode_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    .port{\n        border-radius: 7px;\n        height: 12px;\n        width: 12px;\n    }\n\n    .port-base:first-child{\n        top: -6px;\n        left: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        margin: 0 auto;\n        position: absolute;\n    }\n\n    .port-base:last-child{\n        bottom: -6px;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        display: flex;\n        justify-content: center;\n        position: absolute;\n    }\n"])));try{IconNode_BaseIconNode.displayName="BaseIconNode",IconNode_BaseIconNode.__docgenInfo={description:"",displayName:"BaseIconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#BaseIconNode"]={docgenInfo:IconNode_BaseIconNode.__docgenInfo,name:"BaseIconNode",path:"src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#BaseIconNode"})}catch(__react_docgen_typescript_loader_error){}try{IconNode_UnstyledIconNode.displayName="UnstyledIconNode",IconNode_UnstyledIconNode.__docgenInfo={description:"",displayName:"UnstyledIconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#UnstyledIconNode"]={docgenInfo:IconNode_UnstyledIconNode.__docgenInfo,name:"UnstyledIconNode",path:"src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#UnstyledIconNode"})}catch(__react_docgen_typescript_loader_error){}try{IconNode.displayName="IconNode",IconNode.__docgenInfo={description:"",displayName:"IconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#IconNode"]={docgenInfo:IconNode.__docgenInfo,name:"IconNode",path:"src/components/InfiniteCanvas/components/nodes/icon-node/IconNode.tsx#IconNode"})}catch(__react_docgen_typescript_loader_error){}function IconNodeFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function IconNodeFactory_setPrototypeOf(o,p){return IconNodeFactory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},IconNodeFactory_setPrototypeOf(o,p)}function IconNodeFactory_createSuper(Derived){var hasNativeReflectConstruct=function IconNodeFactory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=IconNodeFactory_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=IconNodeFactory_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return IconNodeFactory_possibleConstructorReturn(this,result)}}function IconNodeFactory_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function IconNodeFactory_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function IconNodeFactory_getPrototypeOf(o){return IconNodeFactory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},IconNodeFactory_getPrototypeOf(o)}var StartNode_templateObject,IconNodeFactory_IconNodeFactory=function(_AbstractWidgetFactor){!function IconNodeFactory_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&IconNodeFactory_setPrototypeOf(subClass,superClass)}(IconNodeFactory,_AbstractWidgetFactor);var _super=IconNodeFactory_createSuper(IconNodeFactory);function IconNodeFactory(){return function IconNodeFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IconNodeFactory),_super.call(this,"icon-node")}return function IconNodeFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&IconNodeFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&IconNodeFactory_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(IconNodeFactory,[{key:"generateWidget",value:function generateWidget(event){return Object(jsx_runtime.jsx)(IconNode,Object.assign({},event))}},{key:"parseModel",value:function parseModel(model){return Object.assign({},model,{ports:model.ports?model.ports:[{name:"in",type:"base"},{name:"out",type:"base"}]})}}]),IconNodeFactory}(abstract_widget_factory.a);IconNodeFactory_IconNodeFactory.TAG="icon-node";var StartNode_BaseStartNode=function BaseStartNode(props){return Object(jsx_runtime.jsx)(IconNode_BaseIconNode,{className:props.className,extras:{icon:"Play"},children:function children(icon){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[icon,Object(jsx_runtime.jsx)(ports.a,{type:"out",id:"out"})]})}})};StartNode_BaseStartNode.displayName="BaseStartNode";var StartNode=Object(styled_components_browser_esm.default)(StartNode_BaseStartNode)(StartNode_templateObject||(StartNode_templateObject=function StartNode_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    .port{\n        position: absolute;\n        bottom: -7px;\n        left: 0;\n        right: 0;\n        width: 15px;\n        height: 15px;\n        margin: 0 auto;\n        border-radius: 10px;\n    }\n"])));try{StartNode_BaseStartNode.displayName="BaseStartNode",StartNode_BaseStartNode.__docgenInfo={description:"",displayName:"BaseStartNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/start-node/StartNode.tsx#BaseStartNode"]={docgenInfo:StartNode_BaseStartNode.__docgenInfo,name:"BaseStartNode",path:"src/components/InfiniteCanvas/components/nodes/start-node/StartNode.tsx#BaseStartNode"})}catch(__react_docgen_typescript_loader_error){}try{StartNode.displayName="StartNode",StartNode.__docgenInfo={description:"",displayName:"StartNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/nodes/start-node/StartNode.tsx#StartNode"]={docgenInfo:StartNode.__docgenInfo,name:"StartNode",path:"src/components/InfiniteCanvas/components/nodes/start-node/StartNode.tsx#StartNode"})}catch(__react_docgen_typescript_loader_error){}function StartNodeFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function StartNodeFactory_setPrototypeOf(o,p){return StartNodeFactory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},StartNodeFactory_setPrototypeOf(o,p)}function StartNodeFactory_createSuper(Derived){var hasNativeReflectConstruct=function StartNodeFactory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=StartNodeFactory_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=StartNodeFactory_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return StartNodeFactory_possibleConstructorReturn(this,result)}}function StartNodeFactory_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function StartNodeFactory_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function StartNodeFactory_getPrototypeOf(o){return StartNodeFactory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},StartNodeFactory_getPrototypeOf(o)}var StartNodeFactory_StartNodeFactory=function(_AbstractWidgetFactor){!function StartNodeFactory_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&StartNodeFactory_setPrototypeOf(subClass,superClass)}(StartNodeFactory,_AbstractWidgetFactor);var _super=StartNodeFactory_createSuper(StartNodeFactory);function StartNodeFactory(){return function StartNodeFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StartNodeFactory),_super.call(this,"start-node")}return function StartNodeFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&StartNodeFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&StartNodeFactory_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(StartNodeFactory,[{key:"generateWidget",value:function generateWidget(event){return Object(jsx_runtime.jsx)(StartNode,Object.assign({},event))}},{key:"parseModel",value:function parseModel(model){return Object.assign({},model,{ports:model.ports?model.ports:[{name:"out",type:"base"}]})}}]),StartNodeFactory}(abstract_widget_factory.a);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Components/InfiniteCanvas",component:InfiniteCanvas.InfiniteCanvas};var InfiniteCanvas_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(InfiniteCanvas.InfiniteCanvas,Object.assign({},args,{children:Object(jsx_runtime.jsx)(zoom_controls.a,{anchor:{horizontal:"right",vertical:"bottom"}})}))};InfiniteCanvas_stories_Template.displayName="Template";var NodeOptions=InfiniteCanvas_stories_Template.bind({});NodeOptions.args={editable:!0,style:{background:"green",lineColor:"gray"},factories:[new factory_ActionNodeFactory,new IconNodeFactory_IconNodeFactory,new StartNodeFactory_StartNodeFactory],nodes:[{id:"1",type:"action-node",x:20,y:20},{id:"2",type:"icon-node",extras:{icon:"Next",color:"purple"},x:200,y:20},{id:"3",type:"start-node",extras:{},x:300,y:20}]};var Uncontrolled=InfiniteCanvas_stories_Template.bind({});Uncontrolled.args={editable:!0,factories:[new factory_ActionNodeFactory],nodes:[{id:"1",type:"action-node",x:20,y:20}]};var Controlled=function ControlledTemplate(args){return _useState2=_slicedToArray(Object(react.useState)(args.nodes||[]),2),nodes=_useState2[0],setNodes=_useState2[1],pathRef=Object(react.useRef)(args.paths||[]),(_useState4=_slicedToArray(Object(react.useState)(args.paths||[]),2))[0],_setPaths=_useState4[1],setPaths=function setPaths(items){pathRef.current=items,_setPaths(items)},Object(jsx_runtime.jsx)(InfiniteCanvas.InfiniteCanvas,Object.assign({},args,{nodes:nodes,paths:pathRef.current,onNodeUpdate:function onNodeUpdate(node){Object(esm.action)("onNodesChanged");var p=nodes.slice(),p_ix=p.map((function(x){return x.id})).indexOf(node.id);p[p_ix]=Object.assign({},p[p_ix],node),setNodes(p)},onPathCreate:function onPathCreate(path){console.log("onPathCreate");var p=pathRef.current.slice();p.push(path),setPaths(p),console.log(p)},onPathUpdate:function onPathUpdate(path){console.log("onPathUpdate",path);var p=pathRef.current.slice(),p_ix=p.map((function(x){return x.id})).indexOf(path.id);p[p_ix]=Object.assign({},p[p_ix],path),setPaths(p)},children:Object(jsx_runtime.jsx)(zoom_controls.a,{anchor:{horizontal:"right",vertical:"bottom"}})}));var _useState2,nodes,setNodes,pathRef,_useState4,_setPaths,setPaths}.bind({});Controlled.args={grid:{width:100,height:100,divisions:5},snapToGrid:!0,editable:!0,factories:[new factory_ActionNodeFactory,new IconNodeFactory_IconNodeFactory],nodes:[{id:"1",type:"action-node",menu:Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(TextInput.a,{placeholder:"Width",type:"number"}),Object(jsx_runtime.jsx)(TextInput.a,{placeholder:"Height",type:"number"})]}),x:371,y:173},{id:"2",type:"action-node",menu:Object(jsx_runtime.jsx)("div",{}),x:20,y:100},{id:"3",type:"icon-node",extras:{label:"Run",icon:"Next",color:"purple"},x:200,y:20},{id:"5",type:"icon-node",extras:{icon:"Next",color:"purple"},x:300,y:20}],paths:[{id:"2",points:[{x:100,y:100}],source:"1",sourceHandle:"inlet"}]},NodeOptions.parameters=Object.assign({storySource:{source:'(args) => (\n  <InfiniteCanvas {...args}>\n    <ZoomControls anchor={{ horizontal: "right", vertical: "bottom" }} />\n  </InfiniteCanvas>\n)'}},NodeOptions.parameters),Uncontrolled.parameters=Object.assign({storySource:{source:'(args) => (\n  <InfiniteCanvas {...args}>\n    <ZoomControls anchor={{ horizontal: "right", vertical: "bottom" }} />\n  </InfiniteCanvas>\n)'}},Uncontrolled.parameters),Controlled.parameters=Object.assign({storySource:{source:'(args) => {\n  return ((props) => {\n    const [nodes, setNodes] = useState(args.nodes || []);\n    const pathRef = useRef<any[]>(args.paths || []);\n    const [paths, _setPaths] = useState(args.paths || []); //args.paths\n\n    const setPaths = (items: any[]) => {\n      pathRef.current = items;\n      _setPaths(items);\n    };\n\n    return (\n      <InfiniteCanvas\n        {...args}\n        nodes={nodes}\n        paths={pathRef.current}\n        onNodeUpdate={(node) => {\n          action("onNodesChanged");\n          let p = nodes.slice();\n          let p_ix = p.map((x) => x.id).indexOf(node.id);\n\n          p[p_ix] = {\n            ...p[p_ix],\n            ...node,\n          };\n\n          setNodes(p);\n          //setNodes(nodes)\n        }}\n        onPathCreate={(path) => {\n          console.log("onPathCreate");\n\n          let p = pathRef.current.slice();\n          p.push(path);\n          setPaths(p);\n          console.log(p);\n          // action(\'onPathsChanged\')\n          // setPaths(paths)\n        }}\n        onPathUpdate={(path) => {\n          console.log("onPathUpdate", path);\n          let p = pathRef.current.slice();\n          let p_ix = p.map((x) => x.id).indexOf(path.id);\n\n          p[p_ix] = {\n            ...p[p_ix],\n            ...path,\n          };\n\n          setPaths(p);\n        }}\n      >\n        <ZoomControls anchor={{ horizontal: "right", vertical: "bottom" }} />\n      </InfiniteCanvas>\n    );\n  })(args);\n}'}},Controlled.parameters)},"./src/components/InfiniteCanvas/InfiniteCanvas.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"InfiniteCanvas",(function(){return InfiniteCanvas}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _templateObject,react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),lodash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/lodash/lodash.js"),_context_context__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),_layers_grid__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/components/InfiniteCanvas/layers/grid.tsx"),_layers_nodes__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/components/InfiniteCanvas/layers/nodes.tsx"),_layers_paths__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/components/InfiniteCanvas/layers/paths.tsx"),nanoid__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/nanoid/index.browser.js"),_utils_canvas__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/components/InfiniteCanvas/utils/canvas.ts"),_components_context_menu__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx"),_layers_information__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/components/InfiniteCanvas/layers/information.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BaseInfiniteCanvas=function BaseInfiniteCanvas(_ref){var zoom=_ref.zoom,style=_ref.style,onViewportChanged=_ref.onViewportChanged,offset=_ref.offset,assets=_ref.assets,factories=_ref.factories,onNodeUpdate=_ref.onNodeUpdate,onSelect=_ref.onSelect,selected=_ref.selected,onPathCreate=(_ref.onNodeRemove,_ref.onNodesChanged,_ref.onPathsChanged,_ref.onPathCreate),onPathUpdate=_ref.onPathUpdate,nodes=(_ref.onPathRemove,_ref.nodes),paths=_ref.paths,onDrop=_ref.onDrop,editable=_ref.editable,className=_ref.className,_ref$snapToGrid=_ref.snapToGrid,snapToGrid=void 0!==_ref$snapToGrid&&_ref$snapToGrid,_ref$grid=_ref.grid,grid=void 0===_ref$grid?{width:100,height:100,divisions:3}:_ref$grid,children=_ref.children,onDelete=_ref.onDelete,_onRightClick=_ref.onRightClick,contextMenu=_ref.contextMenu,menu=_ref.menu,information=_ref.information,onBackdropClick=_ref.onBackdropClick,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)({}),2),ports=_useState2[0],_setPorts=_useState2[1],portRef=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)({}),isDragging=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)({dragging:!1}),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(),2),menuPos=_useState4[0],setMenuPos=_useState4[1],canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)(null),_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(!1),2),isPortDragging=_useState6[0],setPortDragging=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)({}),2),_factories=_useState8[0],setFactories=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)({}),2),nodeRefs=_useState10[0],setNodeRefs=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)([]),2),_nodes=_useState12[0],setNodes=_useState12[1],_paths=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)([]),_useState14=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(100),2),_zoom=_useState14[0],setZoom=_useState14[1],_useState16=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)({x:0,y:70}),2),_offset=_useState16[0],_setOffset=_useState16[1],offsetRef=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)(_offset),setOffset=function setOffset(offset){offsetRef.current=offset,_setOffset(offset)};Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){Object.keys(_factories).length>0&&setNodes(null==nodes?void 0:nodes.map((function(node){var type=node.type;return _factories[type].parseModel(node)})))}),[nodes,_factories]),Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){_paths.current=paths||[]}),[paths]),Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){zoom&&setZoom(zoom)}),[zoom]),Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){offset&&console.log("Set")}),[offset]),Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){if(factories){var f={};factories.forEach((function(factory){f[factory.getType()]=factory})),setFactories(f)}}),[factories]);var updateOffset=function updateOffset(position,lastPos){var new_offset={x:offsetRef.current.x-(lastPos.x-position.x),y:offsetRef.current.y-(lastPos.y-position.y)};setOffset(new_offset),null==onViewportChanged||onViewportChanged({offset:new_offset,zoom:_zoom})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(_context_context__WEBPACK_IMPORTED_MODULE_21__.a.Provider,{value:{style:style,snapToGrid:snapToGrid,grid:Object.assign({},grid),editable:editable,factories:_factories,nodes:_nodes,paths:_paths.current,ports:ports,assets:assets,nodeRefs:nodeRefs,getRelativeCanvasPos:function getRelativeCanvasPos(pos){return Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},pos)},darkMode:!0,zoom:100/_zoom,offset:_offset,isPortDragging:isPortDragging,openContextMenu:function openContextMenu(pos,payload){var _canvasRef$current2,bounds=null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2?void 0:_canvasRef$current2.getBoundingClientRect();null==onSelect||onSelect(payload.type,payload.id),setMenuPos({x:pos.x-((null==bounds?void 0:bounds.x)||0),y:pos.y-((null==bounds?void 0:bounds.y)||0)})},addPathPoint:function addPathPoint(id,ix,point){var rp=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},point),current_path=_paths.current.find((function(a){return a.id==id}));current_path&&(null==onPathUpdate||onPathUpdate(Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.a)(current_path,ix,rp)))},updatePathPoint:function updatePathPoint(id,ix,point){var rp=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},point);rp=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.d)(rp,snapToGrid,grid);var current_path=_paths.current.find((function(a){return a.id==id}));if(current_path){var updated=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.h)(Object.assign({},current_path),ix,rp);console.log("Updated",updated),null==onPathUpdate||onPathUpdate(updated)}},linkPath:function linkPath(id,node,handle){var current_path=_paths.current.find((function(a){return a.id==id}));current_path&&(null==onPathUpdate||onPathUpdate(Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.c)(current_path,node,handle)))},setNodeRefs:setNodeRefs,dragPort:function dragPort(e,handleId,nodeId){var id=Object(nanoid__WEBPACK_IMPORTED_MODULE_25__.a)();if(setPortDragging(!0),nodeId&&handleId){var _node$ports,_paths$current,_node=_nodes.find((function(a){return a.id==nodeId})),_path=(null==_node||null===(_node$ports=_node.ports)||void 0===_node$ports||_node$ports.find((function(a){return a.name==handleId})),{id:id,source:nodeId,sourceHandle:handleId,target:null,points:[]});((null==_paths||null===(_paths$current=_paths.current)||void 0===_paths$current?void 0:_paths$current.slice())||[]).push(_path),null==onPathCreate||onPathCreate(_path);var updatePathPosition=Object(lodash__WEBPACK_IMPORTED_MODULE_20__.throttle)((function(point){var _paths$current2,path,p=(null==_paths||null===(_paths$current2=_paths.current)||void 0===_paths$current2?void 0:_paths$current2.slice())||[],ix=p.map((function(x){return x.id})).indexOf(id),_points=[point=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.d)(point,snapToGrid||!1,grid)];ix>-1?(console.log("Updating",id),path=Object.assign({},p[ix],{points:_points})):(console.log("creating",id),path={id:id,source:nodeId,sourceHandle:handleId,target:null,points:_points}),null==onPathUpdate||onPathUpdate(path)}),100);Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.f)(e,(function(event){var position=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},finished=arguments.length>3?arguments[3]:void 0;if(finished){setPortDragging(!1),console.log("LINKING",null==event?void 0:event.target);var _target=null==event?void 0:event.target;if(_target.hasAttribute("data-nodeid")){var _nodeId=_target.getAttribute("data-nodeid")||"",_handleId=_target.getAttribute("data-handleid")||"",current_path=_paths.current.find((function(a){return a.id==_path.id}));if(!current_path)return;null==onPathUpdate||onPathUpdate(Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.c)(current_path,_nodeId,_handleId))}}else{var point=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},{x:null==position?void 0:position.x,y:null==position?void 0:position.y});updatePathPosition(point)}}))}},moveNode:Object(lodash__WEBPACK_IMPORTED_MODULE_20__.throttle)((function(node,pos){return function _moveNode(node,position){node&&(null==onSelect||onSelect("node",node));var pos=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},position);if(pos=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.d)(pos,snapToGrid||!1,grid),editable&&pos){var fNode=(_nodes||[]).find((function(a){return a.id==node}));if(!fNode)return;var updatedNode=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.e)(fNode,pos);null==onNodeUpdate||onNodeUpdate(updatedNode)}}(node,pos)}),100),reportPosition:function reportPortPosition(opts){var point=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},opts.position),node=(null==_nodes||_nodes.slice(),(null==_nodes?void 0:_nodes.find((function(a){return a.id==opts.nodeId})))||{x:0,y:0,ports:[]}),_ports=(((null==_nodes?void 0:_nodes.map((function(x){return x.id})))||[]).indexOf(opts.nodeId),Object.assign({},portRef.current));_ports[opts.nodeId+":"+opts.handleId]={relativeX:point.x-node.x,relativeY:point.y-node.y,x:opts.position.x,y:opts.position.y,width:opts.position.width,height:opts.position.height},function setPorts(ports){portRef.current=ports,_setPorts(ports)}(_ports)},selected:selected,selectNode:function selectNode(node){return null==onSelect?void 0:onSelect("node",node)},selectPath:function selectPath(path){return null==onSelect?void 0:onSelect("path",path)},changeZoom:function changeZoom(z){return setZoom(_zoom+z)},onRightClick:function onRightClick(item,pos){var position=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},pos);null==_onRightClick||_onRightClick(item,position)},information:information},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)("div",{onContextMenu:function onContextMenu(e){e.stopPropagation(),e.preventDefault()},ref:canvasRef,tabIndex:0,onKeyDown:function onKeyDown(e){"Delete"!=e.key&&"Backspace"!=e.key||null==onDelete||onDelete()},onMouseDown:function onMouseDown(evt){null==onBackdropClick||onBackdropClick(),setMenuPos(void 0),0==evt.button?(isDragging.current.dragging=!0,Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.f)(evt,(function(evt,position,lastPos,finished){!finished&&isDragging&&position&&lastPos&&updateOffset(position,lastPos),finished&&(isDragging.current.dragging=!1)}))):evt.button},onTouchStart:function onTouchStart(evt){setMenuPos(void 0),console.log("TOUCH BASED"),isDragging.current.dragging=!0,Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.g)(evt,(function(evt,position,lastPos,finished){console.log("Drag"),!finished&&isDragging&&position&&lastPos&&updateOffset(position,lastPos),finished&&(isDragging.current.dragging=!1)}))},onWheel:function onWheel(evt){var oldZoomFactor=_zoom/100,zoomY=evt.deltaY/60,zoomFactor=(_zoom+zoomY)/100,new_offset=_offset||{x:0,y:0};if(setZoom(_zoom+zoomY),canvasRef.current){var _canvasRef$current,bounds=null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current?void 0:_canvasRef$current.getBoundingClientRect(),clientWidth=bounds.width,clientHeight=bounds.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=evt.clientX-(null==bounds?void 0:bounds.left),clientY=evt.clientY-(null==bounds?void 0:bounds.top),xFactor=(clientX-_offset.x)/oldZoomFactor/clientWidth,yFactor=(clientY-_offset.y)/oldZoomFactor/clientHeight;new_offset={x:_offset.x+widthDiff*xFactor,y:_offset.y+heightDiff*yFactor},setOffset(new_offset)}null==onViewportChanged||onViewportChanged({offset:new_offset,zoom:_zoom})},onDragOver:function onDragOver(e){onDrop&&e.preventDefault()},onDrop:function _onDrop(e){if(onDrop){var _data=JSON.parse(e.dataTransfer.getData("infinite-canvas")),pos=Object(_utils_canvas__WEBPACK_IMPORTED_MODULE_26__.b)(canvasRef,{offset:_offset,zoom:_zoom},{x:e.clientX,y:e.clientY});onDrop(pos,_data),isDragging.current.dragging=!1}},className:className,children:[(contextMenu||[]).length>0&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_components_context_menu__WEBPACK_IMPORTED_MODULE_27__.a,{menu:contextMenu||[],open:Boolean(null!=menuPos),y:null==menuPos?void 0:menuPos.y,x:null==menuPos?void 0:menuPos.x}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_layers_grid__WEBPACK_IMPORTED_MODULE_22__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_layers_paths__WEBPACK_IMPORTED_MODULE_24__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_layers_nodes__WEBPACK_IMPORTED_MODULE_23__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_layers_information__WEBPACK_IMPORTED_MODULE_28__.a,{}),children]}),menu]})};BaseInfiniteCanvas.displayName="BaseInfiniteCanvas";var InfiniteCanvas=Object(styled_components__WEBPACK_IMPORTED_MODULE_19__.default)(BaseInfiniteCanvas)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n    user-select: none;\n"])));try{ZoomControls.displayName="ZoomControls",ZoomControls.__docgenInfo={description:"",displayName:"ZoomControls",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"{ vertical?: string; horizontal?: string; } | undefined"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#ZoomControls"]={docgenInfo:ZoomControls.__docgenInfo,name:"ZoomControls",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#ZoomControls"})}catch(__react_docgen_typescript_loader_error){}try{RetractingPort.displayName="RetractingPort",RetractingPort.__docgenInfo={description:"",displayName:"RetractingPort",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},scaleX:{defaultValue:null,description:"",name:"scaleX",required:!1,type:{name:"number"}},scaleY:{defaultValue:null,description:"",name:"scaleY",required:!1,type:{name:"number"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#RetractingPort"]={docgenInfo:RetractingPort.__docgenInfo,name:"RetractingPort",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#RetractingPort"})}catch(__react_docgen_typescript_loader_error){}try{BlockTray.displayName="BlockTray",BlockTray.__docgenInfo={description:"",displayName:"BlockTray",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!1,type:{name:"((block: Block, ix: number) => Element)"}},blocks:{defaultValue:null,description:"",name:"blocks",required:!0,type:{name:"Block[]"}},groupBy:{defaultValue:null,description:"",name:"groupBy",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#BlockTray"]={docgenInfo:BlockTray.__docgenInfo,name:"BlockTray",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#BlockTray"})}catch(__react_docgen_typescript_loader_error){}try{PortWidget.displayName="PortWidget",PortWidget.__docgenInfo={description:"",displayName:"PortWidget",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"center"'}]}},round:{defaultValue:null,description:"",name:"round",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#PortWidget"]={docgenInfo:PortWidget.__docgenInfo,name:"PortWidget",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#PortWidget"})}catch(__react_docgen_typescript_loader_error){}try{BaseInfiniteCanvas.displayName="BaseInfiniteCanvas",BaseInfiniteCanvas.__docgenInfo={description:"",displayName:"BaseInfiniteCanvas",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"{ background: string; lineColor: string; }"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(() => void)"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"((position: InfiniteCanvasPosition, data: any) => void)"}},nodes:{defaultValue:null,description:"",name:"nodes",required:!1,type:{name:"InfiniteCanvasNode[]"}},paths:{defaultValue:null,description:"",name:"paths",required:!1,type:{name:"InfiniteCanvasPath[]"}},onNodeUpdate:{defaultValue:null,description:"",name:"onNodeUpdate",required:!1,type:{name:"((node: InfiniteCanvasNode) => void)"}},onNodeRemove:{defaultValue:null,description:"",name:"onNodeRemove",required:!1,type:{name:"((node: InfiniteCanvasNode) => void)"}},onPathCreate:{defaultValue:null,description:"",name:"onPathCreate",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onPathUpdate:{defaultValue:null,description:"",name:"onPathUpdate",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onPathRemove:{defaultValue:null,description:"",name:"onPathRemove",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onNodesChanged:{defaultValue:null,description:"",name:"onNodesChanged",required:!1,type:{name:"((nodes: InfiniteCanvasNode[]) => void)"}},onPathsChanged:{defaultValue:null,description:"",name:"onPathsChanged",required:!1,type:{name:"((paths: InfiniteCanvasPath[]) => void)"}},onBackdropClick:{defaultValue:null,description:"",name:"onBackdropClick",required:!1,type:{name:"(() => void)"}},assets:{defaultValue:null,description:"",name:"assets",required:!1,type:{name:"{ [key: string]: Element; }"}},factories:{defaultValue:null,description:"",name:"factories",required:!1,type:{name:"AbstractWidgetFactory[]"}},snapToGrid:{defaultValue:{value:"false"},description:"",name:"snapToGrid",required:!1,type:{name:"boolean"}},grid:{defaultValue:{value:"{width: 100, height: 100, divisions: 3}"},description:"",name:"grid",required:!1,type:{name:"{ width: number; height: number; divisions: number; }"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"{ x: number; y: number; }"}},menu:{defaultValue:null,description:"",name:"menu",required:!1,type:{name:"any"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"any"}},contextMenu:{defaultValue:null,description:"",name:"contextMenu",required:!1,type:{name:'{ label?: any; icon?: any; onClick?: ((type: "path" | "node", id: string) => void); }[]'}},zoom:{defaultValue:null,description:"",name:"zoom",required:!1,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:'{ key: "path" | "node"; id: string; }[]'}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:'((key: "path" | "node", id: string) => void)'}},onRightClick:{defaultValue:null,description:"",name:"onRightClick",required:!1,type:{name:"((target: any, position: { x: number; y: number; }) => void)"}},onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!1,type:{name:"((viewport: { zoom: number; offset: { x: number; y: number; }; }) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseInfiniteCanvas"]={docgenInfo:BaseInfiniteCanvas.__docgenInfo,name:"BaseInfiniteCanvas",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseInfiniteCanvas"})}catch(__react_docgen_typescript_loader_error){}try{InfiniteCanvas.displayName="InfiniteCanvas",InfiniteCanvas.__docgenInfo={description:"",displayName:"InfiniteCanvas",props:{menu:{defaultValue:null,description:"",name:"menu",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"{ background: string; lineColor: string; }"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(() => void)"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"((position: InfiniteCanvasPosition, data: any) => void)"}},nodes:{defaultValue:null,description:"",name:"nodes",required:!1,type:{name:"InfiniteCanvasNode[]"}},paths:{defaultValue:null,description:"",name:"paths",required:!1,type:{name:"InfiniteCanvasPath[]"}},onNodeUpdate:{defaultValue:null,description:"",name:"onNodeUpdate",required:!1,type:{name:"((node: InfiniteCanvasNode) => void)"}},onNodeRemove:{defaultValue:null,description:"",name:"onNodeRemove",required:!1,type:{name:"((node: InfiniteCanvasNode) => void)"}},onPathCreate:{defaultValue:null,description:"",name:"onPathCreate",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onPathUpdate:{defaultValue:null,description:"",name:"onPathUpdate",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onPathRemove:{defaultValue:null,description:"",name:"onPathRemove",required:!1,type:{name:"((path: InfiniteCanvasPath) => void)"}},onNodesChanged:{defaultValue:null,description:"",name:"onNodesChanged",required:!1,type:{name:"((nodes: InfiniteCanvasNode[]) => void)"}},onPathsChanged:{defaultValue:null,description:"",name:"onPathsChanged",required:!1,type:{name:"((paths: InfiniteCanvasPath[]) => void)"}},onBackdropClick:{defaultValue:null,description:"",name:"onBackdropClick",required:!1,type:{name:"(() => void)"}},assets:{defaultValue:null,description:"",name:"assets",required:!1,type:{name:"{ [key: string]: Element; }"}},factories:{defaultValue:null,description:"",name:"factories",required:!1,type:{name:"AbstractWidgetFactory[]"}},snapToGrid:{defaultValue:{value:"false"},description:"",name:"snapToGrid",required:!1,type:{name:"boolean"}},grid:{defaultValue:{value:"{width: 100, height: 100, divisions: 3}"},description:"",name:"grid",required:!1,type:{name:"{ width: number; height: number; divisions: number; }"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"{ x: number; y: number; }"}},information:{defaultValue:null,description:"",name:"information",required:!1,type:{name:"any"}},contextMenu:{defaultValue:null,description:"",name:"contextMenu",required:!1,type:{name:'{ label?: any; icon?: any; onClick?: ((type: "path" | "node", id: string) => void); }[]'}},zoom:{defaultValue:null,description:"",name:"zoom",required:!1,type:{name:"number"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:'{ key: "path" | "node"; id: string; }[]'}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:'((key: "path" | "node", id: string) => void)'}},onRightClick:{defaultValue:null,description:"",name:"onRightClick",required:!1,type:{name:"((target: any, position: { x: number; y: number; }) => void)"}},onViewportChanged:{defaultValue:null,description:"",name:"onViewportChanged",required:!1,type:{name:"((viewport: { zoom: number; offset: { x: number; y: number; }; }) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#InfiniteCanvas"]={docgenInfo:InfiniteCanvas.__docgenInfo,name:"InfiniteCanvas",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#InfiniteCanvas"})}catch(__react_docgen_typescript_loader_error){}try{BaseStartNode.displayName="BaseStartNode",BaseStartNode.__docgenInfo={description:"",displayName:"BaseStartNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseStartNode"]={docgenInfo:BaseStartNode.__docgenInfo,name:"BaseStartNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseStartNode"})}catch(__react_docgen_typescript_loader_error){}try{StartNode.displayName="StartNode",StartNode.__docgenInfo={description:"",displayName:"StartNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#StartNode"]={docgenInfo:StartNode.__docgenInfo,name:"StartNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#StartNode"})}catch(__react_docgen_typescript_loader_error){}try{BaseActionNode.displayName="BaseActionNode",BaseActionNode.__docgenInfo={description:"",displayName:"BaseActionNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseActionNode"]={docgenInfo:BaseActionNode.__docgenInfo,name:"BaseActionNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseActionNode"})}catch(__react_docgen_typescript_loader_error){}try{ActionNodeWidget.displayName="ActionNodeWidget",ActionNodeWidget.__docgenInfo={description:"",displayName:"ActionNodeWidget",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#ActionNodeWidget"]={docgenInfo:ActionNodeWidget.__docgenInfo,name:"ActionNodeWidget",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#ActionNodeWidget"})}catch(__react_docgen_typescript_loader_error){}try{BaseIconNode.displayName="BaseIconNode",BaseIconNode.__docgenInfo={description:"",displayName:"BaseIconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseIconNode"]={docgenInfo:BaseIconNode.__docgenInfo,name:"BaseIconNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#BaseIconNode"})}catch(__react_docgen_typescript_loader_error){}try{UnstyledIconNode.displayName="UnstyledIconNode",UnstyledIconNode.__docgenInfo={description:"",displayName:"UnstyledIconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#UnstyledIconNode"]={docgenInfo:UnstyledIconNode.__docgenInfo,name:"UnstyledIconNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#UnstyledIconNode"})}catch(__react_docgen_typescript_loader_error){}try{IconNode.displayName="IconNode",IconNode.__docgenInfo={description:"",displayName:"IconNode",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}},extras:{defaultValue:null,description:"",name:"extras",required:!1,type:{name:"{ label?: string; color?: string; icon?: any; } | undefined"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/InfiniteCanvas.tsx#IconNode"]={docgenInfo:IconNode.__docgenInfo,name:"IconNode",path:"src/components/InfiniteCanvas/InfiniteCanvas.tsx#IconNode"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ContextMenu}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var _templateObject,react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),grommet__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_context_context__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");var BaseContextMenu=function BaseContextMenu(props){var _props$menu;Object(react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context_context__WEBPACK_IMPORTED_MODULE_6__.a);return props.open?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_3__.a,{onMouseDown:function onMouseDown(e){return e.stopPropagation()},className:props.className,background:"light-2",round:"xsmall",width:"xsmall",elevation:"small",pad:"xxsmall",style:{pointerEvents:"all",zIndex:20,position:"absolute",top:props.y,left:props.x},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_3__.a,{className:"context-menu__list",children:null===(_props$menu=props.menu)||void 0===_props$menu?void 0:_props$menu.map((function(datum){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_3__.a,{onClick:function onClick(){},round:"xxsmall",align:"center",className:"context-menu__item",direction:"row",children:[datum.icon,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_4__.a,{margin:"none",children:datum.label})]})}))})}):null},ContextMenu=Object(styled_components__WEBPACK_IMPORTED_MODULE_5__.default)(BaseContextMenu)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n\n.context-menu__list .context-menu__item{\n    padding: 3px;\n    cursor: pointer;\n    text-align: start;\n}\n\n.context-menu__list .context-menu__item span{\n    line-height: 16px;\n}\n\n.context-menu__list .context-menu__item svg{\n    width: 16px;\n    height: 16px;\n    margin-right: 8px;\n}\n\n.context-menu__list .context-menu__item:hover{\n    background: #dfdfdf;\n}\n"])));try{BaseContextMenu.displayName="BaseContextMenu",BaseContextMenu.__docgenInfo={description:"",displayName:"BaseContextMenu",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},menu:{defaultValue:null,description:"",name:"menu",required:!1,type:{name:'{ icon?: any; label?: any; onClick?: ((type: "path" | "node", id: string) => void); }[]'}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx#BaseContextMenu"]={docgenInfo:BaseContextMenu.__docgenInfo,name:"BaseContextMenu",path:"src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx#BaseContextMenu"})}catch(__react_docgen_typescript_loader_error){}try{ContextMenu.displayName="ContextMenu",ContextMenu.__docgenInfo={description:"",displayName:"ContextMenu",props:{menu:{defaultValue:null,description:"",name:"menu",required:!1,type:{name:'{ icon?: any; label?: any; onClick?: ((type: "path" | "node", id: string) => void); }[]'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx#ContextMenu"]={docgenInfo:ContextMenu.__docgenInfo,name:"ContextMenu",path:"src/components/InfiniteCanvas/components/context-menu/ContextMenu.tsx#ContextMenu"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/components/ports/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PortWidget}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _templateObject,react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),context=(__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx")),nodeid=__webpack_require__("./src/components/InfiniteCanvas/context/nodeid.tsx"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var base_usePort=function usePort(props){var _useContext=Object(react.useContext)(context.a),_dragPort=_useContext.dragPort,reportPosition=_useContext.reportPosition,ref=Object(react.useRef)(null),_useState2=_slicedToArray(Object(react.useState)(),2),lastPos=_useState2[0],setLastPos=_useState2[1],_useContext2=Object(react.useContext)(nodeid.a),nodeId=_useContext2.nodeId,dimensions=_useContext2.dimensions,position=_useContext2.position,rotation=_useContext2.rotation;return Object(react.useEffect)((function(){if(position&&!Object(lodash.isEqual)(Object.assign({rotation:rotation},position),lastPos)&&props.id&&ref.current){var _ref$current,bounds=null==ref||null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect();console.log("HIT",rotation),null==reportPosition||reportPosition({nodeId:nodeId,handleId:props.id,position:{x:null==bounds?void 0:bounds.x,y:null==bounds?void 0:bounds.y,width:null==bounds?void 0:bounds.width,height:null==bounds?void 0:bounds.height}}),setLastPos(Object.assign({rotation:rotation},position))}}),[props.id,position,dimensions,rotation]),{dragPort:function dragPort(e){null==_dragPort||_dragPort(e,props.id,nodeId)},extraProps:{ref:ref,"data-nodeid":nodeId,"data-handleid":props.id}}},base_BasePort=function BasePort(props){var _useContext3=Object(react.useContext)(context.a),_useState4=(_useContext3.ports,_useContext3.dragPort,_useContext3.setPorts,_useContext3.reportPosition,_slicedToArray(Object(react.useState)(),2)),_useContext4=(_useState4[0],_useState4[1],Object(react.useContext)(nodeid.a)),ref=(_useContext4.nodeId,_useContext4.position,_useContext4.rotation,Object(react.useRef)(null));return Object(jsx_runtime.jsx)("div",{onMouseDown:props.onMouseDown,"data-handleid":props.handleId,"data-nodeid":props.nodeId,ref:ref,className:props.className,children:props.children})};base_BasePort.displayName="BasePort";var ports_templateObject,_templateObject2,Port=Object(styled_components_browser_esm.default)(base_BasePort)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    position: absolute;\n"])));try{base_usePort.displayName="usePort",base_usePort.__docgenInfo={description:"",displayName:"usePort",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/ports/base.tsx#usePort"]={docgenInfo:base_usePort.__docgenInfo,name:"usePort",path:"src/components/InfiniteCanvas/components/ports/base.tsx#usePort"})}catch(__react_docgen_typescript_loader_error){}try{base_BasePort.displayName="BasePort",base_BasePort.__docgenInfo={description:"",displayName:"BasePort",props:{nodeId:{defaultValue:null,description:"",name:"nodeId",required:!1,type:{name:"string"}},handleId:{defaultValue:null,description:"",name:"handleId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/ports/base.tsx#BasePort"]={docgenInfo:base_BasePort.__docgenInfo,name:"BasePort",path:"src/components/InfiniteCanvas/components/ports/base.tsx#BasePort"})}catch(__react_docgen_typescript_loader_error){}try{Port.displayName="Port",Port.__docgenInfo={description:"",displayName:"Port",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},nodeId:{defaultValue:null,description:"",name:"nodeId",required:!1,type:{name:"string"}},handleId:{defaultValue:null,description:"",name:"handleId",required:!1,type:{name:"string"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/ports/base.tsx#Port"]={docgenInfo:Port.__docgenInfo,name:"Port",path:"src/components/InfiniteCanvas/components/ports/base.tsx#Port"})}catch(__react_docgen_typescript_loader_error){}function ports_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var ports_Port=styled_components_browser_esm.default.div(ports_templateObject||(ports_templateObject=ports_taggedTemplateLiteralLoose(["\n    width: 10px;\n    height: 10px;\n    background: green;\n\n    &:hover{\n        background-color: darkgreen;\n    }\n"]))),ports_UnstyledPortWidget=function UnstyledPortWidget(props){var _usePort=base_usePort({id:props.id}),extraProps=_usePort.extraProps,dragPort=_usePort.dragPort;return Object(jsx_runtime.jsxs)(Box.a,{gap:"xsmall",direction:"row",style:{display:"flex",alignItems:"center",justifyContent:"right"==props.direction?"flex-start":"center"==props.direction?"center":"flex-end"},className:"port-base",children:[props.label&&("left"==props.direction||!props.direction)&&Object(jsx_runtime.jsx)(Text.a,{size:"small",children:props.label}),Object(jsx_runtime.jsx)(ports_Port,Object.assign({onMouseDown:function onMouseDown(e){e.preventDefault(),console.log("DRAG",props.id),null==dragPort||dragPort(e)}},extraProps,{className:"port "+props.className+" "+(props.type||"in")})),props.label&&"right"==props.direction&&Object(jsx_runtime.jsx)(Text.a,{size:"small",children:props.label})]})};ports_UnstyledPortWidget.displayName="UnstyledPortWidget";var PortWidget=Object(styled_components_browser_esm.default)(ports_UnstyledPortWidget)(_templateObject2||(_templateObject2=ports_taggedTemplateLiteralLoose(["\n    &:hover{\n        background: rgba(255, 255, 255, 0.2);\n    }\n"])));try{ports_UnstyledPortWidget.displayName="UnstyledPortWidget",ports_UnstyledPortWidget.__docgenInfo={description:"",displayName:"UnstyledPortWidget",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},round:{defaultValue:null,description:"",name:"round",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"center"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/ports/index.tsx#UnstyledPortWidget"]={docgenInfo:ports_UnstyledPortWidget.__docgenInfo,name:"UnstyledPortWidget",path:"src/components/InfiniteCanvas/components/ports/index.tsx#UnstyledPortWidget"})}catch(__react_docgen_typescript_loader_error){}try{PortWidget.displayName="PortWidget",PortWidget.__docgenInfo={description:"",displayName:"PortWidget",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"center"'}]}},round:{defaultValue:null,description:"",name:"round",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/ports/index.tsx#PortWidget"]={docgenInfo:PortWidget.__docgenInfo,name:"PortWidget",path:"src/components/InfiniteCanvas/components/ports/index.tsx#PortWidget"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/components/zoom-controls/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ZoomControls}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.string.anchor.js");var _templateObject,grommet_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/grommet-icons/es6/icons/Add.js"),grommet_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/grommet-icons/es6/icons/Subtract.js"),grommet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),grommet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_context_context__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react/jsx-runtime.js");var BaseZoomControls=function BaseZoomControls(props){var changeZoom=Object(react__WEBPACK_IMPORTED_MODULE_7__.useContext)(_context_context__WEBPACK_IMPORTED_MODULE_9__.a).changeZoom;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_5__.a,{round:"xsmall",background:"white",elevation:"small",className:props.className,style:Object.assign({},props.style,{display:"flex",flexDirection:"column"}),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_6__.a,{style:{padding:0,paddingTop:8,paddingBottom:8,textAlign:"center"},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(grommet_icons__WEBPACK_IMPORTED_MODULE_3__.a,{}),onClick:function onClick(){return null==changeZoom?void 0:changeZoom(-1)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_6__.a,{style:{padding:0,paddingTop:8,paddingBottom:8,textAlign:"center"},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(grommet_icons__WEBPACK_IMPORTED_MODULE_4__.a,{}),onClick:function onClick(){return null==changeZoom?void 0:changeZoom(1)}})]})};BaseZoomControls.displayName="BaseZoomControls";var ZoomControls=Object(styled_components__WEBPACK_IMPORTED_MODULE_8__.default)(BaseZoomControls)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    width: 36px;\n    position: absolute;\n    top: ",";\n    bottom: ",";\n    left: ",";\n    right: ",";\n\n\n    .MuiButton-root{\n        padding: 6px 8px;\n        min-width: 36px;\n        max-width: 36px;\n    }\n"])),(function(p){var _p$anchor;return"top"==(null===(_p$anchor=p.anchor)||void 0===_p$anchor?void 0:_p$anchor.vertical)?"8px":"unset"}),(function(p){var _p$anchor2;return"bottom"==(null===(_p$anchor2=p.anchor)||void 0===_p$anchor2?void 0:_p$anchor2.vertical)?"8px":"unset"}),(function(p){var _p$anchor3;return"left"==(null===(_p$anchor3=p.anchor)||void 0===_p$anchor3?void 0:_p$anchor3.horizontal)?"8px":"unset"}),(function(p){var _p$anchor4;return"right"==(null===(_p$anchor4=p.anchor)||void 0===_p$anchor4?void 0:_p$anchor4.horizontal)?"8px":"unset"}));try{BaseZoomControls.displayName="BaseZoomControls",BaseZoomControls.__docgenInfo={description:"",displayName:"BaseZoomControls",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"{ vertical?: string; horizontal?: string; } | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/zoom-controls/index.tsx#BaseZoomControls"]={docgenInfo:BaseZoomControls.__docgenInfo,name:"BaseZoomControls",path:"src/components/InfiniteCanvas/components/zoom-controls/index.tsx#BaseZoomControls"})}catch(__react_docgen_typescript_loader_error){}try{ZoomControls.displayName="ZoomControls",ZoomControls.__docgenInfo={description:"",displayName:"ZoomControls",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!1,type:{name:"{ vertical?: string; horizontal?: string; } | undefined"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/components/zoom-controls/index.tsx#ZoomControls"]={docgenInfo:ZoomControls.__docgenInfo,name:"ZoomControls",path:"src/components/InfiniteCanvas/components/zoom-controls/index.tsx#ZoomControls"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/context/context.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InfiniteCanvasContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),InfiniteCanvasContext=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__).a.createContext({offset:{x:0,y:0},darkMode:!0,zoom:1,io_status:{},plant_status:{}})},"./src/components/InfiniteCanvas/context/nodeid.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NodeIdContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),NodeIdContext=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__).a.createContext({nodeId:"",position:{x:0,y:0},rotation:0,scaleX:1,scaleY:1,dimensions:{width:0,height:0}})},"./src/components/InfiniteCanvas/layers/grid.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GridLayer}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_context_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),GridLayer=function GridLayer(props){var _useContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_context__WEBPACK_IMPORTED_MODULE_1__.a),zoom=_useContext.zoom,offset=_useContext.offset,darkMode=_useContext.darkMode,grid=(_useContext.snapToGrid,_useContext.grid),style=_useContext.style,lineColor={dark:(null==style?void 0:style.lineColor)||"#131c20",light:"#dfdfdf"},bgColor={dark:(null==style?void 0:style.background)||"rgb(42, 42, 42)",light:"white"},backgroundColor=darkMode?bgColor.dark:bgColor.light,lineColors=darkMode?lineColor.dark:lineColor.light,svgRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){}),[]);var scaledTile=100*zoom,offsetX=offset.x%scaledTile,offsetY=offset.y%scaledTile;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("svg",{ref:svgRef,style:{flex:1,backgroundColor:backgroundColor},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("defs",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("pattern",{patternUnits:"userSpaceOnUse",width:(null==grid?void 0:grid.width)||"100",height:(null==grid?void 0:grid.height)||"100",viewBox:"0 0 100 100",id:"cells",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("rect",{x:"0",y:"0",width:(null==grid?void 0:grid.width)||"100",height:(null==grid?void 0:grid.height)||"100",fill:"none",style:{strokeWidth:2,stroke:lineColors}}),function renderHorizontal(){for(var horiz=[],w=(grid||{width:100}).width/((null==grid?void 0:grid.divisions)||10),i=0;i<((null==grid?void 0:grid.divisions)||10);i++)horiz.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("line",{stroke:lineColors,x1:"0.5",x2:"99.5",y1:""+i*w,y2:""+i*w}));return horiz}(),function renderVertical(){for(var vert=[],h=(grid||{height:100}).height/((null==grid?void 0:grid.divisions)||10),i=0;i<((null==grid?void 0:grid.divisions)||10);i++)vert.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("line",{stroke:lineColors,x1:""+i*h,x2:""+i*h,y1:"0.5",y2:"99.5"}));return vert}()]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("pattern",{patternUnits:"userSpaceOnUse",width:scaledTile,height:scaledTile,viewBox:"0 0 "+scaledTile+" "+scaledTile,id:"cell-rect",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("rect",{x:"-100",y:"-100",width:"300",height:"300",style:{fill:"url(#cells)",transformOrigin:"0 0",transform:"matrix("+zoom+", 0, 0, "+zoom+", "+offsetX+", "+offsetY+")"}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("rect",{height:"100%",width:"100%",fill:"url(#cell-rect)"})]})};GridLayer.displayName="GridLayer";try{GridLayer.displayName="GridLayer",GridLayer.__docgenInfo={description:"",displayName:"GridLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/layers/grid.tsx#GridLayer"]={docgenInfo:GridLayer.__docgenInfo,name:"GridLayer",path:"src/components/InfiniteCanvas/layers/grid.tsx#GridLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/layers/information.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InformationLayer}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_context_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),InformationLayer=function InformationLayer(_ref){var className=_ref.className,_useContext=Object(react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context_context__WEBPACK_IMPORTED_MODULE_3__.a),zoom=(_useContext.selected,_useContext.factories,_useContext.moveNode,_useContext.selectNode,_useContext.zoom),offset=(_useContext.assets,_useContext.offset),information=(_useContext.nodes,_useContext.nodeRefs,_useContext.setNodeRefs,_useContext.openContextMenu,_useContext.onRightClick,_useContext.information),getRelativeCanvasPos=_useContext.getRelativeCanvasPos;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:className,style:{zIndex:99,pointerEvents:"none",position:"absolute",width:"100%",height:"100%",transformOrigin:"0 0",transform:"matrix("+zoom+", 0, 0, "+zoom+", "+offset.x+", "+offset.y+")"},children:Array.isArray(information)?null==information?void 0:information.map((function(x){return x.component(null==getRelativeCanvasPos?void 0:getRelativeCanvasPos({x:x.x,y:x.y}))})):information})};InformationLayer.displayName="InformationLayer";try{InformationLayer.displayName="InformationLayer",InformationLayer.__docgenInfo={description:"",displayName:"InformationLayer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/layers/information.tsx#InformationLayer"]={docgenInfo:InformationLayer.__docgenInfo,name:"InformationLayer",path:"src/components/InfiniteCanvas/layers/information.tsx#InformationLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/layers/nodes.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NodeLayer}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var _templateObject,react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/InfiniteCanvas/utils/index.ts"),_context_context__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),_context_nodeid__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/components/InfiniteCanvas/context/nodeid.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BaseNodeLayer=function BaseNodeLayer(_ref){var _ref$status=_ref.status,status=void 0===_ref$status?{}:_ref$status,className=(_ref.onClick,_ref.className),_useContext=Object(react__WEBPACK_IMPORTED_MODULE_13__.useContext)(_context_context__WEBPACK_IMPORTED_MODULE_16__.a),selected=_useContext.selected,_useContext$factories=_useContext.factories,factories=void 0===_useContext$factories?{}:_useContext$factories,moveNode=_useContext.moveNode,selectNode=_useContext.selectNode,zoom=_useContext.zoom,offset=(_useContext.assets,_useContext.offset),_useContext$nodes=_useContext.nodes,nodes=void 0===_useContext$nodes?[]:_useContext$nodes,setNodeRefs=(_useContext.nodeRefs,_useContext.setNodeRefs),openContextMenu=_useContext.openContextMenu,onRightClick=_useContext.onRightClick;console.log(offset);var itemRefs=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)({}),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),setHoverEl=(_useState2[0],_useState2[1]),_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),setHoverNode=(_useState4[0],_useState4[1]),renderAssetBundle=function renderAssetBundle(key,node,selected){node.value?status[node.value]:status[key];var factory=null==factories?void 0:factories[node.type];if(node.isSelected=selected,factory)return factory.generateWidget(node)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{className:className,style:{pointerEvents:"none",transform:"matrix("+zoom+", 0, 0, "+zoom+", "+offset.x+", "+offset.y+")"},children:nodes&&nodes.map((function(node){var _node$extras,_node$extras2,_node$extras3,_node$extras4,_node$extras5,_node$extras6;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{onContextMenu:function onContextMenu(e){null==openContextMenu||openContextMenu({x:e.clientX,y:e.clientY},{type:"node",id:node.id})},ref:function ref(element){itemRefs.current[node.id]=element,null==setNodeRefs||setNodeRefs(itemRefs.current)},className:"node-container "+(null!=(null==selected?void 0:selected.find((function(a){return"node"==a.key&&a.id==node.id})))?"selected":""),onClick:function onClick(e){null==selectNode||selectNode(node.id)},onMouseDown:function onMouseDown(evt){return function mouseDown(elem,evt){if(evt.stopPropagation(),0==evt.button){var _itemRefs$current$ele,doc=Object(_utils__WEBPACK_IMPORTED_MODULE_15__.c)(evt.target),offsetRect={x:0,y:0},rect=null===(_itemRefs$current$ele=itemRefs.current[elem])||void 0===_itemRefs$current$ele?void 0:_itemRefs$current$ele.getBoundingClientRect();rect&&(offsetRect={x:rect.x-evt.clientX,y:rect.y-evt.clientY});var mouseMove=function mouseMove(evt){var _offsetRect,_offsetRect2;evt.stopPropagation(),null==moveNode||moveNode(elem,{x:evt.clientX+(null===(_offsetRect=offsetRect)||void 0===_offsetRect?void 0:_offsetRect.x),y:evt.clientY+(null===(_offsetRect2=offsetRect)||void 0===_offsetRect2?void 0:_offsetRect2.y)})};doc.addEventListener("mousemove",mouseMove),doc.addEventListener("mouseup",(function mouseUp(evt){evt.stopPropagation(),doc.removeEventListener("mousemove",mouseMove),doc.removeEventListener("mouseup",mouseUp)}))}else null==onRightClick||onRightClick(elem,{x:evt.clientX,y:evt.clientY})}(node.id,evt)},onMouseEnter:function onMouseEnter(ev){return function nodeHover(target,node_key){if(nodes&&nodes[node_key]){setHoverEl(target);var node=nodes[node_key];node.label=node_key,setHoverNode(node)}}(ev.currentTarget,node.id)},onMouseLeave:function onMouseLeave(){return function nodeHoverEnd(){setHoverEl(null),setHoverNode(null)}()},style:{pointerEvents:"all",left:node.x,top:node.y,transform:"rotate("+(null==node||null===(_node$extras=node.extras)||void 0===_node$extras?void 0:_node$extras.rotation)+"deg)\n                                    scaleX("+((null==node||null===(_node$extras2=node.extras)||void 0===_node$extras2?void 0:_node$extras2.scaleX)||1)+")\n                                    scaleY("+((null==node||null===(_node$extras3=node.extras)||void 0===_node$extras3?void 0:_node$extras3.scaleY)||1)+")"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_context_nodeid__WEBPACK_IMPORTED_MODULE_17__.a.Provider,{value:{nodeId:node.id,rotation:(null==node||null===(_node$extras4=node.extras)||void 0===_node$extras4?void 0:_node$extras4.rotation)||0,scaleX:(null==node||null===(_node$extras5=node.extras)||void 0===_node$extras5?void 0:_node$extras5.scaleX)||1,scaleY:(null==node||null===(_node$extras6=node.extras)||void 0===_node$extras6?void 0:_node$extras6.scaleY)||1,position:{x:node.x,y:node.y},dimensions:{width:node.width||0,height:node.height||0}},children:renderAssetBundle(node.id,node,null!=(null==selected?void 0:selected.find((function(a){return"node"==a.key&&(null==a?void 0:a.id)==node.id}))))})})}))})};BaseNodeLayer.displayName="BaseNodeLayer";var NodeLayer=Object(styled_components__WEBPACK_IMPORTED_MODULE_14__.default)(BaseNodeLayer)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(['\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    transform-origin: 0 0;\n\n\n    .info-popup{\n        display: flex;\n        flex-direction: column;\n        padding: 8px;\n    }\n\n    .menu-dialog{\n        margin-left: 10px;\n    }\n\n    .menu-dialog:before{\n        content: "";\n        position: absolute;\n        top: 50%;\n        left: -10px;\n        width: 0;\n        height: 0;\n        border-top: 5px solid transparent;\n        border-right: 10px solid white;\n        border-bottom: 5px solid transparent;\n    }\n\n    .node-container{\n        position: absolute;\n        cursor: pointer;\n    }\n\n   \n\n    .started path, .started circle{\n        stroke: green;\n    }\n    .open path, .open circle{\n        stroke: green;\n    }\n\n    .closing path, .closing circle, .opening path, .opening circle{\n        stroke: brown;\n    }\n\n    .starting path, .starting circle, .stopping path .stopping circle{\n        stroke: brown;\n    }\n\n    .closed path, .closed circle{\n        stroke: red;\n    }\n\n    .stopped path, .stopped circle{\n        stroke: red;\n    }\n'])));try{BaseNodeLayer.displayName="BaseNodeLayer",BaseNodeLayer.__docgenInfo={description:"",displayName:"BaseNodeLayer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},status:{defaultValue:{value:"{}"},description:"",name:"status",required:!1,type:{name:"{ [key: string]: any; }"}},onClick:{defaultValue:{value:"() => {}"},description:"",name:"onClick",required:!1,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/layers/nodes.tsx#BaseNodeLayer"]={docgenInfo:BaseNodeLayer.__docgenInfo,name:"BaseNodeLayer",path:"src/components/InfiniteCanvas/layers/nodes.tsx#BaseNodeLayer"})}catch(__react_docgen_typescript_loader_error){}try{NodeLayer.displayName="NodeLayer",NodeLayer.__docgenInfo={description:"",displayName:"NodeLayer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:{value:"() => {}"},description:"",name:"onClick",required:!1,type:{name:"Function"}},status:{defaultValue:{value:"{}"},description:"",name:"status",required:!1,type:{name:"{ [key: string]: any; }"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/layers/nodes.tsx#NodeLayer"]={docgenInfo:NodeLayer.__docgenInfo,name:"NodeLayer",path:"src/components/InfiniteCanvas/layers/nodes.tsx#NodeLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/layers/paths.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return paths_PathLayer}));__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _templateObject,react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/components/InfiniteCanvas/utils/index.ts"),context_context=__webpack_require__("./src/components/InfiniteCanvas/context/context.tsx"),styled_components_browser_esm=(__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js")),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),point_PathPoint=function PathPoint(props){return Object(jsx_runtime.jsxs)("g",{onContextMenu:props.onContextMenu,style:props.style,onMouseDown:props.onMouseDown,children:[Object(jsx_runtime.jsx)("circle",{cx:props.cx,cy:props.cy,r:5,fill:"purple"}),Object(jsx_runtime.jsx)("circle",{cx:props.cx,cy:props.cy,r:2,fill:"black"})]})};point_PathPoint.displayName="PathPoint";try{point_PathPoint.displayName="PathPoint",point_PathPoint.__docgenInfo={description:"",displayName:"PathPoint",props:{cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/defaults/path/point.tsx#PathPoint"]={docgenInfo:point_PathPoint.__docgenInfo,name:"PathPoint",path:"src/components/InfiniteCanvas/defaults/path/point.tsx#PathPoint"})}catch(__react_docgen_typescript_loader_error){}var segment_BaseFlowPathSegment=function BaseFlowPathSegment(props){var d=Object(react.useMemo)((function(){return props.d?props.d:props.points?Object(utils.b)(props.points):void 0}),[props.d,props.points]);return Object(jsx_runtime.jsxs)("g",{onContextMenu:props.onContextMenu,className:props.className,onMouseDown:props.onMouseDown,children:[Object(jsx_runtime.jsx)("path",{d:d,className:"flow-path__pipe"}),Object(jsx_runtime.jsx)("path",{d:d,className:"flow-path","marker-end":"url(#head)"}),Object(jsx_runtime.jsx)("path",{d:d,className:"flow-path__highlight"})]})};segment_BaseFlowPathSegment.displayName="BaseFlowPathSegment";var path_templateObject,FlowPathSegment=Object(styled_components_browser_esm.default)(segment_BaseFlowPathSegment)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n\n    cursor: pointer;\n\n    .flow-path{\n        stroke: blue;\n        stroke-opacity: 0;\n        stroke-linecap: round;\n        stroke-linejoin: round;\n        fill: none;\n        stroke-width: 2px;\n    }\n\n    .flow-path__pipe, .flow-path__pipe-border{\n        fill: none;\n        stroke-linejoin: round;\n        stroke-width: 4px;\n        stroke-opacity: 0.6;\n        stroke-border: 1px solid black;\n        stroke: #dfdfdf;\n    }\n\n    .flow-path__pipe-border{\n        stroke-width: 6px;\n        stroke: black;\n    }\n\n    .flow-path__highlight {\n        fill: none;\n        stroke-linejoin: round;\n        stroke-width: 8px;\n        stroke-opacity: 0;\n        stroke: cyan;\n    }\n\n    @keyframes marching {\n        to{\n            stroke-dashoffset: 0;\n        }\n    }\n\n    \n    &.active .flow-path__highlight {\n        stroke-opacity: 0;\n    }\n\n    &.active .flow-path{\n        stroke: #F99C1C;\n        stroke-opacity: 1;\n        stroke-dasharray: 4px;\n        stroke-dashoffset: 8px;\n        animation: marching 1s linear infinite;\n    }\n"])));try{segment_BaseFlowPathSegment.displayName="BaseFlowPathSegment",segment_BaseFlowPathSegment.__docgenInfo={description:"",displayName:"BaseFlowPathSegment",props:{d:{defaultValue:null,description:"",name:"d",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},points:{defaultValue:null,description:"",name:"points",required:!1,type:{name:"InfiniteCanvasPosition[]"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/defaults/path/segment.tsx#BaseFlowPathSegment"]={docgenInfo:segment_BaseFlowPathSegment.__docgenInfo,name:"BaseFlowPathSegment",path:"src/components/InfiniteCanvas/defaults/path/segment.tsx#BaseFlowPathSegment"})}catch(__react_docgen_typescript_loader_error){}try{FlowPathSegment.displayName="FlowPathSegment",FlowPathSegment.__docgenInfo={description:"",displayName:"FlowPathSegment",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},points:{defaultValue:null,description:"",name:"points",required:!1,type:{name:"InfiniteCanvasPosition[]"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},d:{defaultValue:null,description:"",name:"d",required:!1,type:{name:"string"}},arrow:{defaultValue:null,description:"",name:"arrow",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/defaults/path/segment.tsx#FlowPathSegment"]={docgenInfo:FlowPathSegment.__docgenInfo,name:"FlowPathSegment",path:"src/components/InfiniteCanvas/defaults/path/segment.tsx#FlowPathSegment"})}catch(__react_docgen_typescript_loader_error){}var path_BaseFlowPath=function BaseFlowPath(props){var segmentClick=function segmentClick(ix,e){var _props$onMouseDown;null===(_props$onMouseDown=props.onMouseDown)||void 0===_props$onMouseDown||_props$onMouseDown.call(props,ix,e,{x:e.clientX,y:e.clientY})};return props.editable?Object(jsx_runtime.jsxs)("g",{className:props.className+" "+(props.selected?"selected":""),children:[function generateLine(points,path_render){return points.reduce((function(result,value,index,array){return index<array.length-1&&result.push(array.slice(index,index+2)),result}),[]).map((function(pair,ix){return path_render(pair,ix)}))}(props.points,(function(points,ix){return Object(jsx_runtime.jsx)(FlowPathSegment,{onContextMenu:props.onContextMenu,arrow:ix==props.points.length,onMouseDown:function onMouseDown(e){return segmentClick(ix,e)},points:points})})),function generateHandles(points,render){var _props$path;return points.slice(0,null!==(_props$path=props.path)&&void 0!==_props$path&&_props$path.targetHandle?points.length-1:points.length).map((function(point,ix){return 0!=ix&&render(point,ix)}))}(props.points,(function(location,ix){return Object(jsx_runtime.jsx)(point_PathPoint,{onContextMenu:props.onContextMenu,onMouseDown:function onMouseDown(e){return function dragPathPoint(e,ix){var _props$onPointsChange,pos={x:e.clientX,y:e.clientY};e.preventDefault(),e.stopPropagation(),null===(_props$onPointsChange=props.onPointsChanged)||void 0===_props$onPointsChange||_props$onPointsChange.call(props,ix,pos);var doc=Object(utils.c)(e.target),updatePointPosition=Object(lodash.throttle)((function(point){var _props$onPointsChange2;null===(_props$onPointsChange2=props.onPointsChanged)||void 0===_props$onPointsChange2||_props$onPointsChange2.call(props,ix,point)}),100),mouseMove=function mouseMove(e){updatePointPosition({x:e.clientX,y:e.clientY})};doc.addEventListener("mousemove",mouseMove),doc.addEventListener("mouseup",(function mouseUp(e){var target=e.target;if(target.hasAttribute("data-nodeid")){var _props$onLinked,_nodeId=target.getAttribute("data-nodeid")||"",_handleId=target.getAttribute("data-handleid")||"";null===(_props$onLinked=props.onLinked)||void 0===_props$onLinked||_props$onLinked.call(props,_nodeId,_handleId)}doc.removeEventListener("mousemove",mouseMove),doc.removeEventListener("mouseup",mouseUp)}))}(e,ix)},style:{cursor:"pointer"},cx:location.x,cy:location.y})})),Object(jsx_runtime.jsx)("defs",{children:Object(jsx_runtime.jsx)("marker",{id:"head",orient:"auto",markerWidth:"16",markerHeight:"32",refX:"12",refY:"5",children:Object(jsx_runtime.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"gray"})})})]}):Object(jsx_runtime.jsx)("g",{className:props.className+" "+(props.selected?"selected":""),children:Object(jsx_runtime.jsx)(FlowPathSegment,{arrow:!0,onContextMenu:props.onContextMenu,onMouseDown:function onMouseDown(e){return segmentClick(0,e)},points:props.points})})},FlowPath=Object(styled_components_browser_esm.default)(path_BaseFlowPath)(path_templateObject||(path_templateObject=function path_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    &:hover .flow-path__highlight{\n        stroke-opacity: 0.4;\n    }\n\n    &.selected .flow-path__highlight{\n        stroke-opacity: 0.5;\n    }\n"])));try{path_BaseFlowPath.displayName="BaseFlowPath",path_BaseFlowPath.__docgenInfo={description:"",displayName:"BaseFlowPath",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"InfiniteCanvasPosition[]"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"InfiniteCanvasPath"}},onLinked:{defaultValue:null,description:"",name:"onLinked",required:!1,type:{name:"((nodeId: string, handleId: string) => void)"}},onPointsChanged:{defaultValue:null,description:"",name:"onPointsChanged",required:!1,type:{name:"((ix: number, position: InfiniteCanvasPosition) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((ix: number, e: MouseEvent<Element, MouseEvent>, position: InfiniteCanvasPosition) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/defaults/path/index.tsx#BaseFlowPath"]={docgenInfo:path_BaseFlowPath.__docgenInfo,name:"BaseFlowPath",path:"src/components/InfiniteCanvas/defaults/path/index.tsx#BaseFlowPath"})}catch(__react_docgen_typescript_loader_error){}try{FlowPath.displayName="FlowPath",FlowPath.__docgenInfo={description:"",displayName:"FlowPath",props:{path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"InfiniteCanvasPath"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((ix: number, e: MouseEvent<Element, MouseEvent>, position: InfiniteCanvasPosition) => void)"}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"InfiniteCanvasPosition[]"}},onLinked:{defaultValue:null,description:"",name:"onLinked",required:!1,type:{name:"((nodeId: string, handleId: string) => void)"}},onPointsChanged:{defaultValue:null,description:"",name:"onPointsChanged",required:!1,type:{name:"((ix: number, position: InfiniteCanvasPosition) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/defaults/path/index.tsx#FlowPath"]={docgenInfo:FlowPath.__docgenInfo,name:"FlowPath",path:"src/components/InfiniteCanvas/defaults/path/index.tsx#FlowPath"})}catch(__react_docgen_typescript_loader_error){}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var paths_PathLayer=function PathLayer(props){var context=Object(react.useContext)(context_context.a),zoom=context.zoom,offset=context.offset,_useState2=_slicedToArray(Object(react.useState)([]),2),paths=_useState2[0],setPaths=_useState2[1];Object(react.useEffect)((function(){if(context.paths&&context.nodes&&context.ports){console.log(context.ports);var p=context.paths.map((function(x){var points=x.points||[];if(x.sourceHandle){var _context$nodes,_context$ports,node=null===(_context$nodes=context.nodes)||void 0===_context$nodes?void 0:_context$nodes.find((function(a){return a.id==x.source})),port=null==context||null===(_context$ports=context.ports)||void 0===_context$ports?void 0:_context$ports[x.source+":"+x.sourceHandle];if(port&&node)points=[{x:((null==node?void 0:node.x)||0)+((null==port?void 0:port.relativeX)||0)+(port.width||0)/2,y:((null==node?void 0:node.y)||0)+((null==port?void 0:port.relativeY)||0)+(port.height||0)/2}].concat(_toConsumableArray(points||[]))}if(x.targetHandle){var _context$nodes2,_context$ports2,_node=null===(_context$nodes2=context.nodes)||void 0===_context$nodes2?void 0:_context$nodes2.find((function(a){return a.id==x.target})),_port=null==context||null===(_context$ports2=context.ports)||void 0===_context$ports2?void 0:_context$ports2[x.target+":"+x.targetHandle];if(_port&&_node){var _point={x:((null==_node?void 0:_node.x)||0)+((null==_port?void 0:_port.relativeX)||0)+(_port.width||0)/2,y:((null==_node?void 0:_node.y)||0)+((null==_port?void 0:_port.relativeY)||0)+(_port.height||0)/2};points=[].concat(_toConsumableArray(points||[]),[_point])}}return Object.assign({},x,{points:points,id:x.id})}));setPaths(p)}}),[context.paths,context.nodes,context.ports]);var runs=[{source:"TK101",target:"TK201",producer:"SC101"},{source:"TK201",target:"TK301",producer:"SC201"},{source:"TK301",target:"Clean Water",producer:"SC301"},{source:"BLO701",target:"TK201",producer:"BLO701"},{source:"TK301",target:"TK301",producer:"SC301"},{source:"TK301",target:"Drain",producer:"SC301"},{source:"TK601",target:"SC301",producer:"PMD601"},{source:"TK501",target:"TK201",producer:"PMD501"}],updatePoint=(Object(react.useMemo)((function(){var runner=[];return runs.forEach((function(run){var r=Object(utils.a)(paths,run.source,run.target);r.length>0&&runner.push({producer:run.producer,source:r[0].node,target:r[r.length-1].node,points:r})})),runner.filter((function(a){return a}))}),[]),function updatePoint(path_id,ix,pos){var _context$updatePathPo;null===(_context$updatePathPo=context.updatePathPoint)||void 0===_context$updatePathPo||_context$updatePathPo.call(context,path_id,ix-1,pos)});return Object(jsx_runtime.jsx)("svg",{style:{width:"100%",height:"100%",overflow:"visible",pointerEvents:"all",transformOrigin:"0 0",transform:"matrix("+zoom+", 0, 0, "+zoom+", "+offset.x+", "+offset.y+")",position:"absolute"},children:paths.map((function(path){var _context$selected;return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(FlowPath,{onContextMenu:function onContextMenu(e){var _context$openContextM;return null===(_context$openContextM=context.openContextMenu)||void 0===_context$openContextM?void 0:_context$openContextM.call(context,{x:e.clientX,y:e.clientY},{type:"path",id:path.id})},selected:null!=(null===(_context$selected=context.selected)||void 0===_context$selected?void 0:_context$selected.find((function(a){return"path"==a.key&&a.id==path.id}))),path:path,editable:context.editable,onLinked:function onLinked(nodeId,handleId){return function linkPath(path_id,nodeId,handleId){var _context$linkPath;null===(_context$linkPath=context.linkPath)||void 0===_context$linkPath||_context$linkPath.call(context,path_id,nodeId,handleId)}(path.id,nodeId,handleId)},onPointsChanged:function onPointsChanged(ix,point){return updatePoint(path.id,ix,point)},onMouseDown:function onMouseDown(ix,e,position){return e.metaKey||e.ctrlKey?function addPoint(path_id,ix,e,pos){var _context$addPathPoint;null===(_context$addPathPoint=context.addPathPoint)||void 0===_context$addPathPoint||_context$addPathPoint.call(context,path_id,ix,pos),e.stopPropagation(),console.log(e);var doc=Object(utils.c)(e.target),mouseMove=function mouseMove(e){updatePoint(path_id,ix+1,{x:e.clientX,y:e.clientY})};doc.addEventListener("mousemove",mouseMove),doc.addEventListener("mouseup",(function mouseUp(e){doc.removeEventListener("mousemove",mouseMove),doc.removeEventListener("mouseup",mouseUp)}))}(path.id,ix,e,position):function onSelect(path_id){var _context$selectPath;null===(_context$selectPath=context.selectPath)||void 0===_context$selectPath||_context$selectPath.call(context,path_id)}(path.id)},points:path.points||[]})})}))})};paths_PathLayer.displayName="PathLayer";try{paths_PathLayer.displayName="PathLayer",paths_PathLayer.__docgenInfo={description:"",displayName:"PathLayer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InfiniteCanvas/layers/paths.tsx#PathLayer"]={docgenInfo:paths_PathLayer.__docgenInfo,name:"PathLayer",path:"src/components/InfiniteCanvas/layers/paths.tsx#PathLayer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InfiniteCanvas/models/abstract-widget-factory.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractWidgetFactory}));__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function abstract_widget_factory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function abstract_widget_factory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var AbstractWidgetFactory=function(_AbstractFactory){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(AbstractWidgetFactory,_AbstractFactory);var _super=_createSuper(AbstractWidgetFactory);function AbstractWidgetFactory(){return abstract_widget_factory_classCallCheck(this,AbstractWidgetFactory),_super.apply(this,arguments)}return function abstract_widget_factory_createClass(Constructor,protoProps,staticProps){return protoProps&&abstract_widget_factory_defineProperties(Constructor.prototype,protoProps),staticProps&&abstract_widget_factory_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(AbstractWidgetFactory)}(function(){function AbstractFactory(type){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AbstractFactory),this.type=void 0,this.type=type}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(AbstractFactory,[{key:"getType",value:function getType(){return this.type}}]),AbstractFactory}())},"./src/components/InfiniteCanvas/utils/canvas.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return moveNode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getRelativeCanvasPos})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addPathSegment})),__webpack_require__.d(__webpack_exports__,"h",(function(){return updatePathSegment})),__webpack_require__.d(__webpack_exports__,"c",(function(){return linkPath})),__webpack_require__.d(__webpack_exports__,"d",(function(){return lockToGrid})),__webpack_require__.d(__webpack_exports__,"g",(function(){return onTouchDrag})),__webpack_require__.d(__webpack_exports__,"f",(function(){return onDrag}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var lodash__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/lodash/lodash.js"),___WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/InfiniteCanvas/utils/index.ts");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var moveNode=function moveNode(node,pos){return Object.assign({},node,pos)},getRelativeCanvasPos=function getRelativeCanvasPos(ref,viewport,position){if(ref.current){var pos=function getRelativePos(ref,position){var _ref$current,box=null==ref||null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect();return{x:position.x-(box?box.x:0),y:position.y-(box?box.y:0)}}(ref,position),scale=100/viewport.zoom;return{x:(pos.x-viewport.offset.x)/scale,y:(pos.y-viewport.offset.y)/scale}}return{x:0,y:0}},addPathSegment=function addPathSegment(path,segment_ix,point){var points=_toConsumableArray((path.points||[]).slice())||[];return path.target&&0!=segment_ix?points.splice(segment_ix,0,point):points=[point].concat(_toConsumableArray(points)),path.points=points,path},updatePathSegment=function updatePathSegment(path,ix,point){var p=Object.assign({},path),points=(p.points||[]).slice();return console.log(path,ix,point),points[ix]=point,p.points=points,console.log(p.points),p},linkPath=function linkPath(path,nodeId,handleId){return path.points.splice(path.points.length-1,1),path.target=nodeId,path.targetHandle=handleId,path},lockToGrid=function lockToGrid(point,snapToGrid,grid){if(snapToGrid){var widthMultiplier=((null==grid?void 0:grid.width)||0)/(grid.divisions||10),heightMultiplier=((null==grid?void 0:grid.height)||0)/(grid.divisions||10);point.x=Math.floor(point.x/widthMultiplier)*widthMultiplier,point.y=Math.floor(point.y/heightMultiplier)*heightMultiplier}return point},onTouchDrag=function onTouchDrag(evt,drag_event){var lastPos={x:evt.touches[0].clientX,y:evt.touches[0].clientY};evt.stopPropagation();var doc=Object(___WEBPACK_IMPORTED_MODULE_15__.c)(evt.target);lastPos={x:evt.touches[0].clientX,y:evt.touches[0].clientY};var onMouseMove=function onMouseMove(move_evt){null==drag_event||drag_event(move_evt,{x:move_evt.touches[0].clientX,y:move_evt.touches[0].clientY},Object.assign({},lastPos),!1),lastPos={x:move_evt.touches[0].clientX,y:move_evt.touches[0].clientY}};doc.addEventListener("touchmove",onMouseMove),doc.addEventListener("touchend",(function onMouseUp(){null==drag_event||drag_event(void 0,void 0,void 0,!0),doc.removeEventListener("touchmove",onMouseMove),doc.removeEventListener("touchend",onMouseUp)}))},onDrag=function onDrag(evt,drag_event){var lastPos={x:evt.clientX,y:evt.clientY};evt.stopPropagation();var doc=Object(___WEBPACK_IMPORTED_MODULE_15__.c)(evt.target);lastPos={x:evt.clientX,y:evt.clientY};var onMouseMove=Object(lodash__WEBPACK_IMPORTED_MODULE_14__.throttle)((function(move_evt){null==drag_event||drag_event(move_evt,{x:move_evt.clientX,y:move_evt.clientY},Object.assign({},lastPos),!1),lastPos={x:move_evt.clientX,y:move_evt.clientY}}),100);doc.addEventListener("mousemove",onMouseMove),doc.addEventListener("mouseup",(function onMouseUp(up_evt){null==drag_event||drag_event(up_evt,void 0,void 0,!0),doc.removeEventListener("mousemove",onMouseMove),doc.removeEventListener("mouseup",onMouseUp)}))}},"./src/components/InfiniteCanvas/utils/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getHostForElement})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createLine})),__webpack_require__.d(__webpack_exports__,"a",(function(){return bfs_search}));__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var getHostForElement=function getHostForElement(element){var _element$getRootNode,_window;return(null===(_element$getRootNode=element.getRootNode)||void 0===_element$getRootNode?void 0:_element$getRootNode.call(element))||(null===(_window=window)||void 0===_window?void 0:_window.document)},createLine=function createLine(path){var string="";return path.forEach((function(p,ix){string+=""+(0==ix?"M":"L")+p.x+" "+p.y+" "})),string},bfs_search=function bfs_search(graph,rootNode,targetNode,path){if(!rootNode)return[];path||(path=[{node:rootNode}]);var rootPaths=graph.filter((function(a){return a.source==rootNode}));if(rootPaths.length>0){var nextNode=rootPaths.find((function(a){return a.target===targetNode}));if(nextNode)return path.push({id:nextNode.id,node:nextNode.target}),path;var runs=rootPaths.map((function(rootPath){var _path;return path.map((function(x){return x.node})).indexOf(rootPath.target)<0?(null===(_path=path)||void 0===_path||_path.push({id:rootPath.id,node:rootPath.target}),bfs_search(graph,rootPath.target,targetNode,path)):[]})).filter((function(a){return a.length>0}))||[];if(runs.length>0)return runs.find((function(a){return a.length>0}))}return[]}},"./src/components/Kanban/Kanban.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"WithCards",(function(){return WithCards}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var react=__webpack_require__("./node_modules/react/index.js"),Box=(__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js")),react_beautiful_dnd_esm=__webpack_require__("./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"),Heading=(__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.date.now.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/grommet/es6/components/Heading/Heading.js")),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),KanbanList_KanbanList=function KanbanList(props){return Object(jsx_runtime.jsx)(react_beautiful_dnd_esm.c,{droppableId:props.droppableId||"",type:"LIST",children:function children(dropProvided){var _props$items;return Object(jsx_runtime.jsxs)(Box.a,Object.assign({},dropProvided.droppableProps,{ref:dropProvided.innerRef,gap:"small",style:{minHeight:"min-content"},pad:{vertical:"small"},direction:"column",flex:!0,children:[null===(_props$items=props.items)||void 0===_props$items?void 0:_props$items.map((function(item,index){return Object(jsx_runtime.jsx)(react_beautiful_dnd_esm.b,{draggableId:item.id,index:index,children:function children(dragProvided,dragSnapshot){var _props$renderCard;return Object(jsx_runtime.jsx)(Box.a,Object.assign({round:"xsmall",border:{side:"all",color:"lightblue",size:dragSnapshot.isDragging?"2px":"0px"},ref:dragProvided.innerRef},dragProvided.draggableProps,dragProvided.dragHandleProps,{children:(null==props||null===(_props$renderCard=props.renderCard)||void 0===_props$renderCard?void 0:_props$renderCard.call(props,item))||"div"}))}},item.id)})),dropProvided.placeholder]}))}})};KanbanList_KanbanList.displayName="KanbanList";try{KanbanList_KanbanList.displayName="KanbanList",KanbanList_KanbanList.__docgenInfo={description:"",displayName:"KanbanList",props:{items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"{ id: string; }[]"}},renderCard:{defaultValue:null,description:"",name:"renderCard",required:!1,type:{name:"any"}},droppableId:{defaultValue:null,description:"",name:"droppableId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Kanban/KanbanList.tsx#KanbanList"]={docgenInfo:KanbanList_KanbanList.__docgenInfo,name:"KanbanList",path:"src/components/Kanban/KanbanList.tsx#KanbanList"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var Menu=__webpack_require__("./node_modules/grommet/es6/components/Menu/Menu.js"),More=__webpack_require__("./node_modules/grommet-icons/es6/icons/More.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var KanbanColumnMenu_KanbanColumnMenu=function KanbanColumnMenu(props){Object(react.useRef)(null);var _useState2=_slicedToArray(Object(react.useState)(!1),2);_useState2[0],_useState2[1];return Object(jsx_runtime.jsx)(Menu.a,{dropAlign:{top:"bottom",left:"left"},dropBackground:"neutral-1",icon:Object(jsx_runtime.jsx)(More.a,{}),items:props.menu})};KanbanColumnMenu_KanbanColumnMenu.displayName="KanbanColumnMenu";try{KanbanColumnMenu_KanbanColumnMenu.displayName="KanbanColumnMenu",KanbanColumnMenu_KanbanColumnMenu.__docgenInfo={description:"",displayName:"KanbanColumnMenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Kanban/KanbanColumnMenu.tsx#KanbanColumnMenu"]={docgenInfo:KanbanColumnMenu_KanbanColumnMenu.__docgenInfo,name:"KanbanColumnMenu",path:"src/components/Kanban/KanbanColumnMenu.tsx#KanbanColumnMenu"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/@hexhive/utils/dist/index.js"),KanbanColumn_KanbanColumn=function KanbanColumn(_ref){var _ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,_ref$index=_ref.index,index=void 0===_ref$index?0:_ref$index,ttl=_ref.ttl,_ref$items=_ref.items,items=void 0===_ref$items?[{status:"Issued",name:""}]:_ref$items,renderCard=(_ref.isCombineEnabled,_ref.useClone,_ref.isScrollable,_ref.renderCard),_ref$menu=_ref.menu,menu=void 0===_ref$menu?[]:_ref$menu;return Object(jsx_runtime.jsxs)(Box.a,{overflow:"hidden",background:"accent-1",round:"xsmall",direction:"column",width:"300px",children:[Object(jsx_runtime.jsxs)(Box.a,{background:"accent-2",pad:{horizontal:"xxsmall"},align:"center",justify:"between",border:{side:"bottom",color:"dark-2"},direction:"row",children:[Object(jsx_runtime.jsx)(Heading.a,{margin:"small",level:"4",children:title}),Object(jsx_runtime.jsx)(KanbanColumnMenu_KanbanColumnMenu,{menu:menu})]}),Object(jsx_runtime.jsx)(Box.a,{pad:"small",overflow:{vertical:"auto"},flex:!0,children:Object(jsx_runtime.jsx)(KanbanList_KanbanList,{droppableId:""+index,renderCard:renderCard,items:items.filter((function(a){return!ttl||Date.now()-Object(dist.dateFromObjectID)(a.id).getTime()<ttl}))})})]})};KanbanColumn_KanbanColumn.displayName="KanbanColumn";try{KanbanColumn_KanbanColumn.displayName="KanbanColumn",KanbanColumn_KanbanColumn.__docgenInfo={description:"",displayName:"KanbanColumn",props:{title:{defaultValue:{value:""},description:"",name:"title",required:!1,type:{name:"string"}},ttl:{defaultValue:null,description:"",name:"ttl",required:!1,type:{name:"number"}},menu:{defaultValue:{value:"[]"},description:"",name:"menu",required:!1,type:{name:"{ label?: string; onClick?: string; }[] | undefined"}},index:{defaultValue:{value:"0"},description:"",name:"index",required:!1,type:{name:"number"}},items:{defaultValue:{value:"[{status: 'Issued', name: ''}]"},description:"",name:"items",required:!1,type:{name:"any[]"}},isCombineEnabled:{defaultValue:null,description:"",name:"isCombineEnabled",required:!1,type:{name:"boolean"}},useClone:{defaultValue:null,description:"",name:"useClone",required:!1,type:{name:"boolean"}},isScrollable:{defaultValue:null,description:"",name:"isScrollable",required:!1,type:{name:"boolean"}},renderCard:{defaultValue:null,description:"",name:"renderCard",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Kanban/KanbanColumn.tsx#KanbanColumn"]={docgenInfo:KanbanColumn_KanbanColumn.__docgenInfo,name:"KanbanColumn",path:"src/components/Kanban/KanbanColumn.tsx#KanbanColumn"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),KanbanCreateColumn_KanbanCreateColumn=function KanbanCreateColumn(props){return Object(jsx_runtime.jsx)(Box.a,{style:{display:"flex"},round:"xsmall",pad:"xsmall",background:"#dfdfdf",children:Object(jsx_runtime.jsx)(Button.a,{children:"Create Column..."})})};KanbanCreateColumn_KanbanCreateColumn.displayName="KanbanCreateColumn";try{KanbanCreateColumn_KanbanCreateColumn.displayName="KanbanCreateColumn",KanbanCreateColumn_KanbanCreateColumn.__docgenInfo={description:"",displayName:"KanbanCreateColumn",props:{onCreate:{defaultValue:null,description:"",name:"onCreate",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Kanban/KanbanCreateColumn.tsx#KanbanCreateColumn"]={docgenInfo:KanbanCreateColumn_KanbanCreateColumn.__docgenInfo,name:"KanbanCreateColumn",path:"src/components/Kanban/KanbanCreateColumn.tsx#KanbanCreateColumn"})}catch(__react_docgen_typescript_loader_error){}var Kanban_Kanban=function Kanban(_ref){var containerHeight=_ref.containerHeight,useClone=_ref.useClone,isCombineEnabled=_ref.isCombineEnabled,withScrollableColumns=_ref.withScrollableColumns,renderCard=_ref.renderCard,onDrag=_ref.onDrag,onCreateColumn=_ref.onCreateColumn,_ref$columns=_ref.columns,columns=void 0===_ref$columns?[]:_ref$columns,board=Object(jsx_runtime.jsx)(react_beautiful_dnd_esm.c,{droppableId:"board",type:"COLUMN",direction:"horizontal",ignoreContainerClipping:Boolean(containerHeight),children:function children(provided){return Object(jsx_runtime.jsxs)(Box.a,Object.assign({gap:"small",pad:"small",direction:"row",flex:!0,ref:provided.innerRef},provided.droppableProps,{children:[columns.map((function(key,index){return Object(jsx_runtime.jsx)(KanbanColumn_KanbanColumn,{ttl:key.ttl,index:index,menu:key.menu,title:key.title,items:key.rows,isScrollable:withScrollableColumns,isCombineEnabled:isCombineEnabled,useClone:useClone,renderCard:renderCard},key.id)})),Object(jsx_runtime.jsx)(Box.a,{children:onCreateColumn&&Object(jsx_runtime.jsx)(KanbanCreateColumn_KanbanCreateColumn,{onCreate:onCreateColumn})}),provided.placeholder]}))}});return Object(jsx_runtime.jsx)(react_beautiful_dnd_esm.a,{onDragEnd:onDrag||function onDragEnd(result){var _result$destination;console.log(result);var origin=parseInt(result.source.droppableId),dest=null===(_result$destination=result.destination)||void 0===_result$destination?void 0:_result$destination.droppableId;if(dest){var _columns$origin$rows,item_ix=null===(_columns$origin$rows=columns[origin].rows)||void 0===_columns$origin$rows?void 0:_columns$origin$rows.map((function(x){return x.id})).indexOf(result.draggableId);if(item_ix&&item_ix>-1){var _columns$origin$rows2,_columns$parseInt$row,_item=null===(_columns$origin$rows2=columns[origin].rows)||void 0===_columns$origin$rows2?void 0:_columns$origin$rows2.splice(item_ix,1);null===(_columns$parseInt$row=columns[parseInt(dest)].rows)||void 0===_columns$parseInt$row||_columns$parseInt$row.push(_item)}}},children:Object(jsx_runtime.jsx)(Box.a,{flex:!0,children:board})})};Kanban_Kanban.displayName="Kanban";try{Kanban_Kanban.displayName="Kanban",Kanban_Kanban.__docgenInfo={description:"",displayName:"Kanban",props:{containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!1,type:{name:"number"}},useClone:{defaultValue:null,description:"",name:"useClone",required:!1,type:{name:"boolean"}},isCombineEnabled:{defaultValue:null,description:"",name:"isCombineEnabled",required:!1,type:{name:"boolean"}},withScrollableColumns:{defaultValue:null,description:"",name:"withScrollableColumns",required:!1,type:{name:"boolean"}},renderCard:{defaultValue:null,description:"",name:"renderCard",required:!1,type:{name:"((item?: any) => any)"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((result: DropResult) => void)"}},onCreateColumn:{defaultValue:null,description:"",name:"onCreateColumn",required:!1,type:{name:"(() => void)"}},columns:{defaultValue:{value:"[]"},description:"",name:"columns",required:!1,type:{name:"KColumn[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Kanban/Kanban.tsx#Kanban"]={docgenInfo:Kanban_Kanban.__docgenInfo,name:"Kanban",path:"src/components/Kanban/Kanban.tsx#Kanban"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/Kanban",component:Kanban_Kanban,argTypes:{color:{control:"color"}}};var Kanban_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(Kanban_Kanban,Object.assign({},args))};Kanban_stories_Template.displayName="Template";var Primary=Kanban_stories_Template.bind({});Primary.args={columns:[{id:"1",title:"column",rows:[]}]};var WithCards=Kanban_stories_Template.bind({});WithCards.args={columns:[{id:"1",title:"column",rows:[{name:"two"}]},{id:"2",title:"column2",rows:[{name:"three"},{name:"fsdf"}]}],onCreateColumn:function onCreateColumn(){},renderCard:function renderCard(item){return Object(jsx_runtime.jsx)(Box.a,{background:"neutral-1",children:item.name})}},Primary.parameters=Object.assign({storySource:{source:"(args) => <Kanban {...args} />"}},Primary.parameters),WithCards.parameters=Object.assign({storySource:{source:"(args) => <Kanban {...args} />"}},WithCards.parameters)},"./src/components/ListBox/ListBox.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"OnlyClick",(function(){return OnlyClick})),__webpack_require__.d(__webpack_exports__,"OnlyEdit",(function(){return OnlyEdit}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/react/index.js");var _templateObject,Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),List=(__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/grommet/es6/components/List/List.js")),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),MoreVertical=__webpack_require__("./node_modules/grommet-icons/es6/icons/MoreVertical.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),HeaderBox=__webpack_require__("./src/components/HeaderBox/HeaderBox.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var ListBox_BaseListBox=function BaseListBox(props){return console.log({props:props}),Object(jsx_runtime.jsx)(HeaderBox.a,{header:props.header,children:Object(jsx_runtime.jsx)(List.a,{className:props.className,pad:"none",data:props.data,children:function children(datum){var item=props.renderItem(datum);return Object(jsx_runtime.jsxs)(Box.a,{style:{position:"relative"},direction:"row",onClick:props.onClickItem&&function(){var _props$onClickItem;return null===(_props$onClickItem=props.onClickItem)||void 0===_props$onClickItem?void 0:_props$onClickItem.call(props,datum)},align:"center",children:[Object(jsx_runtime.jsx)(Box.a,{pad:"xsmall",className:"list-item__content",flex:!0,children:item}),props.onEditItem&&Object(jsx_runtime.jsx)(Button.a,{plain:!0,style:{position:"absolute",right:6,padding:6,borderRadius:3},hoverIndicator:!0,onClick:function onClick(e){var _props$onEditItem;e.stopPropagation(),null===(_props$onEditItem=props.onEditItem)||void 0===_props$onEditItem||_props$onEditItem.call(props,datum)},icon:Object(jsx_runtime.jsx)(MoreVertical.a,{size:"small"})})]})}})})};ListBox_BaseListBox.displayName="BaseListBox";var ListBox=Object(styled_components_browser_esm.default)(ListBox_BaseListBox)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    ","\n"])),(function(p){return p.onClickItem?".list-item__content:hover {\n        background: #dfdfdf;\n    }":""}));try{ListBox_BaseListBox.displayName="BaseListBox",ListBox_BaseListBox.__docgenInfo={description:"",displayName:"BaseListBox",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"Element"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any[]"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(datum: any) => Element"}},onClickItem:{defaultValue:null,description:"",name:"onClickItem",required:!1,type:{name:"((item: any) => void)"}},onEditItem:{defaultValue:null,description:"",name:"onEditItem",required:!1,type:{name:"((item: any) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ListBox/ListBox.tsx#BaseListBox"]={docgenInfo:ListBox_BaseListBox.__docgenInfo,name:"BaseListBox",path:"src/components/ListBox/ListBox.tsx#BaseListBox"})}catch(__react_docgen_typescript_loader_error){}try{ListBox.displayName="ListBox",ListBox.__docgenInfo={description:"",displayName:"ListBox",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any[]"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(datum: any) => Element"}},onClickItem:{defaultValue:null,description:"",name:"onClickItem",required:!1,type:{name:"((item: any) => void)"}},onEditItem:{defaultValue:null,description:"",name:"onEditItem",required:!1,type:{name:"((item: any) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ListBox/ListBox.tsx#ListBox"]={docgenInfo:ListBox.__docgenInfo,name:"ListBox",path:"src/components/ListBox/ListBox.tsx#ListBox"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/ListBox",component:ListBox,argTypes:{color:{control:"color"}}};var ListBox_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ListBox,Object.assign({},args))};ListBox_stories_Template.displayName="Template";var Primary=ListBox_stories_Template.bind({});Primary.args={header:Object(jsx_runtime.jsx)(Text.a,{children:"Header"}),data:[{name:"Item"}],renderItem:function renderItem(item){return Object(jsx_runtime.jsx)(Text.a,{children:item.name})}};var OnlyClick=ListBox_stories_Template.bind({});OnlyClick.args={header:Object(jsx_runtime.jsx)(Text.a,{children:"Header"}),data:[{name:"Item"}],renderItem:function renderItem(item){return Object(jsx_runtime.jsx)(Text.a,{children:item.name})},onEditItem:null};var OnlyEdit=ListBox_stories_Template.bind({});OnlyEdit.args={header:Object(jsx_runtime.jsx)(Text.a,{children:"Header"}),data:[{name:"Item"}],renderItem:function renderItem(item){return Object(jsx_runtime.jsx)(Text.a,{children:item.name})},onClickItem:null},Primary.parameters=Object.assign({storySource:{source:"(args) => <ListBox {...args} />"}},Primary.parameters),OnlyClick.parameters=Object.assign({storySource:{source:"(args) => <ListBox {...args} />"}},OnlyClick.parameters),OnlyEdit.parameters=Object.assign({storySource:{source:"(args) => <ListBox {...args} />"}},OnlyEdit.parameters)},"./src/components/Timeline/Timeline.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"WithItems",(function(){return WithItems})),__webpack_require__.d(__webpack_exports__,"HeaderColors",(function(){return HeaderColors})),__webpack_require__.d(__webpack_exports__,"ResizableSplitter",(function(){return ResizableSplitter}));__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),styled_components_browser_esm=(__webpack_require__("./node_modules/core-js/modules/es.math.trunc.js"),__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"));__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _templateObject,defvalues={header:{top:{style:{backgroundColor:"#333333",fontSize:10,color:"white",textAlign:"center"}},middle:{style:{backgroundColor:"chocolate"},selectedStyle:{backgroundColor:"#b13525",fontWeight:"bold"}},bottom:{style:{background:"#f3f4f5",color:"#667280",fontSize:".9em"},selectedStyle:{backgroundColor:"#b13525",fontWeight:"bold"}}},taskList:{title:{label:"Projects",style:{backgroundColor:"#333333",borderBottom:"solid 1px silver",color:"white",textAlign:"center"}},task:{style:{backgroundColor:"#fbf9f9"}},verticalSeparator:{style:{backgroundColor:"#333333"},grip:{style:{backgroundColor:"#cfcfcd"}}}},dataViewPort:{rows:{style:{}},task:{showLabel:!1,style:{position:"absolute",borderRadius:14,color:"white",textAlign:"center",backgroundColor:"grey"},selectedStyle:{position:"absolute",borderRadius:14,border:"solid 1px #ff00fa",color:"white",textAlign:"center",backgroundColor:"grey"}}},links:{color:"black",selectedColor:"#ff00fa"}},Config=function(){function Config(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Config),this.data=void 0,this.load=function(values){_this.data={},values?_this.populate(values,defvalues,_this.data):_this.data=defvalues},this.data=defvalues}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Config,[{key:"populate",value:function populate(values,defvalues,_final){if(this.isObject(defvalues))for(var key in defvalues)values[key]?(_final[key]=values[key],this.populate(values[key],defvalues[key],_final[key])):_final[key]=defvalues[key]}},{key:"isObject",value:function isObject(value){return"string"!=typeof value&&"boolean"!=typeof value&&"number"!=typeof value}},{key:"values",get:function get(){return this.data}}]),Config}(),config_Config=new Config,CaretLeftFill=__webpack_require__("./node_modules/grommet-icons/es6/icons/CaretLeftFill.js"),CaretRightFill=__webpack_require__("./node_modules/grommet-icons/es6/icons/CaretRightFill.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var VerticalSpliter_VerticalSpliter=function VerticalSpliter(props){var verticalRef=Object(react.useRef)(null),dragging=Object(react.useRef)(!1),_useState2=_slicedToArray(Object(react.useState)(!1),2),isDragging=_useState2[0],_setDragging=_useState2[1],setDragging=function setDragging(val){dragging.current=val,_setDragging(val)},draggingPosition=Object(react.useRef)(0),onMouseMove=function onMouseMove(e){if(dragging.current){var _props$onTaskListSizi;e.stopPropagation();var _delta=(draggingPosition.current||0)-e.clientX;draggingPosition.current=e.clientX,_delta>0&&console.log("delta",_delta),null===(_props$onTaskListSizi=props.onTaskListSizing)||void 0===_props$onTaskListSizi||_props$onTaskListSizi.call(props,e.clientX+6)}};return Object(jsx_runtime.jsxs)("div",{ref:verticalRef,className:props.className+" "+(props.enabled?"enabled":"")+" "+(1==isDragging?"dragging":""),style:config_Config.values.taskList.verticalSeparator.style,onMouseDown:function onMouseDown(e){if(0===e.button&&props.enabled){draggingPosition.current=e.clientX,setDragging(!0);window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",(function cleanup(){setDragging(!1),window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",cleanup)}))}},children:[Object(jsx_runtime.jsx)(CaretLeftFill.a,{}),Object(jsx_runtime.jsx)(CaretRightFill.a,{})]})};VerticalSpliter_VerticalSpliter.displayName="VerticalSpliter";var taskList_VerticalSpliter=Object(styled_components_browser_esm.default)(VerticalSpliter_VerticalSpliter)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  width: 5px;\n  transition: width 100ms ease-out;\n  cursor: ",";\n\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n\n  & svg{\n    transition opacity 100ms ease-out;\n  }\n\n  &:not(:hover) svg{\n    opacity: 0;\n  }\n\n  &:hover svg{\n    opacity: 1;\n  }\n\n  &.enabled:hover{\n    width: 13px;\n  }\n  &.dragging{\n    width: 13px;\n  }\n"])),(function(p){return p.enabled?"col-resize":"auto"}));try{VerticalSpliter_VerticalSpliter.displayName="VerticalSpliter",VerticalSpliter_VerticalSpliter.__docgenInfo={description:"",displayName:"VerticalSpliter",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},enabled:{defaultValue:null,description:"",name:"enabled",required:!1,type:{name:"boolean"}},onTaskListSizing:{defaultValue:null,description:"",name:"onTaskListSizing",required:!1,type:{name:"((delta: number) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/taskList/VerticalSpliter.tsx#VerticalSpliter"]={docgenInfo:VerticalSpliter_VerticalSpliter.__docgenInfo,name:"VerticalSpliter",path:"src/components/Timeline/components/taskList/VerticalSpliter.tsx#VerticalSpliter"})}catch(__react_docgen_typescript_loader_error){}var moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js");function DateHelper_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var HeaderItem_templateObject,helpers_DateHelper=new(function(){function DateHelper(){var _this=this;!function DateHelper_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateHelper),this.dayToPosition=function(day,now,dayWidth){return day*dayWidth+now},this.daysInYear=function(year){return _this.isLeapYear(year)?366:365}}return function DateHelper_createClass(Constructor,protoProps,staticProps){return protoProps&&DateHelper_defineProperties(Constructor.prototype,protoProps),staticProps&&DateHelper_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DateHelper,[{key:"dateToPixel",value:function dateToPixel(input,nowposition,daywidth){var nowDate=this.getToday(),inputTime=new Date(input),lightSavingDiff=60*(inputTime.getTimezoneOffset()-nowDate.getTimezoneOffset())*1e3;return(inputTime.getTime()-nowDate.getTime()-lightSavingDiff)/36e5*(daywidth/24)+nowposition}},{key:"pixelToDate",value:function pixelToDate(position,nowposition,daywidth){var hoursInPixel=24/daywidth,pixelsFromNow=position-nowposition,today=this.getToday(),milisecondsFromNow=today.getTime()+pixelsFromNow*hoursInPixel*36e5,result=new Date(milisecondsFromNow),lightSavingDiff=60*(result.getTimezoneOffset()-today.getTimezoneOffset())*1e3;return result.setTime(result.getTime()+lightSavingDiff),result}},{key:"getToday",value:function getToday(){var date=new Date;return date.setHours(0,0,0,0),date}},{key:"monthDiff",value:function monthDiff(start,end){return Math.abs(end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear()))}},{key:"daysInMonth",value:function daysInMonth(month,year){return new Date(year,month,0).getDate()}},{key:"isLeapYear",value:function isLeapYear(year){return year%400==0||year%100!=0&&year%4==0}}]),DateHelper}()),Drop=__webpack_require__("./node_modules/grommet/es6/components/Drop/Drop.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js");function HeaderItem_slicedToArray(arr,i){return function HeaderItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function HeaderItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function HeaderItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return HeaderItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HeaderItem_arrayLikeToArray(o,minLen)}(arr,i)||function HeaderItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HeaderItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var HeaderItem_BaseHeaderItem=function BaseHeaderItem(props){var _useState2=HeaderItem_slicedToArray(Object(react.useState)(),2),info=_useState2[0],setInfo=_useState2[1],_useState4=HeaderItem_slicedToArray(Object(react.useState)(!1),2),hovering=_useState4[0],setHovering=_useState4[1],_ref=Object(react.useRef)(null);return Object(jsx_runtime.jsxs)("div",{ref:function ref(r){return _ref.current=r},className:props.className,style:{display:"flex",justifyContent:"center",alignItems:"center",background:props.background,borderLeft:"solid 1px rgb(216, 217, 218)",position:"absolute",height:20,left:props.left,width:props.width,cursor:"pointer"},onMouseOut:function onMouseOut(){2==props.y&&setHovering(!1)},onMouseOver:function onMouseOver(){var _props$dayInfo,_props$dayInfo2;2==props.y&&(null!==(_props$dayInfo=props.dayInfo)&&void 0!==_props$dayInfo&&_props$dayInfo.call(props,props.date)&&(setInfo(null===(_props$dayInfo2=props.dayInfo)||void 0===_props$dayInfo2?void 0:_props$dayInfo2.call(props,props.date)),setHovering(!0)))},children:[Object(jsx_runtime.jsx)("div",{children:props.label}),hovering&&Object(jsx_runtime.jsx)(Drop.a,{round:"xsmall",overflow:"hidden",align:{top:"bottom"},target:_ref.current||void 0,children:Object(jsx_runtime.jsx)(Box.a,{background:"neutral-2",overflow:"hidden",round:"xsmall",width:"small",children:Object(jsx_runtime.jsx)(Box.a,{justify:"center",align:"center",direction:"row",pad:"xsmall",children:Object(jsx_runtime.jsxs)(Text.a,{size:"small",children:["Week capacity: ",info]})})})})]})};HeaderItem_BaseHeaderItem.displayName="BaseHeaderItem";var HeaderItem=Object(styled_components_browser_esm.default)(HeaderItem_BaseHeaderItem)(HeaderItem_templateObject||(HeaderItem_templateObject=function HeaderItem_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  \n    &:hover{\n        background: rgba(127, 127, 127, 0.3);\n    }\n  "])));try{HeaderItem_BaseHeaderItem.displayName="BaseHeaderItem",HeaderItem_BaseHeaderItem.__docgenInfo={description:"",displayName:"BaseHeaderItem",props:{left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | number"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"string"}},background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"any"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Moment"}},dayInfo:{defaultValue:null,description:"",name:"dayInfo",required:!1,type:{name:"((day?: Moment) => any)"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/header/HeaderItem.tsx#BaseHeaderItem"]={docgenInfo:HeaderItem_BaseHeaderItem.__docgenInfo,name:"BaseHeaderItem",path:"src/components/Timeline/components/header/HeaderItem.tsx#BaseHeaderItem"})}catch(__react_docgen_typescript_loader_error){}try{HeaderItem.displayName="HeaderItem",HeaderItem.__docgenInfo={description:"",displayName:"HeaderItem",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Moment"}},dayInfo:{defaultValue:null,description:"",name:"dayInfo",required:!1,type:{name:"((day?: Moment) => any)"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"any"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/header/HeaderItem.tsx#HeaderItem"]={docgenInfo:HeaderItem.__docgenInfo,name:"HeaderItem",path:"src/components/Timeline/components/header/HeaderItem.tsx#HeaderItem"})}catch(__react_docgen_typescript_loader_error){}var TimelineContext=react_default.a.createContext({}),BackgroundStripe_BackgroundStripe=function BackgroundStripe(props){return Object(jsx_runtime.jsx)(Box.a,{border:props.border,background:props.background,style:{position:"absolute",left:props.left,height:"100%",width:props.width+"px"}})};BackgroundStripe_BackgroundStripe.displayName="BackgroundStripe";try{BackgroundStripe_BackgroundStripe.displayName="BackgroundStripe",BackgroundStripe_BackgroundStripe.__docgenInfo={description:"",displayName:"BackgroundStripe",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/header/BackgroundStripe.tsx#BackgroundStripe"]={docgenInfo:BackgroundStripe_BackgroundStripe.__docgenInfo,name:"BackgroundStripe",path:"src/components/Timeline/components/header/BackgroundStripe.tsx#BackgroundStripe"})}catch(__react_docgen_typescript_loader_error){}var Headers_templateObject,lodash=__webpack_require__("./node_modules/lodash/lodash.js");function Headers_slicedToArray(arr,i){return function Headers_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Headers_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Headers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Headers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Headers_arrayLikeToArray(o,minLen)}(arr,i)||function Headers_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Headers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Headers_Header=function Header(props){var headerRef=Object(react.useRef)(null),_useContext=Object(react.useContext)(TimelineContext),data=_useContext.data,mode=_useContext.mode,dayWidth=_useContext.dayWidth,getFormat=function getFormat(mode,position){switch(mode){case"year":return"YYYY";case"month":return"top"==position?"MMMM YYYY":"MMMM";case"week":return"top"==position?"ww MMMM YYYY":"ww";case"dayweek":return"dd";case"daymonth":return"D"}},getModeIncrement=function getModeIncrement(date,mode){switch(mode){case"year":return helpers_DateHelper.daysInYear(date.year());case"month":return date.daysInMonth();case"week":return 7;default:return 1}},getStartDate=function getStartDate(date,mode){var year=null;switch(mode){case"year":return year=date.year(),moment_default()([year,0,1]);case"month":year=date.year();var month=date.month();return moment_default()([year,month,1]);case"week":return date.clone().startOf("week");default:return date}},getBox=function getBox(date,mode){var lastLeft=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,increment=getModeIncrement(date,mode)*(dayWidth||0);if(!lastLeft){var starDate=getStartDate(date,mode);starDate=starDate.startOf("day");var now=moment_default()().startOf("day"),daysInBetween=starDate.diff(now,"days");lastLeft=helpers_DateHelper.dayToPosition(daysInBetween,props.nowposition||0,dayWidth||0)}return{left:lastLeft,width:increment}},_useState2=Headers_slicedToArray(Object(react.useState)({}),2),status=_useState2[0],setDayStatus=_useState2[1];Object(react.useEffect)((function(){console.log(data),setDayStatus({})}),[data]),Object(react.useEffect)((function(){for(var _status=Object.assign({},status),visibleDays=props.numVisibleDays||1,i=-visibleDays;i<(visibleDays||0);i++){var _props$dayStatus,day=moment_default()().add((props.currentday||0)+i,"days"),dayKey=day.format("DD/MM/yyyy");_status[dayKey]||(_status[dayKey]=null===(_props$dayStatus=props.dayStatus)||void 0===_props$dayStatus?void 0:_props$dayStatus.call(props,day))}return Object(lodash.isEqual)(status,_status)||setDayStatus(_status),_status}),[props.dayStatus,props.currentday,status,props.numVisibleDays]);var renderHeaderRows=function renderHeaderRows(top,middle,bottom){for(var result={top:[],middle:[],bottom:[],background:[]},lastLeft={},currentTop="",currentMiddle="",currentBottom="",currentDate=null,box=null,start=props.currentday,end=(props.currentday||0)+(props.numVisibleDays||0),_loop=function _loop(i){if(currentDate=moment_default()().add(i,"days"),currentTop!=currentDate.format(getFormat(top,"top"))&&(currentTop=currentDate.format(getFormat(top,"top")),box=getBox(currentDate,top,lastLeft.top),lastLeft.top=box.left+box.width,result.top.push(Object(jsx_runtime.jsx)(HeaderItem,{left:box.left,width:box.width,label:currentTop},i))),currentMiddle!=currentDate.format(getFormat(middle))&&(currentMiddle=currentDate.format(getFormat(middle)),box=getBox(currentDate,middle,lastLeft.middle),lastLeft.middle=box.left+box.width,result.middle.push(Object(jsx_runtime.jsx)(HeaderItem,{left:box.left,width:box.width,label:currentMiddle},i))),currentBottom!=currentDate.format(getFormat(bottom)))if(currentBottom=currentDate.format(getFormat(bottom)),box=getBox(currentDate,bottom,lastLeft.bottom),lastLeft.bottom=box.left+box.width,"shorttime"==bottom||"fulltime"==bottom){var stripes=Array.apply(null,Array(24)).map((function(){})).map((function(x,ix){return Object(jsx_runtime.jsx)(BackgroundStripe_BackgroundStripe,{background:ix%2==0?"light-1":"neutral-1",left:box.left+box.width/24*ix,width:box.width/24},"tile-"+i+"-"+ix)}));result.background.push(stripes),result.bottom.push(function renderTime(left,width,mode,key){for(var result=[],hourWidth=width/24,iterLeft=0,i=0;i<24;i++)result.push(Object(jsx_runtime.jsx)(HeaderItem,{left:iterLeft,width:hourWidth,label:"shorttime"==mode?i:i+":00"},i)),iterLeft+=hourWidth;return Object(jsx_runtime.jsxs)("div",{style:{position:"absolute",height:20,left:left,width:width},children:[" ",result]},key)}(box.left,box.width,bottom,i))}else result.background.push(Object(jsx_runtime.jsx)(BackgroundStripe_BackgroundStripe,{left:box.left,width:box.width,border:{size:!(6==currentDate.isoWeekday()||7==currentDate.isoWeekday())&&"xsmall",color:"#00000020"},background:6==currentDate.isoWeekday()||7==currentDate.isoWeekday()?"light-1":"neutral-1"},"tile-"+i)),result.bottom.push(Object(jsx_runtime.jsx)(HeaderItem,{date:currentDate,dayInfo:props.dayInfo,y:2,background:status[currentDate.format("DD/MM/yyyy")],left:box.left,width:box.width,label:currentBottom},i))},i=(start||0)-30;i<end+30;i++)_loop(i);return Object(jsx_runtime.jsxs)("div",{className:"timeLine-main-header-container",style:{width:5e3,maxWidth:5e3},children:[Object(jsx_runtime.jsx)(Box.a,{background:"neutral-4",className:"header-top",children:result.top}),Object(jsx_runtime.jsx)(Box.a,{background:"accent-2",className:"header-middle",children:result.middle}),Object(jsx_runtime.jsx)(Box.a,{background:"accent-1",className:"header-bottom",children:result.bottom}),Object(jsx_runtime.jsx)(Box.a,{className:"header-bottom",style:Object.assign({height:"100%"},config_Config.values.header.bottom.style),children:result.background})]})};return headerRef.current&&(headerRef.current.scrollLeft=props.scrollLeft||0),Object(jsx_runtime.jsx)("div",{id:"timeline-header",ref:headerRef,className:props.className+" timeLine-main-header-viewPort",children:function renderHeader(){switch(mode||props.mode){case"day":return renderHeaderRows("week","dayweek","fulltime");case"week":return renderHeaderRows("month","week","dayweek");case"month":return renderHeaderRows("month","dayweek","daymonth");case"year":return renderHeaderRows("year","month","week")}}()})};Headers_Header.displayName="Header";var header_Headers=Object(styled_components_browser_esm.default)(Headers_Header)(Headers_templateObject||(Headers_templateObject=function Headers_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n.header-top {\n  height: 20px;\n\n  border-bottom: solid 0.5px silver;\n}\n\n.header-middle {\n  height: 20px;\n  color: white;\n  font-size: 10px;\n  border-bottom: solid 0.5px silver;\n}\n.header-bottom {\n  height: 20px;\n  font-size: 10px;\n  border-bottom: solid 0.5px silver;\n}\n"])));try{Headers.displayName="Headers",Headers.__docgenInfo={description:"",displayName:"Headers",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"string"}},dayInfo:{defaultValue:null,description:"",name:"dayInfo",required:!1,type:{name:"((date?: Moment) => any)"}},dayStatus:{defaultValue:null,description:"",name:"dayStatus",required:!1,type:{name:"((date: Moment) => any)"}},dayWidth:{defaultValue:null,description:"",name:"dayWidth",required:!1,type:{name:"number"}},scrollLeft:{defaultValue:null,description:"",name:"scrollLeft",required:!1,type:{name:"number"}},nowposition:{defaultValue:null,description:"",name:"nowposition",required:!1,type:{name:"number"}},currentday:{defaultValue:null,description:"",name:"currentday",required:!1,type:{name:"number"}},currentDate:{defaultValue:null,description:"",name:"currentDate",required:!1,type:{name:"Date"}},numVisibleDays:{defaultValue:null,description:"",name:"numVisibleDays",required:!1,type:{name:"number"}},headerData:{defaultValue:null,description:"",name:"headerData",required:!1,type:{name:"any"}},currentPosition:{defaultValue:null,description:"",name:"currentPosition",required:!1,type:{name:"{ x: number; y: number; }"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/header/Headers.tsx#Headers"]={docgenInfo:Headers.__docgenInfo,name:"Headers",path:"src/components/Timeline/components/header/Headers.tsx#Headers"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js");var DataTask_templateObject,dist=__webpack_require__("./node_modules/@hexhive/utils/dist/index.js"),react_popover=__webpack_require__("./node_modules/react-popover/index.js"),react_popover_default=__webpack_require__.n(react_popover);function DataTask_slicedToArray(arr,i){return function DataTask_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataTask_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DataTask_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DataTask_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DataTask_arrayLikeToArray(o,minLen)}(arr,i)||function DataTask_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataTask_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DataTask_BaseDataTask=function BaseDataTask(props){var _props$item2,_props$item3,_props$item4,_props$item5,_props$item6,_useState2=DataTask_slicedToArray(Object(react.useState)(),2),hoverEl=_useState2[0],setHoverEl=_useState2[1],_useState4=DataTask_slicedToArray(Object(react.useState)(!0),2),collapsed=_useState4[0],setCollapsed=_useState4[1],draggingPosition=Object(react.useRef)(0),dragging=Object(react.useRef)(!1),left=Object(react.useRef)(props.left||0),width=Object(react.useRef)(props.width||0),mode=Object(react.useRef)(0);Object(react.useEffect)((function(){props.left&&(left.current=props.left)}),[props.left]),Object(react.useEffect)((function(){props.width&&(width.current=props.width)}),[props.width]);var dragStart=function dragStart(x,_mode){props.onChildDrag(!0),draggingPosition.current=x,dragging.current=!0,mode.current=_mode,left.current=props.left||0,width.current=props.width||0},dragProcess=function dragProcess(x){var delta=draggingPosition.current-x,newLeft=left.current,newWidth=width.current;switch(mode.current){case 1:newLeft=left.current-delta;break;case 2:newLeft=left.current-delta,newWidth=width.current+delta;break;case 3:newWidth=width.current-delta}var changeObj={item:props.item,position:{start:newLeft-props.nowposition,end:newLeft+newWidth-props.nowposition}};props.onTaskChanging(changeObj),draggingPosition.current=x,left.current=newLeft,width.current=newWidth},dragEnd=function dragEnd(){props.onChildDrag(!1),function updatePosition(){var new_start_date=helpers_DateHelper.pixelToDate(left.current,props.nowposition,props.dayWidth||0),new_end_date=helpers_DateHelper.pixelToDate(left.current+width.current,props.nowposition,props.dayWidth||0);props.onUpdateTask(props.item,{start:new_start_date,end:new_end_date})}(),dragging.current=!1,mode.current=0},doMouseDown=function doMouseDown(e,mode){if(props.onUpdateTask){console.log("doMouseDown");var host=Object(dist.getHostForElement)(e.target);if(0===e.button){e.stopPropagation(),dragStart(e.clientX,mode);host.addEventListener("mousemove",doMouseMove),host.addEventListener("mouseup",(function doMouseUp(){dragEnd(),host.removeEventListener("mousemove",doMouseMove),host.removeEventListener("mouseup",doMouseUp)}))}}},doMouseMove=function doMouseMove(e){dragging&&(e.stopPropagation(),dragProcess(e.clientX))},doTouchStart=function doTouchStart(e,mode){props.onUpdateTask&&(console.log("start"),e.stopPropagation(),dragStart(e.touches[0].clientX,mode))};console.log({opacity:props.opacity});var style=function calculateStyle(){var configStyle=props.isSelected?config_Config.values.dataViewPort.task.selectedStyle:config_Config.values.dataViewPort.task.style,backgroundColor=props.color?Array.isArray(props.color)?function generateStripes(colors){var _props$item,c=colors.sort((function(a,b){return b.percent-a.percent}));if(c.length<=0)return Object(dist.stringToColor)(""+(null===(_props$item=props.item)||void 0===_props$item?void 0:_props$item.name));var gradient=[],current_stop=0;return c.forEach((function(x,ix){gradient.push(x.color+" "+100*current_stop+"%"),gradient.push(x.color+" "+(100*current_stop+100*x.percent)+"%"),current_stop+=x.percent})),"linear-gradient(90deg, "+gradient.join(", ")+")"}(props.color):props.color:configStyle.backgroundColor;return Object.assign({},configStyle,{background:backgroundColor,opacity:props.opacity||1,left:left.current,width:width.current,height:props.height-5})}();return Object(jsx_runtime.jsx)(react_popover_default.a,{style:{zIndex:9999999},enterExitTransitionDurationMs:300,isOpen:(null===(_props$item2=props.item)||void 0===_props$item2?void 0:_props$item2.hoverInfo)&&null!=hoverEl,target:hoverEl,preferPlace:"above",body:Object(jsx_runtime.jsx)(Box.a,{style:{zIndex:999999999,boxShadow:"5px 5px 15px -5px #000"},color:"dark",background:"neutral-2",round:"xsmall",children:null===(_props$item3=props.item)||void 0===_props$item3?void 0:_props$item3.hoverInfo}),children:Object(jsx_runtime.jsxs)(Box.a,{onMouseEnter:function hoverStart(e){setHoverEl(e.currentTarget)},onMouseLeave:function hoverEnd(e){setHoverEl(null)},className:props.className+" "+(dragging.current?"dragging":""),focusIndicator:!1,elevation:"medium",onMouseDown:function onMouseDown(e){return doMouseDown(e,1)},onTouchStart:function onTouchStart(e){return doTouchStart(e,1)},onDoubleClick:function onDoubleClick(e){props.onSelectItem(props.item)},style:Object.assign({},style,{top:3,display:"flex"}),children:[Object(jsx_runtime.jsxs)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:-10,height:style.height},onMouseDown:function onMouseDown(e){return doMouseDown(e,2)},onTouchStart:function onTouchStart(e){return doTouchStart(e,2)},children:[Object(jsx_runtime.jsx)("div",{className:"task-handle",style:{right:0}}),Object(jsx_runtime.jsx)("div",{className:"task-handle-grip"})]}),Object(jsx_runtime.jsx)("div",{style:{position:"absolute",left:-4,bottom:0,top:0,margin:"auto 0"},className:"timeLine-main-data-task-side-linker",onMouseUp:function onMouseUp(e){return function onCreateLinkMouseUp(e,position){e.stopPropagation(),props.onFinishCreateLink(props.item,position)}(e,"LINK_POS_LEFT")},onTouchEnd:function onTouchEnd(e){return function onCreateLinkTouchEnd(e,position){e.stopPropagation(),props.onFinishCreateLink(props.item,position)}(e,"LINK_POS_LEFT")}}),Object(jsx_runtime.jsx)("div",{onClick:function onClick(){var _props$onExpansion;null===(_props$onExpansion=props.onExpansion)||void 0===_props$onExpansion||_props$onExpansion.call(props,!collapsed),setCollapsed(!collapsed)},style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden"},children:null!==(_props$item4=props.item)&&void 0!==_props$item4&&_props$item4.showLabel?"string"==typeof(null===(_props$item5=props.item)||void 0===_props$item5?void 0:_props$item5.showLabel)?props.item.showLabel:null===(_props$item6=props.item)||void 0===_props$item6?void 0:_props$item6.name:""}),Object(jsx_runtime.jsx)("div",{style:{position:"absolute",left:style.width-4,bottom:0,top:0,margin:"auto 0"},className:"timeLine-main-data-task-side-linker",onMouseDown:function onMouseDown(e){return function onCreateLinkMouseDown(e,position){var _props$onStartCreateL;0===e.button&&(e.stopPropagation(),null===(_props$onStartCreateL=props.onStartCreateLink)||void 0===_props$onStartCreateL||_props$onStartCreateL.call(props,props.item,position))}(e,"LINK_POS_RIGHT")},onTouchStart:function onTouchStart(e){return function onCreateLinkTouchStart(e,position){var _props$onStartCreateL2;e.stopPropagation(),null===(_props$onStartCreateL2=props.onStartCreateLink)||void 0===_props$onStartCreateL2||_props$onStartCreateL2.call(props,props.item,position)}(e,"LINK_POS_RIGHT")}}),Object(jsx_runtime.jsxs)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:style.width,height:style.height},onMouseDown:function onMouseDown(e){return doMouseDown(e,3)},onTouchStart:function onTouchStart(e){return doTouchStart(e,3)},children:[Object(jsx_runtime.jsx)("div",{className:"task-handle-grip"}),Object(jsx_runtime.jsx)("div",{className:"task-handle",style:{marginLeft:"100%"}})]})]})})};DataTask_BaseDataTask.displayName="BaseDataTask";var viewport_DataTask=Object(styled_components_browser_esm.default)(DataTask_BaseDataTask)(DataTask_templateObject||(DataTask_templateObject=function DataTask_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n\n  .timeLine-main-data-task-side > .task-handle,   .timeLine-main-data-task-side > .task-handle-grip {\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n  }\n\n  &:hover .timeLine-main-data-task-side > .task-handle {\n    opacity: 1;\n    background: blue;\n    width: 3px;\n    height: 100%;\n  }\n\n  &:hover  .timeLine-main-data-task-side > .task-handle-grip{\n    position: absolute;\n    opacity: 1;\n    height: 3px;\n    top: 0;\n    bottom: 0;\n    margin: auto 0;\n    width: 100%;\n    background-color: blue;\n  }\n\n  &.dragging .timeLine-main-data-task-side > .task-handle {\n    opacity: 1;\n    background: blue;\n    width: 3px;\n    height: 100%;\n  }\n  \n  &.dragging  .timeLine-main-data-task-side > .task-handle-grip{\n    position: absolute;\n    opacity: 1;\n    height: 3px;\n    top: 0;\n    bottom: 0;\n    margin: auto 0;\n    width: 100%;\n    background-color: blue;\n  }\n"])));try{DataTask_BaseDataTask.displayName="BaseDataTask",DataTask_BaseDataTask.__docgenInfo={description:"",displayName:"BaseDataTask",props:{dayWidth:{defaultValue:null,description:"",name:"dayWidth",required:!1,type:{name:"number"}},item:{defaultValue:null,description:"",name:"item",required:!1,type:{name:"Task"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"any"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},onStartCreateLink:{defaultValue:null,description:"",name:"onStartCreateLink",required:!1,type:{name:"((item: any, pos: any) => void)"}},onChildDrag:{defaultValue:null,description:"",name:"onChildDrag",required:!1,type:{name:"any"}},onTaskChanging:{defaultValue:null,description:"",name:"onTaskChanging",required:!1,type:{name:"any"}},onFinishCreateLink:{defaultValue:null,description:"",name:"onFinishCreateLink",required:!1,type:{name:"any"}},onUpdateTask:{defaultValue:null,description:"",name:"onUpdateTask",required:!1,type:{name:"any"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"any"}},opacity:{defaultValue:null,description:"",name:"opacity",required:!1,type:{name:"number"}},onSelectItem:{defaultValue:null,description:"",name:"onSelectItem",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}},nowposition:{defaultValue:null,description:"",name:"nowposition",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onExpansion:{defaultValue:null,description:"",name:"onExpansion",required:!1,type:{name:"((expanded: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/viewport/DataTask.tsx#BaseDataTask"]={docgenInfo:DataTask_BaseDataTask.__docgenInfo,name:"BaseDataTask",path:"src/components/Timeline/components/viewport/DataTask.tsx#BaseDataTask"})}catch(__react_docgen_typescript_loader_error){}try{DataTask.displayName="DataTask",DataTask.__docgenInfo={description:"",displayName:"DataTask",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onUpdateTask:{defaultValue:null,description:"",name:"onUpdateTask",required:!1,type:{name:"any"}},onSelectItem:{defaultValue:null,description:"",name:"onSelectItem",required:!1,type:{name:"any"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"any"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},item:{defaultValue:null,description:"",name:"item",required:!1,type:{name:"Task"}},dayWidth:{defaultValue:null,description:"",name:"dayWidth",required:!1,type:{name:"number"}},nowposition:{defaultValue:null,description:"",name:"nowposition",required:!1,type:{name:"any"}},onFinishCreateLink:{defaultValue:null,description:"",name:"onFinishCreateLink",required:!1,type:{name:"any"}},onStartCreateLink:{defaultValue:null,description:"",name:"onStartCreateLink",required:!1,type:{name:"((item: any, pos: any) => void)"}},onChildDrag:{defaultValue:null,description:"",name:"onChildDrag",required:!1,type:{name:"any"}},onTaskChanging:{defaultValue:null,description:"",name:"onTaskChanging",required:!1,type:{name:"any"}},opacity:{defaultValue:null,description:"",name:"opacity",required:!1,type:{name:"number"}},onExpansion:{defaultValue:null,description:"",name:"onExpansion",required:!1,type:{name:"((expanded: boolean) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/viewport/DataTask.tsx#DataTask"]={docgenInfo:DataTask.__docgenInfo,name:"DataTask",path:"src/components/Timeline/components/viewport/DataTask.tsx#DataTask"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js");var styles_dist=__webpack_require__("./node_modules/@hexhive/styles/dist/index.js");function DataRow_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var DataRow_DataRow=function(_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(DataRow,_Component);var _super=_createSuper(DataRow);function DataRow(props){return function DataRow_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataRow),_super.call(this,props)}return function DataRow_createClass(Constructor,protoProps,staticProps){return protoProps&&DataRow_defineProperties(Constructor.prototype,protoProps),staticProps&&DataRow_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DataRow,[{key:"render",value:function render(){var _BaseStyle$global,_BaseStyle$global$col;return Object(jsx_runtime.jsx)(Box.a,{className:"timeLine-main-data-row",style:Object.assign({},config_Config.values.dataViewPort.rows.style,{top:this.props.top,height:this.props.itemheight,borderBottom:"2px dashed "+(null===(_BaseStyle$global=styles_dist.BaseStyle.global)||void 0===_BaseStyle$global||null===(_BaseStyle$global$col=_BaseStyle$global.colors)||void 0===_BaseStyle$global$col?void 0:_BaseStyle$global$col["accent-2"])+"42",strokeDasharray:1e3,strokeDashoffset:1e3}),children:this.props.children})}}]),DataRow}(react.Component);try{DataRow_DataRow.displayName="DataRow",DataRow_DataRow.__docgenInfo={description:"",displayName:"DataRow",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/viewport/DataRow.tsx#DataRow"]={docgenInfo:DataRow_DataRow.__docgenInfo,name:"DataRow",path:"src/components/Timeline/components/viewport/DataRow.tsx#DataRow"})}catch(__react_docgen_typescript_loader_error){}var DataViewPort_templateObject,getBackgroundWidth=function getBackgroundWidth(mode){switch(mode){case"year":return 7;case"month":case"week":default:return 1;case"day":return 1/24}},getBackgroundPosition=function getBackgroundPosition(mode){return"year"===mode?"12px":0},utils_getDayWidth=function getDayWidth(mode){switch(mode){case"day":return 792;case"week":case"month":default:return 28;case"year":return 4}},react_resize_aware_dist=__webpack_require__("./node_modules/react-resize-aware/dist/index.js"),react_resize_aware_dist_default=__webpack_require__.n(react_resize_aware_dist);function DataViewPort_slicedToArray(arr,i){return function DataViewPort_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DataViewPort_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DataViewPort_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DataViewPort_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DataViewPort_arrayLikeToArray(o,minLen)}(arr,i)||function DataViewPort_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DataViewPort_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DataViewPort_BaseDataViewPort=function BaseDataViewPort(props){var _style$background,dataViewRef=Object(react.useRef)(null),_useState2=DataViewPort_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],_useContext=Object(react.useContext)(TimelineContext),data=_useContext.data,mode=_useContext.mode,style=_useContext.style,dayWidth=_useContext.dayWidth,moveTimeline=_useContext.moveTimeline,scrollLeft=_useContext.scrollLeft,_useState4=DataViewPort_slicedToArray(Object(react.useState)(!1),2),childDragging=_useState4[0],setChildDragging=_useState4[1],_useResizeAware2=DataViewPort_slicedToArray(react_resize_aware_dist_default()((function reporter(target){var _props$onSize,dimensions={width:(null==target?void 0:target.clientWidth)||null,height:(null==target?void 0:target.clientHeight)||null};return dimensions.width&&dimensions.height&&(null===(_props$onSize=props.onSize)||void 0===_props$onSize||_props$onSize.call(props,dimensions)),dimensions})),2),resizeListener=_useResizeAware2[0],onChildDrag=(_useResizeAware2[1],function onChildDrag(dragging){setChildDragging(dragging)});Object(react.useEffect)((function(){dataViewRef.current&&(dataViewRef.current.scrollLeft=0)}),[]),Object(react.useEffect)((function(){dataViewRef.current&&(dataViewRef.current.scrollLeft=props.scrollLeft,dataViewRef.current.scrollTop=props.scrollTop,console.log("Scroll data view",props.scrollTop,props.scrollLeft))}),[props.scrollLeft,props.scrollTop]);mode&&null!=style&&style.background?null==style||null===(_style$background=style.background)||void 0===_style$background||_style$background.call(style,mode,dayWidth||0):(getBackgroundWidth(props.mode||"month"),getBackgroundPosition(props.mode||"month"));return Object(jsx_runtime.jsxs)("div",{ref:dataViewRef,id:"timeLinedataViewPort",className:props.className+" timeLine-main-data-viewPort",onWheel:function onWheel(evt){null==moveTimeline||moveTimeline((scrollLeft||0)+evt.deltaX)},onMouseDown:function doMouseDown(e){0!==e.button||childDragging||props.onMouseDown(e)},onMouseMove:function doMouseMove(e){props.onMouseMove(e,dataViewRef.current)},onMouseUp:props.onMouseUp,onMouseLeave:props.onMouseLeave,onTouchStart:function doTouchStart(e){childDragging||props.onTouchStart(e)},onTouchMove:function doTouchMove(e){props.onTouchMove(e,dataViewRef.current)},onTouchEnd:props.onTouchEnd,onTouchCancel:props.onTouchCancel,children:[resizeListener,Object(jsx_runtime.jsx)("div",{className:"timeLine-main-data-container",style:{background:"transparent",height:"100%",width:5e3,maxWidth:5e3},children:function renderRows(){for(var result=[],i=props.startRow;i<props.endRow+1;i++){var item=null==data?void 0:data[i];if(!item)break;console.log({item:item});var new_position=helpers_DateHelper.dateToPixel(item.start,props.nowposition,dayWidth||0),new_width=helpers_DateHelper.dateToPixel(item.end,props.nowposition,dayWidth||0)-new_position;result.push(Object(jsx_runtime.jsx)(DataRow_DataRow,{isSelected:props.selectedItem==item,label:item.name,top:i*(props.itemheight+5),left:20,expanded:expanded,itemheight:props.itemheight+5,children:Object(jsx_runtime.jsx)(viewport_DataTask,{onExpansion:function onExpansion(expanded){return setExpanded(expanded)},item:item,label:item.name,nowposition:props.nowposition,dayWidth:dayWidth,color:item.color,opacity:item.opacity,left:new_position,width:new_width,height:props.itemheight,onChildDrag:onChildDrag,isSelected:props.selectedItem==item,onSelectItem:props.onSelectItem,onStartCreateLink:props.onStartCreateLink,onFinishCreateLink:props.onFinishCreateLink,onTaskChanging:props.onTaskChanging,onUpdateTask:props.onUpdateTask,children:" "})},"data-row-"+i))}return result}()})]})};DataViewPort_BaseDataViewPort.displayName="BaseDataViewPort";var DataViewPort=Object(styled_components_browser_esm.default)(DataViewPort_BaseDataViewPort)(DataViewPort_templateObject||(DataViewPort_templateObject=function DataViewPort_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n.timeLine-main-data-container{\n  background: ;\n  }\n\n"]))),viewport_DataViewPort=DataViewPort;try{DataViewPort_BaseDataViewPort.displayName="BaseDataViewPort",DataViewPort_BaseDataViewPort.__docgenInfo={description:"",displayName:"BaseDataViewPort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/viewport/DataViewPort.tsx#BaseDataViewPort"]={docgenInfo:DataViewPort_BaseDataViewPort.__docgenInfo,name:"BaseDataViewPort",path:"src/components/Timeline/components/viewport/DataViewPort.tsx#BaseDataViewPort"})}catch(__react_docgen_typescript_loader_error){}try{DataViewPort.displayName="DataViewPort",DataViewPort.__docgenInfo={description:"",displayName:"DataViewPort",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/viewport/DataViewPort.tsx#DataViewPort"]={docgenInfo:DataViewPort.__docgenInfo,name:"DataViewPort",path:"src/components/Timeline/components/viewport/DataViewPort.tsx#DataViewPort"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");function Link_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Link_setPrototypeOf(o,p){return Link_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},Link_setPrototypeOf(o,p)}function Link_createSuper(Derived){var hasNativeReflectConstruct=function Link_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Link_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Link_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Link_possibleConstructorReturn(this,result)}}function Link_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function Link_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function Link_getPrototypeOf(o){return Link_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},Link_getPrototypeOf(o)}var Link_Link=function(_Component){!function Link_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&Link_setPrototypeOf(subClass,superClass)}(Link,_Component);var _super=Link_createSuper(Link);function Link(props){var _this;return function Link_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Link),(_this=_super.call(this,props)).calcNormCoordinates=function(){var middle;return{cpt1:{x:middle=_this.props.start.x+(_this.props.end.x-_this.props.start.x)/2,y:_this.props.start.y},cpt2:{x:middle,y:_this.props.end.y}}},_this.calcSCoordinates=function(){var cpt1={x:_this.props.start.x+20,y:_this.props.start.y},halfY=(_this.props.end.y-_this.props.start.y)/2,cpt2={x:cpt1.x,y:cpt1.y+halfY},cpt3={x:_this.props.end.x-20,y:cpt2.y};return{cpt1:cpt1,cpt2:cpt2,cpt3:cpt3,cpt4:{x:cpt3.x,y:cpt3.y+halfY}}},_this.getPath=function(coords){var coordinates=null;return _this.props.start.x>_this.props.end.x?(coordinates=_this.calcSCoordinates(),"M"+_this.props.start.x+" "+_this.props.start.y+"  "+coordinates.cpt1.x+" "+coordinates.cpt1.y+" "+coordinates.cpt2.x+" "+coordinates.cpt2.y+" "+coordinates.cpt3.x+" "+coordinates.cpt3.y+" "+coordinates.cpt4.x+" "+coordinates.cpt4.y+" "+_this.props.end.x+" "+_this.props.end.y):(coordinates=_this.calcNormCoordinates(),"M"+_this.props.start.x+" "+_this.props.start.y+"  "+coordinates.cpt1.x+" "+coordinates.cpt1.y+" "+coordinates.cpt2.x+" "+coordinates.cpt2.y+" "+_this.props.end.x+" "+_this.props.end.y)},_this.onSelect=function(e){_this.props.onSelectItem&&_this.props.onSelectItem(_this.props.item)},_this}return function Link_createClass(Constructor,protoProps,staticProps){return protoProps&&Link_defineProperties(Constructor.prototype,protoProps),staticProps&&Link_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Link,[{key:"render",value:function render(){var pathColor=this.props.isSelected?config_Config.values.links.selectedColor:config_Config.values.links.color;return Object(jsx_runtime.jsxs)("g",{className:"timeline-link",children:[Object(jsx_runtime.jsx)("path",{pointerEvents:"stroke",onMouseDown:this.onSelect,stroke:"white",d:this.getPath(),strokeLinejoin:"round",fill:"transparent",strokeWidth:"4",cursor:"pointer"}),Object(jsx_runtime.jsx)("path",{pointerEvents:"stroke",onMouseDown:this.onSelect,stroke:pathColor,d:this.getPath(),strokeLinejoin:"round",fill:"transparent",strokeWidth:"1",cursor:"pointer",markerEnd:"url(#arrow)"})]})}}]),Link}(react.Component),links_Link=Link_Link;try{Link_Link.displayName="Link",Link_Link.__docgenInfo={description:"",displayName:"Link",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/links/Link.tsx#Link"]={docgenInfo:Link_Link.__docgenInfo,name:"Link",path:"src/components/Timeline/components/links/Link.tsx#Link"})}catch(__react_docgen_typescript_loader_error){}function CreateLink_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateLink_setPrototypeOf(o,p){return CreateLink_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},CreateLink_setPrototypeOf(o,p)}function CreateLink_createSuper(Derived){var hasNativeReflectConstruct=function CreateLink_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CreateLink_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CreateLink_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CreateLink_possibleConstructorReturn(this,result)}}function CreateLink_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function CreateLink_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function CreateLink_getPrototypeOf(o){return CreateLink_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},CreateLink_getPrototypeOf(o)}var CreateLink_CreateLink=function(_Component){!function CreateLink_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&CreateLink_setPrototypeOf(subClass,superClass)}(CreateLink,_Component);var _super=CreateLink_createSuper(CreateLink);function CreateLink(props){var _this;return function CreateLink_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateLink),(_this=_super.call(this,props)).init=void 0,_this.lastX=void 0,_this.lastY=void 0,_this.doMouseMove=function(e){_this.init||(_this.lastX=e.clientX,_this.lastY=e.clientY,_this.init=!0);var newX=_this.state.x+(e.clientX-_this.lastX),newY=_this.state.y+(e.clientY-_this.lastY);_this.lastX=e.clientX,_this.lastY=e.clientY,_this.setState({x:newX,y:newY})},_this.doMouseUp=function(e){_this.props.onFinishCreateLink()},_this.state={x:_this.props.start.x,y:_this.props.start.y},_this.init=!1,_this.lastX=-1,_this.lastY=-1,_this}return function CreateLink_createClass(Constructor,protoProps,staticProps){return protoProps&&CreateLink_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateLink_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(CreateLink,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp)}},{key:"render",value:function render(){return Object(jsx_runtime.jsx)(links_Link,{start:{x:this.props.start.x,y:this.props.start.y},end:{x:this.state.x,y:this.state.y}},-1)}}]),CreateLink}(react.Component);try{CreateLink_CreateLink.displayName="CreateLink",CreateLink_CreateLink.__docgenInfo={description:"",displayName:"CreateLink",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/links/CreateLink.tsx#CreateLink"]={docgenInfo:CreateLink_CreateLink.__docgenInfo,name:"CreateLink",path:"src/components/Timeline/components/links/CreateLink.tsx#CreateLink"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");function LinkViewPort_slicedToArray(arr,i){return function LinkViewPort_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function LinkViewPort_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function LinkViewPort_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return LinkViewPort_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LinkViewPort_arrayLikeToArray(o,minLen)}(arr,i)||function LinkViewPort_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LinkViewPort_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var LinkViewPort_LinkViewPort=function LinkViewPort(props){var _props$taskToCreate,_props$taskToCreate$t,_props$taskToCreate2,_props$taskToCreate2$,taskToCreate=function useDataItem(id){var data=Object(react.useContext)(TimelineContext).data;return null==data?void 0:data.map((function(x,ix){return Object.assign({},x,{index:ix})})).find((function(a){return a.id==id}))}((null===(_props$taskToCreate=props.taskToCreate)||void 0===_props$taskToCreate||null===(_props$taskToCreate$t=_props$taskToCreate.task)||void 0===_props$taskToCreate$t?void 0:_props$taskToCreate$t.id)||""),links=(function useLink(id){var links=Object(react.useContext)(TimelineContext).links;null==links||links.map((function(x,ix){return Object.assign({},x,{index:ix})})).find((function(a){return a.id==id}))}(null===(_props$taskToCreate2=props.taskToCreate)||void 0===_props$taskToCreate2||null===(_props$taskToCreate2$=_props$taskToCreate2.task)||void 0===_props$taskToCreate2$?void 0:_props$taskToCreate2$.id),function useLinks(){var links=Object(react.useContext)(TimelineContext).links;return null==links?void 0:links.map((function(x,ix){return Object.assign({},x,{index:ix})}))}()),_useContext=Object(react.useContext)(TimelineContext),data=_useContext.data,dayWidth=_useContext.dayWidth,_useState2=LinkViewPort_slicedToArray(Object(react.useState)(null),2),_useState4=(_useState2[0],_useState2[1],LinkViewPort_slicedToArray(Object(react.useState)(),2)),_useState6=(_useState4[0],_useState4[1],LinkViewPort_slicedToArray(Object(react.useState)([]),2)),renderLink=(_useState6[0],_useState6[1],function renderLink(startItem,endItem,link,key){if(startItem.end&&endItem.start){var startPosition=getItemPosition(startItem.index,startItem.end),endPosition=getItemPosition(endItem.index,endItem.start);return Object(jsx_runtime.jsx)(links_Link,{item:link,start:{x:startPosition.x,y:startPosition.y},end:{x:endPosition.x,y:endPosition.y},isSelected:props.selectedItem==link,onSelectItem:props.onSelectItem},link.id)}}),getItemPosition=function getItemPosition(index,date){var itemHeight=(props.itemheight||0)+5;return{x:helpers_DateHelper.dateToPixel(date,0,dayWidth||0),y:index*itemHeight+itemHeight/2}};return Object(jsx_runtime.jsxs)("svg",{x:0,y:0,width:"100%",pointerEvents:"none",style:{position:"absolute",top:0,userSelect:"none",height:"100%"},children:[Object(jsx_runtime.jsx)("defs",{children:Object(jsx_runtime.jsx)("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"9",markerHeight:"9",orient:"auto-start-reverse",children:Object(jsx_runtime.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",strokeLinejoin:"round"})})}),Object(jsx_runtime.jsxs)("g",{transform:"matrix(1,0,0,1,"+-((props.scrollLeft||0)-(props.nowposition||0))+","+-(props.scrollTop||0)+")",children:[function renderLinks(){var ret=[],startItem={},endItem={};if(0!=(null==data?void 0:data.length)){for(var _loop=function _loop(i){var link=null==links?void 0:links[i];return link?(startItem=null==data?void 0:data.find((function(a){return a.id==(null==link?void 0:link.source)})))&&(endItem=null==data?void 0:data.find((function(a){return a.id==(null==link?void 0:link.target)})))?void(ret=ret.concat([renderLink(startItem,endItem,link)])):"continue":{v:void 0}},i=0;i<(links||[]).length;i++){var _ret=_loop(i);if("continue"!==_ret&&"object"==typeof _ret)return _ret.v}return ret}}(),function renderCreateLink(){var _props$taskToCreate3;if(props.interactiveMode&&null!==(_props$taskToCreate3=props.taskToCreate)&&void 0!==_props$taskToCreate3&&_props$taskToCreate3.task.id){if(!taskToCreate||!taskToCreate.end)return console.error("No link");var position=getItemPosition(null==taskToCreate?void 0:taskToCreate.index,null==taskToCreate?void 0:taskToCreate.end);return Object(jsx_runtime.jsx)(CreateLink_CreateLink,{start:position,onFinishCreateLink:props.onFinishCreateLink})}}()]})]})};LinkViewPort_LinkViewPort.displayName="LinkViewPort";try{LinkViewPort_LinkViewPort.displayName="LinkViewPort",LinkViewPort_LinkViewPort.__docgenInfo={description:"",displayName:"LinkViewPort",props:{selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!1,type:{name:"any"}},onSelectItem:{defaultValue:null,description:"",name:"onSelectItem",required:!1,type:{name:"((item: any) => void)"}},dayWidth:{defaultValue:null,description:"",name:"dayWidth",required:!1,type:{name:"number"}},itemheight:{defaultValue:null,description:"",name:"itemheight",required:!1,type:{name:"number"}},scrollLeft:{defaultValue:null,description:"",name:"scrollLeft",required:!1,type:{name:"number"}},scrollTop:{defaultValue:null,description:"",name:"scrollTop",required:!1,type:{name:"number"}},links:{defaultValue:null,description:"",name:"links",required:!1,type:{name:"Link[]"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"Task[]"}},nowposition:{defaultValue:null,description:"",name:"nowposition",required:!1,type:{name:"number"}},startRow:{defaultValue:null,description:"",name:"startRow",required:!1,type:{name:"number"}},endRow:{defaultValue:null,description:"",name:"endRow",required:!1,type:{name:"number"}},interactiveMode:{defaultValue:null,description:"",name:"interactiveMode",required:!1,type:{name:"any"}},changingTask:{defaultValue:null,description:"",name:"changingTask",required:!1,type:{name:"any"}},taskToCreate:{defaultValue:null,description:"",name:"taskToCreate",required:!1,type:{name:"{ task: Task; position: any; }"}},onFinishCreateLink:{defaultValue:null,description:"",name:"onFinishCreateLink",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/links/LinkViewPort.tsx#LinkViewPort"]={docgenInfo:LinkViewPort_LinkViewPort.__docgenInfo,name:"LinkViewPort",path:"src/components/Timeline/components/links/LinkViewPort.tsx#LinkViewPort"})}catch(__react_docgen_typescript_loader_error){}var List=__webpack_require__("./node_modules/grommet/es6/components/List/List.js");function TaskRow_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TaskRow_setPrototypeOf(o,p){return TaskRow_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},TaskRow_setPrototypeOf(o,p)}function TaskRow_createSuper(Derived){var hasNativeReflectConstruct=function TaskRow_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TaskRow_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TaskRow_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TaskRow_possibleConstructorReturn(this,result)}}function TaskRow_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function TaskRow_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function TaskRow_getPrototypeOf(o){return TaskRow_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},TaskRow_getPrototypeOf(o)}var TaskRow_TaskRow=function(_Component){!function TaskRow_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&TaskRow_setPrototypeOf(subClass,superClass)}(TaskRow,_Component);var _super=TaskRow_createSuper(TaskRow);function TaskRow(props){var _this;return function TaskRow_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TaskRow),(_this=_super.call(this,props)).onChange=function(value){_this.props.onUpdateTask&&_this.props.onUpdateTask(_this.props.item,{name:value})},_this}return function TaskRow_createClass(Constructor,protoProps,staticProps){return protoProps&&TaskRow_defineProperties(Constructor.prototype,protoProps),staticProps&&TaskRow_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(TaskRow,[{key:"render",value:function render(){var _this2=this;return Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",style:{top:this.props.top,paddingLeft:12,paddingRight:12,minHeight:this.props.itemheight+4},onClick:function onClick(e){return _this2.props.onSelectItem(_this2.props.item)},children:[Object(jsx_runtime.jsx)("div",{className:"color-dot",style:{width:12,height:12,borderRadius:12,marginRight:8,background:this.props.item.color}}),Object(jsx_runtime.jsx)(Box.a,{justify:"start",tabIndex:this.props.index,children:Object(jsx_runtime.jsx)(Text.a,{style:{lineHeight:1},size:"small",children:this.props.label})})]})}}]),TaskRow}(react.Component);try{TaskRow_TaskRow.displayName="TaskRow",TaskRow_TaskRow.__docgenInfo={description:"",displayName:"TaskRow",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/taskList/TaskRow.tsx#TaskRow"]={docgenInfo:TaskRow_TaskRow.__docgenInfo,name:"TaskRow",path:"src/components/Timeline/components/taskList/TaskRow.tsx#TaskRow"})}catch(__react_docgen_typescript_loader_error){}function TaskList_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TaskList_setPrototypeOf(o,p){return TaskList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},TaskList_setPrototypeOf(o,p)}function TaskList_createSuper(Derived){var hasNativeReflectConstruct=function TaskList_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TaskList_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TaskList_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TaskList_possibleConstructorReturn(this,result)}}function TaskList_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function TaskList_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function TaskList_getPrototypeOf(o){return TaskList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},TaskList_getPrototypeOf(o)}var TaskList_VerticalLine=function(_Component){!function TaskList_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&TaskList_setPrototypeOf(subClass,superClass)}(VerticalLine,_Component);var _super=TaskList_createSuper(VerticalLine);function VerticalLine(props){return function TaskList_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VerticalLine),_super.call(this,props)}return function TaskList_createClass(Constructor,protoProps,staticProps){return protoProps&&TaskList_defineProperties(Constructor.prototype,protoProps),staticProps&&TaskList_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VerticalLine,[{key:"render",value:function render(){return Object(jsx_runtime.jsx)("div",{className:"timeLine-main-data-verticalLine",style:{left:this.props.left}})}}]),VerticalLine}(react.Component),TaskList_TaskList=function TaskList(props){var taskViewRef=Object(react.useRef)(null),_useContext=Object(react.useContext)(TimelineContext),data=_useContext.data,itemHeight=_useContext.itemHeight,doScroll=function doScroll(e){console.log("On Scroll",e),props.onScroll(e.target.scrollTop)};Object(react.useEffect)((function(){var _taskViewRef$current;return null===(_taskViewRef$current=taskViewRef.current)||void 0===_taskViewRef$current||_taskViewRef$current.addEventListener("scroll",doScroll),function(){var _taskViewRef$current2;null===(_taskViewRef$current2=taskViewRef.current)||void 0===_taskViewRef$current2||_taskViewRef$current2.removeEventListener("scroll",doScroll)}}),[]);(data||[]).length;return Object(jsx_runtime.jsxs)(Box.a,{background:"accent-1",className:"timeLine-side",children:[Object(jsx_runtime.jsx)(Box.a,{height:"60px",background:"neutral-4",elevation:"small",align:"center",justify:"center",pad:"small",direction:"row",children:Object(jsx_runtime.jsx)("div",{children:config_Config.values.taskList.title.label})}),Object(jsx_runtime.jsx)(List.a,{pad:"none",background:"accent-1",className:"timeLine-side-task-viewPort",onScroll:doScroll,data:data,children:function children(datum,ix){return function renderTaskRow(item,i){return Object(jsx_runtime.jsx)(TaskRow_TaskRow,{index:i,item:item,label:item.name,top:i*((itemHeight||0)+5),itemheight:itemHeight,isSelected:props.selectedItem==item,onUpdateTask:props.onUpdateTask,onSelectItem:props.onSelectItem,nonEditable:props.nonEditable},item.id)}(datum,ix)}})]})};TaskList_TaskList.displayName="TaskList";var taskList_TaskList=TaskList_TaskList;try{TaskList_VerticalLine.displayName="VerticalLine",TaskList_VerticalLine.__docgenInfo={description:"",displayName:"VerticalLine",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/taskList/TaskList.tsx#VerticalLine"]={docgenInfo:TaskList_VerticalLine.__docgenInfo,name:"VerticalLine",path:"src/components/Timeline/components/taskList/TaskList.tsx#VerticalLine"})}catch(__react_docgen_typescript_loader_error){}try{TaskList_TaskList.displayName="TaskList",TaskList_TaskList.__docgenInfo={description:"",displayName:"TaskList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/components/taskList/TaskList.tsx#TaskList"]={docgenInfo:TaskList_TaskList.__docgenInfo,name:"TaskList",path:"src/components/Timeline/components/taskList/TaskList.tsx#TaskList"})}catch(__react_docgen_typescript_loader_error){}function DataController_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var TimeLine_templateObject,DataController_DataController=function(){function DataController(){var _this=this;!function DataController_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataController),this.lower_limit=void 0,this.upper_limit=void 0,this._dataToRender=void 0,this.nowposition=void 0,this.daywidth=void 0,this.lower_data_limit=void 0,this.upper_data_limit=void 0,this.initialise=function(start,end,nowposition,daywidth){_this.nowposition=nowposition,_this.daywidth=daywidth,_this.setLimits(start,end),_this.loadDataHorizon()},this.setStartEnd=function(start,end,nowposition,daywidth){_this.nowposition=nowposition,_this.daywidth=daywidth,_this.needData(start,end)&&(_this.setLimits(start,end),_this.loadDataHorizon())},this.needData=function(start,end){return start<_this.lower_data_limit||end>_this.upper_data_limit},this.setLimits=function(start,end){_this.lower_limit=start-500,_this.lower_data_limit=start-250,_this.upper_limit=end+500,_this.upper_data_limit=end+250,console.log(_this.lower_limit,_this.upper_limit)},this.loadDataHorizon=function(){var lowerLimit=helpers_DateHelper.pixelToDate(_this.lower_limit,_this.nowposition,_this.daywidth),upLimit=helpers_DateHelper.pixelToDate(_this.upper_limit,_this.nowposition,_this.daywidth);_this.onHorizonChange(lowerLimit,upLimit)},this.lower_limit=0,this.upper_limit=0,this._dataToRender=[]}return function DataController_createClass(Constructor,protoProps,staticProps){return protoProps&&DataController_defineProperties(Constructor.prototype,protoProps),staticProps&&DataController_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(DataController,[{key:"onHorizonChange",value:function onHorizonChange(lowerLimit,upLimit){throw new Error("Method not implemented.")}}]),DataController}(),index_browser=__webpack_require__("./node_modules/nanoid/index.browser.js"),Spinner=__webpack_require__("./node_modules/grommet/es6/components/Spinner/Spinner.js");function TimeLine_slicedToArray(arr,i){return function TimeLine_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TimeLine_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TimeLine_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TimeLine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TimeLine_arrayLikeToArray(o,minLen)}(arr,i)||function TimeLine_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TimeLine_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TimeLine_BaseTimeline=function BaseTimeline(_ref){var _ref$itemHeight=_ref.itemHeight,itemHeight=void 0===_ref$itemHeight?30:_ref$itemHeight,_ref$data=_ref.data,data=void 0===_ref$data?[]:_ref$data,_ref$links=_ref.links,links=void 0===_ref$links?[]:_ref$links,_ref$loading=_ref.loading,loading=void 0!==_ref$loading&&_ref$loading,onDateChange=_ref.onDateChange,onUpdateTask=_ref.onUpdateTask,onCreateLink=_ref.onCreateLink,onSelectItem=_ref.onSelectItem,onHorizonChange=_ref.onHorizonChange,selectedItem=(_ref.onNeedData,_ref.selectedItem),style=_ref.style,dayStatus=_ref.dayStatus,dayInfo=_ref.dayInfo,config=_ref.config,nonEditableName=_ref.nonEditableName,resizable=_ref.resizable,className=_ref.className,_ref$mode=_ref.mode,mode=void 0===_ref$mode?"month":_ref$mode,_useState2=TimeLine_slicedToArray(Object(react.useState)(mode),2),_mode=_useState2[0],setMode=_useState2[1],_useState4=TimeLine_slicedToArray(Object(react.useState)(!1),2),dragging=_useState4[0],setDragging=_useState4[1],_useState6=TimeLine_slicedToArray(Object(react.useState)(0),2),draggingPosition=_useState6[0],setDraggingPosition=_useState6[1],_useState8=TimeLine_slicedToArray(Object(react.useState)(1900),2),pxToScroll=_useState8[0],setPxToScroll=_useState8[1],_useState10=TimeLine_slicedToArray(Object(react.useState)(0),2),scrollTop=_useState10[0],setScrollTop=_useState10[1],_useState12=TimeLine_slicedToArray(Object(react.useState)(0),2),scrollLeft=_useState12[0],setScrollLeft=_useState12[1],_useState14=TimeLine_slicedToArray(Object(react.useState)(0),2),startRow=_useState14[0],setStartRow=_useState14[1],_useState16=TimeLine_slicedToArray(Object(react.useState)(50),2),endRow=_useState16[0],_useState18=(_useState16[1],TimeLine_slicedToArray(Object(react.useState)(40),2)),numVisibleRows=_useState18[0],setNumVisibleRows=_useState18[1],_useState20=TimeLine_slicedToArray(Object(react.useState)(60),2),numVisibleDays=_useState20[0],setNumVisibleDays=_useState20[1],_useState22=TimeLine_slicedToArray(Object(react.useState)(0),2),nowposition=_useState22[0],setNowPosition=_useState22[1],_useState24=TimeLine_slicedToArray(Object(react.useState)({width:200}),2),sideStyle=_useState24[0],setSideStyle=_useState24[1],dayWidth=Object(react.useRef)(utils_getDayWidth(mode||"month")),_useState26=TimeLine_slicedToArray(Object(react.useState)(0),2),currentday=_useState26[0],setCurrentDay=_useState26[1],_useState28=TimeLine_slicedToArray(Object(react.useState)(!1),2),interactiveMode=_useState28[0],setInteractiveMode=_useState28[1],_useState30=TimeLine_slicedToArray(Object(react.useState)({width:window.innerWidth,height:window.innerHeight}),2),size=_useState30[0],setSize=_useState30[1],_useState32=TimeLine_slicedToArray(Object(react.useState)(),2),taskToCreate=_useState32[0],setTaskToCreate=_useState32[1],_useState34=TimeLine_slicedToArray(Object(react.useState)(),2),changingTask=_useState34[0],setChangingTask=_useState34[1],dc=Object(react.useRef)(new DataController_DataController),_useState36=TimeLine_slicedToArray(Object(react.useState)(),2),scrollData=_useState36[0],_useState38=(_useState36[1],TimeLine_slicedToArray(Object(react.useState)(),2)),headerData=_useState38[0],setHeaderData=_useState38[1],_useState40=TimeLine_slicedToArray(Object(react.useState)(data),2),_data=_useState40[0],setData=_useState40[1],_useState42=TimeLine_slicedToArray(Object(react.useState)(links),2),_links=_useState42[0],setLinks=_useState42[1];Object(react.useEffect)((function(){dc.current.onHorizonChange=_onHorizonChange,config_Config.load(config),dc.current.initialise(scrollLeft+nowposition,scrollLeft+nowposition+size.width,nowposition,dayWidth.current)}),[]);var _useState44=TimeLine_slicedToArray(Object(react.useState)(!1),2),initialized=_useState44[0],setInitialized=_useState44[1],calculateStartEndRows=function calculateStartEndRows(numVisibleRows,data,scrollTop){var new_start=Math.trunc(scrollTop/(itemHeight||0)),new_end=new_start+numVisibleRows>=data.length?data.length||numVisibleRows:new_start+numVisibleRows;return console.log(new_start,numVisibleRows,data.length,data.length,new_start),{start:new_start,end:new_end}},setStartEnd=function setStartEnd(){dc.current.setStartEnd(scrollLeft,scrollLeft+size.width,nowposition,dayWidth.current)},horizontalChange=function horizontalChange(newScrollLeft){var new_startRow,new_nowposition=nowposition,new_left=-1;newScrollLeft>pxToScroll?(new_nowposition=nowposition-pxToScroll-0,new_left=0):newScrollLeft<=0?(new_nowposition=nowposition+pxToScroll+14,new_left=pxToScroll):new_left=newScrollLeft;var currentIndx=Math.trunc((newScrollLeft-nowposition)/dayWidth.current);(new_startRow=Math.trunc(scrollTop/(itemHeight||0)))+numVisibleRows>=(data||[]).length&&(data||[]).length,setStartEnd(),setCurrentDay(currentIndx),console.log("new day idx",currentIndx);var date=new Date,currentDate=date;date.setHours(0,0,0,0),null==currentDate||currentDate.setHours(0,0,0,0),date.setDate(date.getDate()+currentIndx),(null==date?void 0:date.getTime())!=date.getTime()&&(null==onDateChange||onDateChange(date)),setNowPosition(new_nowposition),setHeaderData(headerData),setScrollLeft(new_left),setStartRow(new_startRow)},calculateVerticalScrollVariables=function calculateVerticalScrollVariables(size){setPxToScroll(5e3*(1-size.width/5e3)-1)},_onHorizonChange=function _onHorizonChange(lowerLimit,upLimit){onHorizonChange&&onHorizonChange(lowerLimit,upLimit)},onFinishCreateLink=function onFinishCreateLink(task,position){if(console.log("End Link",task,taskToCreate,onCreateLink),onCreateLink&&task&&taskToCreate&&taskToCreate.task.id!=task.id){if(!taskToCreate.task.id||!task.id)return;var newLink={id:Object(index_browser.a)(),source:taskToCreate.task.id,sourceHandle:taskToCreate.position,target:task.id,targetHandle:position};console.log("New link",newLink),onCreateLink(newLink)}setInteractiveMode(!1),setTaskToCreate(void 0)},calcNumVisibleDays=function calcNumVisibleDays(size,newDayWidth){return console.log(size,newDayWidth||dayWidth),Math.ceil(size.width/(newDayWidth||dayWidth.current))+30},changeMode=function changeMode(newMode){if(console.log("Change mode",newMode),newMode!=_mode){var newDayWidth=utils_getDayWidth(newMode),scrollTime=Math.ceil(-currentday*newDayWidth/pxToScroll),_scrollLeft=(currentday*newDayWidth+nowposition)%pxToScroll;console.log(newMode,newDayWidth),setMode(newMode),dayWidth.current=newDayWidth,setNumVisibleDays(calcNumVisibleDays(size,newDayWidth)),setNowPosition(scrollTime*pxToScroll),setScrollLeft(_scrollLeft)}};return Object(react.useEffect)((function(){data&&!Object(lodash.isEqual)(data,_data)&&setData(data)}),[JSON.stringify(data)]),Object(react.useEffect)((function(){links&&!Object(lodash.isEqual)(links,_links)&&setLinks(links)}),[links]),Object(react.useEffect)((function(){mode&&mode!=_mode&&changeMode(mode)}),[mode]),Object(jsx_runtime.jsx)(TimelineContext.Provider,{value:{data:data,links:links,style:style,mode:_mode,scrollLeft:scrollLeft,moveTimeline:horizontalChange,changeMode:changeMode,dayWidth:dayWidth.current,itemHeight:itemHeight},children:Object(jsx_runtime.jsxs)(Box.a,{direction:"row",overflow:"hidden",round:"small",className:className+" timeLine",style:{position:"relative",flex:1},children:[Object(jsx_runtime.jsxs)("div",{className:"timeLine-side-main",style:sideStyle,children:[Object(jsx_runtime.jsx)(taskList_TaskList,{startRow:startRow,endRow:endRow,selectedItem:selectedItem,onSelectItem:function _onSelectItem(item){onSelectItem&&item!=selectedItem&&onSelectItem(item)},onUpdateTask:onUpdateTask,onScroll:function verticalChange(vertical){if(scrollTop!=vertical){var rowInfo=calculateStartEndRows(numVisibleRows,data,vertical);console.log("Vertical change",vertical,rowInfo.start,rowInfo),setScrollTop(vertical),rowInfo.start!==startRow&&setStartRow(rowInfo.start)}},nonEditable:nonEditableName}),Object(jsx_runtime.jsx)(taskList_VerticalSpliter,{enabled:resizable,onTaskListSizing:function onTaskListSizing(delta){setSideStyle({width:delta})}})]}),Object(jsx_runtime.jsxs)("div",{className:"timeLine-main",children:[Object(jsx_runtime.jsx)(Box.a,{style:{position:"absolute",height:"100%",width:"100%",top:0,left:0},className:"header-container",children:Object(jsx_runtime.jsx)(header_Headers,{dayStatus:dayStatus,dayInfo:dayInfo,headerData:headerData,numVisibleDays:numVisibleDays,currentday:currentday,nowposition:nowposition,scrollLeft:scrollLeft})}),Object(jsx_runtime.jsxs)(Box.a,{style:{position:"absolute",width:"100%",height:"calc(100% - 60px)",zIndex:9,top:60,left:0},children:[loading?Object(jsx_runtime.jsx)(Box.a,{style:{position:"absolute",top:0,right:0,left:0,bottom:0,background:"#ffffff42"},flex:!0,align:"center",justify:"center",children:Object(jsx_runtime.jsx)(Spinner.a,{size:"medium"})}):null,Object(jsx_runtime.jsx)(viewport_DataViewPort,{scrollLeft:scrollLeft,scrollTop:scrollTop,itemheight:itemHeight,nowposition:nowposition,startRow:startRow,endRow:endRow,data:data,selectedItem:selectedItem,onScroll:scrollData,onMouseDown:function doMouseDown(e){setDragging(!0),setDraggingPosition(e.clientX)},onMouseMove:function doMouseMove(e){if(dragging){var delta=draggingPosition-e.clientX;0!==delta&&(setDraggingPosition(e.clientX),horizontalChange(scrollLeft+delta))}},onMouseUp:function doMouseUp(e){setDragging(!1)},onMouseLeave:function doMouseLeave(e){setDragging(!1)},onTouchStart:function doTouchStart(e){setDragging(!0),setDraggingPosition(e.touches[0].clientX)},onTouchMove:function doTouchMove(e){if(dragging){var delta=draggingPosition-e.touches[0].clientX;0!==delta&&(setDraggingPosition(e.touches[0].clientX),horizontalChange(scrollLeft+delta))}},onTouchEnd:function doTouchEnd(e){setDragging(!1)},onTouchCancel:function doTouchCancel(e){setDragging(!1)},onSelectItem:onSelectItem,onUpdateTask:onUpdateTask,onTaskChanging:function onTaskChanging(changingTask){setChangingTask(changingTask)},onStartCreateLink:function onStartCreateLink(task,position){console.log("=> Start Link",task,position),setInteractiveMode(!0),setTaskToCreate({task:task,position:position})},onFinishCreateLink:onFinishCreateLink,boundaries:{lower:scrollLeft,upper:scrollLeft+size.width},onSize:function onSize(size){console.log(size,dayWidth),calculateVerticalScrollVariables(size),initialized||setInitialized(!0),setStartEnd();var newNumVisibleRows=Math.ceil(size.height/(itemHeight||0)),newNumVisibleDays=calcNumVisibleDays(size,dayWidth.current),rowInfo=calculateStartEndRows(newNumVisibleRows,data,scrollTop);setNumVisibleDays(newNumVisibleDays),console.log("DAYS",rowInfo,newNumVisibleRows,rowInfo),setNumVisibleRows(newNumVisibleRows),setStartRow(rowInfo.start),setSize(size)}}),Object(jsx_runtime.jsx)(LinkViewPort_LinkViewPort,{scrollLeft:scrollLeft,scrollTop:scrollTop,startRow:startRow,endRow:endRow,data:data||[],nowposition:nowposition,interactiveMode:interactiveMode,taskToCreate:taskToCreate,onFinishCreateLink:onFinishCreateLink,changingTask:changingTask,selectedItem:selectedItem,onSelectItem:onSelectItem,itemheight:itemHeight,links:links||[]})]})]})]})})};TimeLine_BaseTimeline.displayName="BaseTimeline";var Timeline=Object(styled_components_browser_esm.default)(TimeLine_BaseTimeline)(TimeLine_templateObject||(TimeLine_templateObject=function TimeLine_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n \n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  border: solid 1px rgb(207, 207, 205);\n  font-size: 12px;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n/* Main Area */\n\n.timeLine-main {\n  flex: 1 1 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow-y: hidden;\n}\n/* Main Area Header*/\n\n.timeLine-main-header-viewPort {\n  flex: 1;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  background-color: rgb(112, 112, 112);\n  overflow: hidden;\n}\n\n.timeLine-main-header-container {\n  flex: 0 0 60px;\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #333333;\n  overflow: hidden;\n  user-select: none;\n}\n\n.timeLine-main-header-day-item {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: rgb(112, 112, 112);\n  font-size: 10px;\n  text-align: center;\n  border-right: solid 1px;\n  border-top: solid 1px;\n  border-bottom: solid 1px;\n  top: 20px;\n  height: 40px;\n  color: white;\n  text-align: center;\n}\n\n.timeLine-main-header-top-item {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-right: solid 1px white;\n  height: 20px;\n  z-index: 91;\n}\n\n.timeLine-main-header-day-week {\n  flex: 0 0 12px;\n  padding: 4px;\n  z-index: 90;\n}\n\n.timeLine-main-header-day-month {\n  top: 0px;\n  position: sticky;\n  flex: 0 0 15px;\n  padding: 5px;\n  z-index: 90;\n}\n\n.timeLine-main-header-time {\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  height: 22px;\n  justify-content: stretch;\n}\n\n.timeLine-main-header-time-item {\n  border-left: solid 1px silver;\n  border-bottom: solid 1px silver;\n  border-top: solid 1px silver;\n  text-align: center;\n  padding-top: 5px;\n}\n/* Main Area Data*/\n\n.timeLine-main-data-viewPort {\n  flex: 1 1 auto;\n  position: relative;\n  overflow: hidden;\n}\n.timeLine-main-data-container {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background-color: rgb(255, 255, 255);\n}\n\n.timeLine-main-data-row {\n  position: absolute;\n  width: 100%;\n  height: 50px;\n}\n\n.timeLine-main-data-task {\n  position: absolute;\n  background-color: darkorchid;\n  border-radius: 14px;\n  color: white;\n  text-align: center;\n}\n\n.timeLine-main-data-task-side {\n  position: absolute;\n  width: 10px;\n  cursor: col-resize;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.timeLine-main-data-task-side-linker {\n  width: 8px;\n  height: 8px;\n  border-radius: 4px;\n  cursor: default;\n  z-index: 100;\n}\n.timeLine-main-data-task-side-linker:hover {\n  background-color: black;\n  border: solid 0.5px grey;\n}\n/* .timeLine-main-data-task:hover {\n    background-color:chocolate;\n    border:solid 2px darkorchid;\n    cursor: move;\n} */\n\n.timeLine-main-data-verticalLine {\n  flex: 1 1 auto;\n  height: 100%;\n  width: 24px;\n  background-color: white;\n  border-left-width: 0.5px;\n  border-left-color: rgb(207, 207, 205);\n  border-left-style: dashed;\n}\n\n/* Side Area */\n\n.timeLine-side-main {\n  flex: 0 0 auto;\n  width: 108px;\n  min-width: 108px;\n  display: flex;\n  flex-direction: row;\n}\n\n.timeLine-side {\n  flex: 1 0 100px;\n  display: flex;\n  flex-direction: column;\n  border-right: solid 1px rgb(207, 207, 205);\n}\n\n.verticalResizer {\n  flex: 0 0 8px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: col-resize;\n  border-right: solid 1px rgb(207, 207, 205);\n  height: 100%;\n}\n.squareGrip {\n  flex: 0 0 auto;\n\n  border-radius: 50%;\n  height: 5px;\n  width: 5px;\n  margin: 3px 0;\n}\n\n.timeLine-side-title {\n  flex: 0 0 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.timeLine-side-task-viewPort {\n  position: relative;\n  flex: 1 1 auto;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.timeLine-side-task-container {\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.timeLine-side-task-row {\n  background-color: rgb(112, 112, 112);\n  border-bottom-width: 0.5px;\n  border-bottom-color: rgb(207, 207, 205);\n  border-bottom-style: solid;\n  min-height: 30px;\n  color: grey;\n  text-align: center;\n  text-overflow: ellipsis;\n  outline: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n\n"])));try{Timeline.displayName="Timeline",Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{data:{defaultValue:{value:"[]"},description:"",name:"data",required:!1,type:{name:"Task[]"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"TimelineStyle"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},resizable:{defaultValue:null,description:"",name:"resizable",required:!1,type:{name:"boolean"}},nonEditableName:{defaultValue:null,description:"",name:"nonEditableName",required:!1,type:{name:"any"}},mode:{defaultValue:{value:"month"},description:"",name:"mode",required:!1,type:{name:"string"}},itemHeight:{defaultValue:{value:"30"},description:"",name:"itemHeight",required:!1,type:{name:"number"}},selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!1,type:{name:"any"}},links:{defaultValue:{value:"[]"},description:"",name:"links",required:!1,type:{name:"Link[]"}},config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"Partial<{ header: Partial<{ top: Partial<{ style: CSSProperties; }>; middle: Partial<{ style: CSSProperties; selectedStyle: CSSProperties; }>; bottom: Partial<...>; }>; taskList: Partial<...>; dataViewPort: Partial<...>; links: Partial<...>; }>"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"Date"}},onDateChange:{defaultValue:null,description:"",name:"onDateChange",required:!1,type:{name:"((date: Date) => void)"}},onUpdateTask:{defaultValue:null,description:"",name:"onUpdateTask",required:!1,type:{name:"((task: Task, position: { start: Date; end: Date; }) => void)"}},onCreateLink:{defaultValue:null,description:"",name:"onCreateLink",required:!1,type:{name:"((link: Link) => void)"}},onSelectItem:{defaultValue:null,description:"",name:"onSelectItem",required:!1,type:{name:"((item: Task) => void)"}},onHorizonChange:{defaultValue:null,description:"",name:"onHorizonChange",required:!1,type:{name:"((start: Date, end: Date) => void)"}},onNeedData:{defaultValue:null,description:"",name:"onNeedData",required:!1,type:{name:"any"}},dayInfo:{defaultValue:null,description:"",name:"dayInfo",required:!1,type:{name:"((day?: Moment) => any)"}},dayStatus:{defaultValue:null,description:"",name:"dayStatus",required:!1,type:{name:"((day: Moment) => any)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Timeline/TimeLine.tsx#Timeline"]={docgenInfo:Timeline.__docgenInfo,name:"Timeline",path:"src/components/Timeline/TimeLine.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}var Grommet=__webpack_require__("./node_modules/grommet/es6/components/Grommet/Grommet.js");function Timeline_stories_slicedToArray(arr,i){return function Timeline_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Timeline_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Timeline_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Timeline_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Timeline_stories_arrayLikeToArray(o,minLen)}(arr,i)||function Timeline_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Timeline_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Components/Timeline",component:Timeline,argTypes:{color:{control:"color"}}};var Timeline_stories_Template=function Template(args){var _useState2=Timeline_stories_slicedToArray(Object(react.useState)(args.data||[]),2),data=_useState2[0],setData=_useState2[1],_useState4=Timeline_stories_slicedToArray(Object(react.useState)(new Date),2),date=_useState4[0],setDate=_useState4[1];return Object(jsx_runtime.jsx)(Grommet.a,{style:{display:"flex",flex:1},theme:styles_dist.BaseStyle,children:Object(jsx_runtime.jsx)(Timeline,Object.assign({},args,{data:data,onUpdateTask:function onUpdateTask(task,position){console.log("Updaate");var d=data.slice(),ix=d.map((function(x){return x.id})).indexOf(task.id);d[ix].start=position.start,d[ix].end=position.end,setData(d)},date:date,onDateChange:setDate}))})};Timeline_stories_Template.displayName="Template";var Primary=Timeline_stories_Template.bind({});Primary.args={primary:!0,color:"green",size:"10px"};var WithItems=Timeline_stories_Template.bind({});WithItems.args={date:new Date,data:[{id:"1",start:new Date(2021,7,12),end:new Date(2021,11,12),name:"Item 1",color:"red",showLabel:!0},{id:"2",start:new Date(2021,6,12),end:new Date(2021,10,12),name:"Item 1",color:"red",showLabel:!0},{id:"3",start:new Date(2021,5,12),end:new Date(2021,9,12),name:"Item 1",color:"red",showLabel:!0}],primary:!0,color:"green",size:"10px",dayStatus:function dayStatus(day){return console.log("Day",day),"red"}};var HeaderColors=Timeline_stories_Template.bind({});HeaderColors.args={date:new Date,data:[{id:"1",start:new Date(2021,7,12),end:new Date(2021,11,12),name:"Item 1",color:"red",showLabel:!0},{id:"2",start:new Date(2021,6,12),end:new Date(2021,10,12),name:"Item 1",color:"red",showLabel:!0},{id:"3",start:new Date(2021,5,12),end:new Date(2021,9,12),name:"Item 1",color:"red",showLabel:!0}],primary:!0,color:"green",size:"10px",dayStatus:function dayStatus(day){var weekEnd=6==moment_default()(day).isoWeekday()||7==moment_default()(day).isoWeekday();return console.log("Day",day),weekEnd?"green":"orange"}};var ResizableSplitter=Timeline_stories_Template.bind({});ResizableSplitter.args={resizable:!0,color:"green",size:"10px"},Primary.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ data, setData ] = useState<any>(args.data || [])\n  const [ date, setDate ] = useState<Date>(new Date())\n return <Grommet \n    style={{display: 'flex', flex: 1}}\n    theme={BaseStyle}>\n    <Timeline {...args} data={data} onUpdateTask={(task: any, position: any) => {\n      console.log(\"Updaate\")\n      let d = data.slice()\n      let ix = d.map((x: any) => x.id).indexOf(task.id)\n      d[ix].start = position.start;\n      d[ix].end = position.end;\n\n      setData(d)\n    } } date={date} onDateChange={setDate} />\n  </Grommet>;\n}"}},Primary.parameters),WithItems.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ data, setData ] = useState<any>(args.data || [])\n  const [ date, setDate ] = useState<Date>(new Date())\n return <Grommet \n    style={{display: 'flex', flex: 1}}\n    theme={BaseStyle}>\n    <Timeline {...args} data={data} onUpdateTask={(task: any, position: any) => {\n      console.log(\"Updaate\")\n      let d = data.slice()\n      let ix = d.map((x: any) => x.id).indexOf(task.id)\n      d[ix].start = position.start;\n      d[ix].end = position.end;\n\n      setData(d)\n    } } date={date} onDateChange={setDate} />\n  </Grommet>;\n}"}},WithItems.parameters),HeaderColors.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ data, setData ] = useState<any>(args.data || [])\n  const [ date, setDate ] = useState<Date>(new Date())\n return <Grommet \n    style={{display: 'flex', flex: 1}}\n    theme={BaseStyle}>\n    <Timeline {...args} data={data} onUpdateTask={(task: any, position: any) => {\n      console.log(\"Updaate\")\n      let d = data.slice()\n      let ix = d.map((x: any) => x.id).indexOf(task.id)\n      d[ix].start = position.start;\n      d[ix].end = position.end;\n\n      setData(d)\n    } } date={date} onDateChange={setDate} />\n  </Grommet>;\n}"}},HeaderColors.parameters),ResizableSplitter.parameters=Object.assign({storySource:{source:"(args) => {\n  const [ data, setData ] = useState<any>(args.data || [])\n  const [ date, setDate ] = useState<Date>(new Date())\n return <Grommet \n    style={{display: 'flex', flex: 1}}\n    theme={BaseStyle}>\n    <Timeline {...args} data={data} onUpdateTask={(task: any, position: any) => {\n      console.log(\"Updaate\")\n      let d = data.slice()\n      let ix = d.map((x: any) => x.id).indexOf(task.id)\n      d[ix].start = position.start;\n      d[ix].end = position.end;\n\n      setData(d)\n    } } date={date} onDateChange={setDate} />\n  </Grommet>;\n}"}},ResizableSplitter.parameters)},"./src/modals/erp-modal/ERPModal.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OpenModal",(function(){return OpenModal}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Layer=(__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-iso-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/grommet/es6/components/Layer/Layer.js")),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),Select=__webpack_require__("./node_modules/grommet/es6/components/Select/Select.js"),DateInput=__webpack_require__("./node_modules/grommet/es6/components/DateInput/DateInput.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),Capacity=__webpack_require__("./node_modules/grommet-icons/es6/icons/Capacity.js"),Notes=__webpack_require__("./node_modules/grommet-icons/es6/icons/Notes.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),ColorDot=__webpack_require__("./src/components/ColorDot/ColorDot.tsx"),Add=__webpack_require__("./node_modules/grommet-icons/es6/icons/Add.js"),TextInput=(__webpack_require__("./node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js")),Close=__webpack_require__("./node_modules/grommet-icons/es6/icons/Close.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CapacityItem_CapacityItem=function CapacityItem(props){return Object(jsx_runtime.jsxs)(Box.a,{height:{min:"45px"},align:"center",direction:"row",children:[Object(jsx_runtime.jsx)(Box.a,{flex:!0,children:Object(jsx_runtime.jsx)(Select.a,{onChange:function onChange(_ref){var option=_ref.option;return props.updateCapacityItem("type",option)},value:props.item.type,placeholder:"Type",options:["Welder","Fabricator","Skilled Labourer","Civil Subcontractor","TA"]})}),Object(jsx_runtime.jsx)(Box.a,{flex:!0,children:Object(jsx_runtime.jsx)(Select.a,{value:props.item.location,onChange:function onChange(_ref2){var option=_ref2.option;return props.updateCapacityItem("location",option)},placeholder:"Location",options:["Site","Workshop"]})}),Object(jsx_runtime.jsx)(Box.a,{flex:!0,children:Object(jsx_runtime.jsx)(TextInput.a,{type:"number",value:props.item.estimate,onChange:function onChange(e){return props.updateCapacityItem("estimate",parseFloat(e.target.value))},placeholder:"Projects"==props.type?"Estimated hours":"People"})}),Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){return props.removeCapacityItem()},icon:Object(jsx_runtime.jsx)(Close.a,{size:"small",color:"red"})})]})};CapacityItem_CapacityItem.displayName="CapacityItem";try{CapacityItem_CapacityItem.displayName="CapacityItem",CapacityItem_CapacityItem.__docgenInfo={description:"",displayName:"CapacityItem",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"Projects"'},{value:'"People"'},{value:'"Estimates"'}]}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"any"}},updateCapacityItem:{defaultValue:null,description:"",name:"updateCapacityItem",required:!0,type:{name:"(key: string, value: any) => void"}},removeCapacityItem:{defaultValue:null,description:"",name:"removeCapacityItem",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modals/erp-modal/CapacityItem.tsx#CapacityItem"]={docgenInfo:CapacityItem_CapacityItem.__docgenInfo,name:"CapacityItem",path:"src/modals/erp-modal/CapacityItem.tsx#CapacityItem"})}catch(__react_docgen_typescript_loader_error){}var capacity_CapacityTab=function CapacityTab(_ref){var _plan$items,addCapacityItem=_ref.addCapacityItem,plan=_ref.plan,_removeCapacityItem=_ref.removeCapacityItem,_updateCapacityItem=_ref.updateCapacityItem,type=_ref.type;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Box.a,{height:{min:"min-content"},direction:"row",align:"center",justify:"between",children:[Object(jsx_runtime.jsx)(Text.a,{margin:"none",weight:"bold",children:"Capacity"}),Object(jsx_runtime.jsx)(Button.a,{onClick:addCapacityItem,hoverIndicator:!0,icon:Object(jsx_runtime.jsx)(Add.a,{size:"small"})})]}),Object(jsx_runtime.jsx)(Box.a,{gap:"xsmall",height:"min-content",overflow:"scroll",children:null===(_plan$items=plan.items)||void 0===_plan$items?void 0:_plan$items.map((function(x,ix){return Object(jsx_runtime.jsx)(CapacityItem_CapacityItem,{item:x,type:type,removeCapacityItem:function removeCapacityItem(){return _removeCapacityItem(ix)},updateCapacityItem:function updateCapacityItem(key,value){return _updateCapacityItem(ix,key,value)}})}))})]})};try{capacity_CapacityTab.displayName="CapacityTab",capacity_CapacityTab.__docgenInfo={description:"",displayName:"CapacityTab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modals/erp-modal/tabs/capacity.tsx#CapacityTab"]={docgenInfo:capacity_CapacityTab.__docgenInfo,name:"CapacityTab",path:"src/modals/erp-modal/tabs/capacity.tsx#CapacityTab"})}catch(__react_docgen_typescript_loader_error){}var TextArea=__webpack_require__("./node_modules/grommet/es6/components/TextArea/TextArea.js"),notes_NoteTab=function NoteTab(_ref){var notes=_ref.notes,updateNotes=_ref.updateNotes;return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(TextArea.a,{value:notes,onChange:updateNotes,focusIndicator:!1,rows:8,placeholder:"Notes"})})};try{notes_NoteTab.displayName="NoteTab",notes_NoteTab.__docgenInfo={description:"",displayName:"NoteTab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modals/erp-modal/tabs/notes.tsx#NoteTab"]={docgenInfo:notes_NoteTab.__docgenInfo,name:"NoteTab",path:"src/modals/erp-modal/tabs/notes.tsx#NoteTab"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var tab_options=[Object(jsx_runtime.jsx)(Capacity.a,{}),Object(jsx_runtime.jsx)(Notes.a,{})],erp_modal_ERPModal=function ERPModal(props){var _props$projects2,_useState2=_slicedToArray(Object(react.useState)(0),2),tab=_useState2[0],setTab=_useState2[1],_useState4=_slicedToArray(Object(react.useState)({items:[]}),2),plan=_useState4[0],setPlan=_useState4[1];Object(react.useEffect)((function(){var _props$selected,_props$selected$proje,_Date,_props$selected2,_Date2,_props$selected3;console.log(props.selected),setPlan(props.selected?Object.assign({},Object.assign({},props.selected),{project:null===(_props$selected=props.selected)||void 0===_props$selected||null===(_props$selected$proje=_props$selected.project)||void 0===_props$selected$proje?void 0:_props$selected$proje.id,startDate:null===(_Date=new Date(null===(_props$selected2=props.selected)||void 0===_props$selected2?void 0:_props$selected2.startDate))||void 0===_Date?void 0:_Date.toISOString(),endDate:null===(_Date2=new Date(null===(_props$selected3=props.selected)||void 0===_props$selected3?void 0:_props$selected3.endDate))||void 0===_Date2?void 0:_Date2.toISOString()}):{items:[]})}),[props.selected]);var _useState6=_slicedToArray(Object(react.useState)(""),2),search=_useState6[0],setSearch=_useState6[1],onClose=function onClose(){var _props$onClose;null===(_props$onClose=props.onClose)||void 0===_props$onClose||_props$onClose.call(props),setSearch(""),setPlan({items:[]})},addCapacityItem=function addCapacityItem(){var _plan$items,items=(null===(_plan$items=plan.items)||void 0===_plan$items?void 0:_plan$items.slice())||[];items.push({type:"",location:"",estimate:void 0}),setPlan(Object.assign({},plan,{items:items}))},removeCapacityItem=function removeCapacityItem(ix){var _plan$items2,items=(null===(_plan$items2=plan.items)||void 0===_plan$items2?void 0:_plan$items2.slice())||[];items.splice(ix,1),setPlan(Object.assign({},plan,{items:items}))},updateCapacityItem=function updateCapacityItem(ix,field,value){var _plan$items3,_Object$assign,items=(null===(_plan$items3=plan.items)||void 0===_plan$items3?void 0:_plan$items3.slice())||[];items[ix]=Object.assign(items[ix],((_Object$assign={})[field]=value,_Object$assign)),setPlan(Object.assign({},plan,{items:items}))},updateNotes=function updateNotes(e){setPlan(Object.assign({},plan,{notes:e.target.value}))};return props.open?Object(jsx_runtime.jsx)(Layer.a,{onClickOutside:onClose,onEsc:onClose,children:Object(jsx_runtime.jsxs)(Box.a,{height:{min:"50vh",max:"80vh"},round:"xxsmall",overflow:"hidden",background:"neutral-1",width:"large",flex:!0,children:[Object(jsx_runtime.jsx)(Box.a,{height:{min:"min-content"},background:"accent-2",pad:"xsmall",direction:"row",children:Object(jsx_runtime.jsx)(Text.a,{weight:"bold",children:"Capacity Plan"})}),Object(jsx_runtime.jsxs)(Box.a,{round:"xsmall",pad:"xsmall",gap:"xsmall",flex:!0,height:{max:"75vh"},direction:"column",children:[Object(jsx_runtime.jsxs)(Box.a,{height:{min:"min-content"},direction:"column",children:["Projects"==props.type&&Object(jsx_runtime.jsxs)(Box.a,{direction:"column",children:[Object(jsx_runtime.jsx)(Text.a,{alignSelf:"start",size:"small",children:"Project"}),Object(jsx_runtime.jsx)(Select.a,{onSearch:function onSearch(searchString){setSearch(searchString)},onChange:function onChange(_ref){var option=_ref.option;setPlan(Object.assign({},plan,{project:option.id}))},value:plan.project,labelKey:function labelKey(item){return item.id+" - "+item.name},valueKey:{key:"id",reduce:!0},options:(null===(_props$projects2=props.projects)||void 0===_props$projects2?void 0:_props$projects2.filter((function(a){return!search||(a.id+" - "+a.name).indexOf(search)>-1})))||[],children:function children(option){return Object(jsx_runtime.jsxs)(Box.a,{pad:"small",direction:"row",align:"center",children:[Object(jsx_runtime.jsx)(ColorDot.a,{color:"Project"==option.type?"#A3B696":"#edc25c",size:10}),Object(jsx_runtime.jsxs)(Text.a,{children:[option.id," - ",option.name]})]})}})]}),Object(jsx_runtime.jsxs)(Box.a,{gap:"xsmall",direction:"row",children:[Object(jsx_runtime.jsxs)(Box.a,{flex:!0,children:[Object(jsx_runtime.jsx)(Text.a,{alignSelf:"start",size:"small",children:"Start Date"}),Object(jsx_runtime.jsx)(DateInput.a,{inline:!1,calendarProps:{daysOfWeek:!0},value:plan.startDate,onChange:function onChange(_ref2){var value=_ref2.value;try{setPlan(Object.assign({},plan,{startDate:value.toLocaleString()}))}catch(e){}},format:"dd/mm/yyyy"})]}),Object(jsx_runtime.jsxs)(Box.a,{flex:!0,children:[Object(jsx_runtime.jsx)(Text.a,{alignSelf:"start",size:"small",children:"End Date"}),Object(jsx_runtime.jsx)(DateInput.a,{inline:!1,calendarProps:{daysOfWeek:!0},value:plan.endDate,onChange:function onChange(_ref3){var value=_ref3.value;try{setPlan(Object.assign({},plan,{endDate:value.toLocaleString()}))}catch(e){}},format:"dd/mm/yyyy"})]})]})]}),Object(jsx_runtime.jsxs)(Box.a,{height:"100%",direction:"row",children:[Object(jsx_runtime.jsx)(Box.a,{background:"accent-1",direction:"column",children:tab_options.map((function(x,ix){return Object(jsx_runtime.jsx)(Button.a,{icon:x,active:ix==tab,onClick:function onClick(){return setTab(ix)}})}))}),Object(jsx_runtime.jsx)(Box.a,{margin:{left:"xsmall"},flex:!0,overflow:"scroll",height:{min:"30vh",max:"100%"},gap:"xsmall",direction:"column",children:function renderTab(){switch(tab){case 0:return Object(jsx_runtime.jsx)(capacity_CapacityTab,{addCapacityItem:addCapacityItem,plan:plan,removeCapacityItem:removeCapacityItem,updateCapacityItem:updateCapacityItem,type:props.type});case 1:return Object(jsx_runtime.jsx)(notes_NoteTab,{notes:plan.notes,updateNotes:updateNotes})}}()})]})]}),Object(jsx_runtime.jsxs)(Box.a,{height:{min:"min-content"},pad:"xsmall",gap:"xsmall",direction:"row",justify:"end",children:[props.selected?Object(jsx_runtime.jsx)(Button.a,{color:"red",label:"Delete",onClick:function onDelete(){var _props$onDelete;null===(_props$onDelete=props.onDelete)||void 0===_props$onDelete||_props$onDelete.call(props)}}):null,Object(jsx_runtime.jsx)(Button.a,{onClick:onClose,label:"Close"}),Object(jsx_runtime.jsx)(Button.a,{primary:!0,onClick:function onSubmit(){var _props$projects,_props$projects$find,_props$onSubmit,submit_plan=Object.assign({},plan,{project:{type:null===(_props$projects=props.projects)||void 0===_props$projects||null===(_props$projects$find=_props$projects.find((function(a){return a.id==plan.project})))||void 0===_props$projects$find?void 0:_props$projects$find.type,id:plan.project},startDate:new Date(moment_default()(plan.startDate).set("hours",0).valueOf()),endDate:new Date(moment_default()(plan.endDate).set("hours",24).valueOf())});null===(_props$onSubmit=props.onSubmit)||void 0===_props$onSubmit||_props$onSubmit.call(props,submit_plan),setPlan({items:[]}),setSearch("")},label:"Save"})]})]})}):null};try{erp_modal_ERPModal.displayName="ERPModal",erp_modal_ERPModal.__docgenInfo={description:"",displayName:"ERPModal",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"Projects"'},{value:'"People"'},{value:'"Estimates"'}]}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"any"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"(() => void)"}},projects:{defaultValue:null,description:"",name:"projects",required:!1,type:{name:"{ id?: string | null; name?: string | null; type?: string | undefined; }[] | undefined"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"((plan: { project?: { id?: string; type?: string; } | undefined; startDate?: Date | undefined; endDate?: Date | undefined; notes?: string | undefined; items?: { ...; }[] | undefined; }) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modals/erp-modal/index.tsx#ERPModal"]={docgenInfo:erp_modal_ERPModal.__docgenInfo,name:"ERPModal",path:"src/modals/erp-modal/index.tsx#ERPModal"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/ERPModal",component:erp_modal_ERPModal};var ERPModal_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(erp_modal_ERPModal,Object.assign({},args))};ERPModal_stories_Template.displayName="Template";var OpenModal=ERPModal_stories_Template.bind({});OpenModal.args={open:!0},OpenModal.parameters=Object.assign({storySource:{source:"(args) => (\n  <ERPModal {...args} />\n)"}},OpenModal.parameters)},"./src/views/SidebarView/SidebarView.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react=__webpack_require__("./node_modules/react/index.js"),Add=__webpack_require__("./node_modules/grommet-icons/es6/icons/Add.js"),Box=(__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js")),react_router=__webpack_require__("./node_modules/react-router/index.js"),Button=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js")),Nav=__webpack_require__("./node_modules/grommet/es6/components/Nav/Nav.js"),dist=__webpack_require__("./node_modules/react-resize-aware/dist/index.js"),dist_default=__webpack_require__.n(dist);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useViewport_useViewport=function useViewport(){var _useResizeAware2=_slicedToArray(dist_default()(),2),resizeListener=_useResizeAware2[0],sizes=_useResizeAware2[1],width=sizes.width||window.innerWidth,height=sizes.height||window.innerHeight,isTablet=Object(react.useMemo)((function(){return width<1080}),[width,height]),isMobile=Object(react.useMemo)((function(){return width<800}),[width,height]);return{width:width,height:height,isMobile:isMobile,isTablet:isTablet,resizeListener:resizeListener}},Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),SidebarItem_SidebarMenuItem=function SidebarMenuItem(props){var isMobile=useViewport_useViewport().isMobile,path=Object(react_router.f)(props.path),isActive=Object(react_router.d)(path.pathname),iconSize=isMobile?"50px":"20px";return Object(jsx_runtime.jsxs)(Box.a,{onClick:props.onClick,hoverIndicator:"gray",direction:"row",pad:"small",align:"center",justify:props.minified?"center":void 0,background:isActive?"gray":"transparent",children:[Object(jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",width:iconSize,height:iconSize,children:props.icon}),!props.minified&&Object(jsx_runtime.jsx)(Text.a,{size:"15px",color:"neutral-1",margin:{left:"small"},children:props.label})]})};SidebarItem_SidebarMenuItem.displayName="SidebarMenuItem";try{SidebarItem_SidebarMenuItem.displayName="SidebarMenuItem",SidebarItem_SidebarMenuItem.__docgenInfo={description:"",displayName:"SidebarMenuItem",props:{path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},minified:{defaultValue:null,description:"",name:"minified",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Sidebar/SidebarItem.tsx#SidebarMenuItem"]={docgenInfo:SidebarItem_SidebarMenuItem.__docgenInfo,name:"SidebarMenuItem",path:"src/components/Sidebar/SidebarItem.tsx#SidebarMenuItem"})}catch(__react_docgen_typescript_loader_error){}function Sidebar_slicedToArray(arr,i){return function Sidebar_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Sidebar_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Sidebar_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Sidebar_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sidebar_arrayLikeToArray(o,minLen)}(arr,i)||function Sidebar_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sidebar_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Sidebar_BaseSidebar=function BaseSidebar(props){var _useViewport=useViewport_useViewport(),isMobile=(_useViewport.width,_useViewport.height,_useViewport.isMobile),defaultMinified=_useViewport.isTablet,_useState2=Sidebar_slicedToArray(Object(react.useState)(),2),getDirection=(_useState2[0],_useState2[1],function getDirection(){return isMobile?"row":"column"});return Object(jsx_runtime.jsxs)(Box.a,{width:isMobile?"100%":defaultMinified?"50px":"13vw",height:isMobile?"55px":"100%",background:{color:"brand"},elevation:"small",direction:getDirection(),children:[props.logo&&Object(jsx_runtime.jsx)(Button.a,{onClick:props.onLogoClick,icon:props.logo,style:{padding:"10%"},className:"sidebar-header-image"}),Object(jsx_runtime.jsx)(Nav.a,{gap:"none",direction:getDirection(),pad:"none",children:props.menu.map((function(datum){return Object(jsx_runtime.jsx)(SidebarItem_SidebarMenuItem,{minified:defaultMinified,onClick:function onClick(){props.onSelect(datum)},path:datum.path,label:datum.label,icon:datum.icon})}))})]})};Sidebar_BaseSidebar.displayName="BaseSidebar";var Sidebar=Sidebar_BaseSidebar;try{Sidebar.displayName="Sidebar",Sidebar.__docgenInfo={description:"",displayName:"Sidebar",props:{logo:{defaultValue:null,description:"",name:"logo",required:!1,type:{name:"any"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"{ name: string; email: string; }"}},menu:{defaultValue:null,description:"",name:"menu",required:!0,type:{name:"SidebarMenuItem[]"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"any"}},onLogoClick:{defaultValue:null,description:"",name:"onLogoClick",required:!1,type:{name:"(() => void)"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: SidebarMenuItem) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Sidebar/Sidebar.tsx#Sidebar"]={docgenInfo:Sidebar.__docgenInfo,name:"Sidebar",path:"src/components/Sidebar/Sidebar.tsx#Sidebar"})}catch(__react_docgen_typescript_loader_error){}var SidebarView_SidebarView=function SidebarView(props){var _props$menu,routing_table=null===(_props$menu=props.menu)||void 0===_props$menu?void 0:_props$menu.map((function(menu_item){return{path:menu_item.path,element:menu_item.component,children:[]}})),routes=Object(react_router.g)(routing_table||[]),navigate=Object(react_router.e)(),_useViewport=useViewport_useViewport(),resizeListener=(_useViewport.width,_useViewport.height,_useViewport.resizeListener),isMobile=_useViewport.isMobile,Components=(_useViewport.isTablet,[Object(jsx_runtime.jsx)(Sidebar,{menu:props.menu||[],onSelect:function onSelect(item){navigate(item.path)}}),Object(jsx_runtime.jsx)(Box.a,{pad:props.viewportPadding||"xsmall",flex:!0,children:routes})]);return Object(jsx_runtime.jsxs)(Box.a,{direction:isMobile?"column":"row",flex:!0,className:props.className,children:[resizeListener,isMobile?Components.reverse():Components]})};SidebarView_SidebarView.displayName="SidebarView";try{SidebarView_SidebarView.displayName="SidebarView",SidebarView_SidebarView.__docgenInfo={description:"",displayName:"SidebarView",props:{menu:{defaultValue:null,description:"",name:"menu",required:!1,type:{name:"any[]"}},viewportPadding:{defaultValue:null,description:"",name:"viewportPadding",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/SidebarView/SidebarView.tsx#SidebarView"]={docgenInfo:SidebarView_SidebarView.__docgenInfo,name:"SidebarView",path:"src/views/SidebarView/SidebarView.tsx#SidebarView"})}catch(__react_docgen_typescript_loader_error){}var react_router_dom=__webpack_require__("./node_modules/react-router-dom/index.js"),SidebarView_stories_Template=(__webpack_exports__.default={title:"Views/SidebarView",component:SidebarView_SidebarView,argTypes:{color:{control:"color"}}},function Template(args){return Object(jsx_runtime.jsx)(react_router_dom.a,{children:Object(jsx_runtime.jsx)(SidebarView_SidebarView,Object.assign({},args))})});SidebarView_stories_Template.displayName="Template";var SidebarView_stories_Item1=function Item1(){return Object(jsx_runtime.jsx)("div",{children:"Item 1"})};SidebarView_stories_Item1.displayName="Item1";var Primary=SidebarView_stories_Template.bind({});Primary.args={menu:[{label:"Item",icon:Object(jsx_runtime.jsx)(Add.a,{}),path:"item",component:Object(jsx_runtime.jsx)(SidebarView_stories_Item1,{})},{label:"Item 2",icon:Object(jsx_runtime.jsx)(Add.a,{}),path:"item2",component:Object(jsx_runtime.jsx)(SidebarView_stories_Item1,{})}]},Primary.parameters=Object.assign({storySource:{source:"(args) => (\n  <Router>\n    <SidebarView \n      {...args} />\n  </Router>\n)"}},Primary.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-interactions/dist/esm/preset/argsEnhancers.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){},2:function(module,exports){},3:function(module,exports){},4:function(module,exports){},5:function(module,exports){},6:function(module,exports){}},[[0,5,6]]]);